"use strict";(self.webpackChunkringoffire=self.webpackChunkringoffire||[]).push([[179],{592:()=>{function we(t){return"function"==typeof t}function Qu(t){const n=t(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Fp=Qu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Rl(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class gn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(we(i))try{i()}catch(s){e=s instanceof Fp?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{MN(s)}catch(o){e=e??[],o instanceof Fp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Fp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)MN(e);else{if(e instanceof gn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rl(n,e)}remove(e){const{_finalizers:n}=this;n&&Rl(n,e),e instanceof gn&&e._removeParent(this)}}gn.EMPTY=(()=>{const t=new gn;return t.closed=!0,t})();const SN=gn.EMPTY;function AN(t){return t instanceof gn||t&&"closed"in t&&we(t.remove)&&we(t.add)&&we(t.unsubscribe)}function MN(t){we(t)?t():t.unsubscribe()}const na={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Lp={setTimeout(t,e,...n){const{delegate:i}=Lp;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Lp;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function RN(t){Lp.setTimeout(()=>{const{onUnhandledError:e}=na;if(!e)throw t;e(t)})}function Yb(){}const K7=Qb("C",void 0,void 0);function Qb(t,e,n){return{kind:t,value:e,error:n}}let ia=null;function Vp(t){if(na.useDeprecatedSynchronousErrorHandling){const e=!ia;if(e&&(ia={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:i}=ia;if(ia=null,n)throw i}}else t()}class Xb extends gn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,AN(e)&&e.add(this)):this.destination=tK}static create(e,n,i){return new Xu(e,n,i)}next(e){this.isStopped?Jb(function Q7(t){return Qb("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Jb(function Y7(t){return Qb("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jb(K7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Z7=Function.prototype.bind;function Zb(t,e){return Z7.call(t,e)}class J7{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Bp(i)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Bp(i)}else Bp(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Bp(n)}}}class Xu extends Xb{constructor(e,n,i){let r;if(super(),we(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&na.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Zb(e.next,s),error:e.error&&Zb(e.error,s),complete:e.complete&&Zb(e.complete,s)}):r=e}this.destination=new J7(r)}}function Bp(t){na.useDeprecatedSynchronousErrorHandling?function X7(t){na.useDeprecatedSynchronousErrorHandling&&ia&&(ia.errorThrown=!0,ia.error=t)}(t):RN(t)}function Jb(t,e){const{onStoppedNotification:n}=na;n&&Lp.setTimeout(()=>n(t,e))}const tK={closed:!0,next:Yb,error:function eK(t){throw t},complete:Yb},ew="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ys(t){return t}function kN(t){return 0===t.length?Ys:1===t.length?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}let We=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function rK(t){return t&&t instanceof Xb||function iK(t){return t&&we(t.next)&&we(t.error)&&we(t.complete)}(t)&&AN(t)}(n)?n:new Xu(n,i,r);return Vp(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=NN(i))((r,s)=>{const o=new Xu({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[ew](){return this}pipe(...n){return kN(n)(this)}toPromise(n){return new(n=NN(n))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function NN(t){var e;return null!==(e=t??na.Promise)&&void 0!==e?e:Promise}const sK=Qu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Me=(()=>{class t extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new ON(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new sK}next(n){Vp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){Vp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Vp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?SN:(this.currentObservers=null,s.push(n),new gn(()=>{this.currentObservers=null,Rl(s,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new We;return n.source=this,n}}return t.create=(e,n)=>new ON(e,n),t})();class ON extends Me{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,e)}error(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==i?i:SN}}class wi extends Me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function PN(t){return we(t?.lift)}function Mt(t){return e=>{if(PN(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(t,e,n,i,r){return new oK(t,e,n,i,r)}class oK extends Xb{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(t,e){return Mt((n,i)=>{let r=0;n.subscribe(mt(i,s=>{i.next(t.call(e,s,r++))}))})}function iw(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function Qs(t){return this instanceof Qs?(this.v=t,this):new Qs(t)}function BN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function sw(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ow=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function UN(t){return we(t?.then)}function jN(t){return we(t[ew])}function $N(t){return Symbol.asyncIterator&&we(t?.[Symbol.asyncIterator])}function zN(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const HN=function TK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function GN(t){return we(t?.[HN])}function WN(t){return function VN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Qs?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:i,done:r}=yield Qs(n.read());if(r)return yield Qs(void 0);yield yield Qs(i)}}finally{n.releaseLock()}})}function qN(t){return we(t?.getReader)}function Yn(t){if(t instanceof We)return t;if(null!=t){if(jN(t))return function SK(t){return new We(e=>{const n=t[ew]();if(we(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ow(t))return function AK(t){return new We(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(UN(t))return function MK(t){return new We(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,RN)})}(t);if($N(t))return KN(t);if(GN(t))return function RK(t){return new We(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(qN(t))return function kK(t){return KN(WN(t))}(t)}throw zN(t)}function KN(t){return new We(e=>{(function NK(t,e){var n,i,r,s;return function FN(t,e,n,i){return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=BN(t);!(i=yield n.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function is(t,e,n,i=0,r=!1){const s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function tn(t,e,n=1/0){return we(e)?tn((i,r)=>ue((s,o)=>e(i,s,r,o))(Yn(t(i,r))),n):("number"==typeof e&&(n=e),Mt((i,r)=>function OK(t,e,n,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let g=!1;Yn(n(m,u++)).subscribe(mt(e,v=>{r?.(v),s?f(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?is(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(mt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,t,n)))}function kl(t=1/0){return tn(Ys,t)}const er=new We(t=>t.complete());function YN(t){return t&&we(t.schedule)}function aw(t){return t[t.length-1]}function QN(t){return we(aw(t))?t.pop():void 0}function Zu(t){return YN(aw(t))?t.pop():void 0}function Up(t,e=0){return Mt((n,i)=>{n.subscribe(mt(i,r=>is(i,t,()=>i.next(r),e),()=>is(i,t,()=>i.complete(),e),r=>is(i,t,()=>i.error(r),e)))})}function jp(t,e=0){return Mt((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function XN(t,e){if(!t)throw new Error("Iterable cannot be null");return new We(n=>{is(n,e,()=>{const i=t[Symbol.asyncIterator]();is(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function nn(t,e){return e?function $K(t,e){if(null!=t){if(jN(t))return function LK(t,e){return Yn(t).pipe(jp(e),Up(e))}(t,e);if(ow(t))return function BK(t,e){return new We(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(UN(t))return function VK(t,e){return Yn(t).pipe(jp(e),Up(e))}(t,e);if($N(t))return XN(t,e);if(GN(t))return function UK(t,e){return new We(n=>{let i;return is(n,e,()=>{i=t[HN](),is(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void n.error(o)}s?n.complete():n.next(r)},0,!0)}),()=>we(i?.return)&&i.return()})}(t,e);if(qN(t))return function jK(t,e){return XN(WN(t),e)}(t,e)}throw zN(t)}(t,e):Yn(t)}function $p(...t){const e=Zu(t),n=function FK(t,e){return"number"==typeof aw(t)?t.pop():e}(t,1/0),i=t;return i.length?1===i.length?Yn(i[0]):kl(n)(nn(i,e)):er}function W(...t){return nn(t,Zu(t))}function lw(t={}){const{connector:e=(()=>new Me),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Mt((m,g)=>{c++,!d&&!u&&h();const v=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=cw(p,r))}),v.subscribe(g),!o&&c>0&&(o=new Xu({next:y=>v.next(y),error:y=>{d=!0,h(),a=cw(f,n,y),v.error(y)},complete:()=>{u=!0,h(),a=cw(f,i),v.complete()}}),Yn(m).subscribe(o))})(s)}}function cw(t,e,...n){if(!0===e)return void t();if(!1===e)return;const i=new Xu({next:()=>{i.unsubscribe(),t()}});return Yn(e(...n)).subscribe(i)}function yr(t,e){return Mt((n,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();n.subscribe(mt(i,l=>{r?.unsubscribe();let c=0;const u=s++;Yn(t(l,u)).subscribe(r=mt(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function ZN(t,e=Ys){return t=t??zK,Mt((n,i)=>{let r,s=!0;n.subscribe(mt(i,o=>{const a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function zK(t,e){return t===e}function $e(t){for(let e in t)if(t[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function uw(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function dw(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const HK=$e({__forward_ref__:$e});function Ye(t){return t.__forward_ref__=Ye,t.toString=function(){return Gt(this())},t}function J(t){return hw(t)?t():t}function hw(t){return"function"==typeof t&&t.hasOwnProperty(HK)&&t.__forward_ref__===Ye}function fw(t){return t&&!!t.\u0275providers}const JN="https://g.co/ng/security#xss";class I extends Error{constructor(e,n){super(function zp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function te(t){return"string"==typeof t?t:null==t?"":String(t)}function Hp(t,e){throw new I(-201,!1)}function Bi(t,e){null==t&&function Ue(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Se(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gp(t){return eO(t,Wp)||eO(t,nO)}function eO(t,e){return t.hasOwnProperty(e)?t[e]:null}function tO(t){return t&&(t.hasOwnProperty(pw)||t.hasOwnProperty(ZK))?t[pw]:null}const Wp=$e({\u0275prov:$e}),pw=$e({\u0275inj:$e}),nO=$e({ngInjectableDef:$e}),ZK=$e({ngInjectorDef:$e});var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{});let mw;function oi(t){const e=mw;return mw=t,e}function rO(t,e,n){const i=Gp(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&he.Optional?null:void 0!==e?e:void Hp(Gt(t))}const Qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ju={},gw="__NG_DI_FLAG__",qp="ngTempTokenPath",eY=/\n/gm,sO="__source";let Nl;function Zs(t){const e=Nl;return Nl=t,e}function iY(t,e=he.Default){if(void 0===Nl)throw new I(-203,!1);return null===Nl?rO(t,void 0,e):Nl.get(t,e&he.Optional?null:void 0,e)}function C(t,e=he.Default){return(function iO(){return mw}()||iY)(J(t),e)}function V(t,e=he.Default){return C(t,Kp(e))}function Kp(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _w(t){const e=[];for(let n=0;n<t.length;n++){const i=J(t[n]);if(Array.isArray(i)){if(0===i.length)throw new I(900,!1);let r,s=he.Default;for(let o=0;o<i.length;o++){const a=i[o],l=rY(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(C(r,s))}else e.push(C(i))}return e}function ed(t,e){return t[gw]=e,t.prototype[gw]=e,t}function rY(t){return t[gw]}function rs(t){return{toString:t}.toString()}var Yp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Yp||{}),Ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ui||{});const ss={},Re=[],Qp=$e({\u0275cmp:$e}),yw=$e({\u0275dir:$e}),vw=$e({\u0275pipe:$e}),aO=$e({\u0275mod:$e}),os=$e({\u0275fac:$e}),td=$e({__NG_ELEMENT_ID__:$e}),lO=$e({__NG_ENV_ID__:$e});function cO(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function bw(t,e,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{const s=r,o=n[++i];dO(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function uO(t){return 3===t||4===t||6===t}function dO(t){return 64===t.charCodeAt(0)}function nd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||hO(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function hO(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}const fO="ng-template";function aY(t,e,n){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if("string"==typeof s&&r){const o=t[i++];if(n&&"class"===s&&-1!==cO(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<t.length&&"string"==typeof(s=t[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function pO(t){return 4===t.type&&t.value!==fO}function lY(t,e,n){return e===(4!==t.type||n?t.value:fO)}function cY(t,e,n){let i=4;const r=t.attrs||[],s=function hY(t){for(let e=0;e<t.length;e++)if(uO(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!lY(t,l,n)||""===l&&1===e.length){if(tr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!aY(t.attrs,c,n)){if(tr(i))return!1;o=!0}continue}const d=uY(8&i?"class":l,r,pO(t),n);if(-1===d){if(tr(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==cO(f,c,0)||2&i&&c!==h){if(tr(i))return!1;o=!0}}}}else{if(!o&&!tr(i)&&!tr(l))return!1;if(o&&tr(l))continue;o=!1,i=l|1&i}}return tr(i)||o}function tr(t){return 0==(1&t)}function uY(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){const o=e[r];if(o===t)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function fY(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function mO(t,e,n=!1){for(let i=0;i<e.length;i++)if(cY(t,e[i],n))return!0;return!1}function pY(t,e){e:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function gO(t,e){return t?":not("+e.trim()+")":e}function mY(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!tr(o)&&(e+=gO(s,r),r=""),i=o,s=s||!tr(i);n++}return""!==r&&(e+=gO(s,r)),e}function Vt(t){return rs(()=>{const e=yO(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Yp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Ui.Emulated,styles:t.styles||Re,_:null,schemas:t.schemas||null,tView:null,id:""};vO(n);const i=t.dependencies;return n.directiveDefs=Xp(i,!1),n.pipeDefs=Xp(i,!0),n.id=function CY(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function vY(t){return Pe(t)||Rn(t)}function bY(t){return null!==t}function ke(t){return rs(()=>({type:t.type,bootstrap:t.bootstrap||Re,declarations:t.declarations||Re,imports:t.imports||Re,exports:t.exports||Re,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _O(t,e){if(null==t)return ss;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}function B(t){return rs(()=>{const e=yO(t);return vO(e),e})}function Pe(t){return t[Qp]||null}function Rn(t){return t[yw]||null}function li(t){return t[vw]||null}function Ci(t,e){const n=t[aO]||null;if(!n&&!0===e)throw new Error(`Type ${Gt(t)} does not have '\u0275mod' property.`);return n}function yO(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Re,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_O(t.inputs,e),outputs:_O(t.outputs)}}function vO(t){t.features?.forEach(e=>e(t))}function Xp(t,e){if(!t)return null;const n=e?li:vY;return()=>("function"==typeof t?t():t).map(i=>n(i)).filter(bY)}const Wt=0,U=1,se=2,gt=3,nr=4,ra=5,kn=6,Pl=7,Ct=8,Fl=9,sa=10,ie=11,id=12,bO=13,Ll=14,Bt=15,rd=16,Vl=17,vr=18,sd=19,wO=20,Js=21,as=22,Zp=23,Jp=24,ve=25,ww=1,EO=2,br=7,Bl=9,_n=11;function Ii(t){return Array.isArray(t)&&"object"==typeof t[ww]}function ci(t){return Array.isArray(t)&&!0===t[ww]}function Ew(t){return 0!=(4&t.flags)}function oa(t){return t.componentOffset>-1}function tm(t){return 1==(1&t.flags)}function ir(t){return!!t.template}function Cw(t){return 0!=(512&t[se])}function aa(t,e){return t.hasOwnProperty(os)?t[os]:null}let SY=Qe.WeakRef??class TY{constructor(e){this.ref=e}deref(){return this.ref}},MY=0,wr=null,nm=!1;function rn(t){const e=wr;return wr=t,e}class TO{constructor(){this.id=MY++,this.ref=function AY(t){return new SY(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const i=n.producerNode.deref();if(void 0!==i&&n.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=nm;nm=!0;try{for(const[n,i]of this.consumers){const r=i.consumerNode.deref();void 0!==r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),r?.producers.delete(this.id))}}finally{nm=e}}producerAccessed(){if(nm)throw new Error("");if(null===wr)return;let e=wr.producers.get(this.id);void 0===e?(e={consumerNode:wr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:wr.trackingVersion},wr.producers.set(this.id,e),this.consumers.set(wr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=wr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==wr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let SO=null;const MO=()=>{};class OY extends TO{constructor(e,n,i){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=MO,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=rn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=MO,this.watch(this.registerOnCleanup)}finally{rn(e)}}cleanup(){this.cleanupFn()}}class PY{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Nn(){return RO}function RO(t){return t.type.prototype.ngOnChanges&&(t.setInput=LY),FY}function FY(){const t=NO(this),e=t?.current;if(e){const n=t.previous;if(n===ss)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function LY(t,e,n,i){const r=this.declaredInputs[n],s=NO(t)||function VY(t,e){return t[kO]=e}(t,{previous:ss,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new PY(l&&l.currentValue,e,a===ss),t[i]=e}Nn.ngInherit=!0;const kO="__ngSimpleChanges__";function NO(t){return t[kO]||null}const Er=function(t,e,n){};function rt(t){for(;Array.isArray(t);)t=t[Wt];return t}function sm(t,e){return rt(e[t])}function ui(t,e){return rt(e[t.index])}function FO(t,e){return t.data[e]}function di(t,e){const n=e[t];return Ii(n)?n:n[Wt]}function om(t){return 128==(128&t[se])}function eo(t,e){return null==e?null:t[e]}function LO(t){t[Vl]=0}function HY(t){1024&t[se]||(t[se]|=1024,BO(t,1))}function VO(t){1024&t[se]&&(t[se]&=-1025,BO(t,-1))}function BO(t,e){let n=t[gt];if(null===n)return;n[ra]+=e;let i=n;for(n=n[gt];null!==n&&(1===e&&1===i[ra]||-1===e&&0===i[ra]);)n[ra]+=e,i=n,n=n[gt]}const X={lFrame:QO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $O(){return X.bindingsEnabled}function jl(){return null!==X.skipHydrationRootTNode}function D(){return X.lFrame.lView}function Ie(){return X.lFrame.tView}function Aw(t){return X.lFrame.contextLView=t,t[Ct]}function Mw(t){return X.lFrame.contextLView=null,t}function yn(){let t=zO();for(;null!==t&&64===t.type;)t=t.parent;return t}function zO(){return X.lFrame.currentTNode}function Cr(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function Rw(){return X.lFrame.isParent}function kw(){X.lFrame.isParent=!1}function Qn(){const t=X.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $l(){return X.lFrame.bindingIndex++}function nQ(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nw(e)}function Nw(t){X.lFrame.currentDirectiveIndex=t}function qO(){return X.lFrame.currentQueryIndex}function Pw(t){X.lFrame.currentQueryIndex=t}function rQ(t){const e=t[U];return 2===e.type?e.declTNode:1===e.type?t[kn]:null}function KO(t,e,n){if(n&he.SkipSelf){let r=e,s=t;for(;!(r=r.parent,null!==r||n&he.Host||(r=rQ(s),null===r||(s=s[Ll],10&r.type))););if(null===r)return!1;e=r,t=s}const i=X.lFrame=YO();return i.currentTNode=e,i.lView=t,!0}function Fw(t){const e=YO(),n=t[U];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function YO(){const t=X.lFrame,e=null===t?null:t.child;return null===e?QO(t):e}function QO(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function XO(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ZO=XO;function Lw(){const t=XO();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xn(){return X.lFrame.selectedIndex}function la(t){X.lFrame.selectedIndex=t}function _t(){const t=X.lFrame;return FO(t.tView,t.selectedIndex)}let eP=!0;function am(){return eP}function to(t){eP=t}function lm(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function cm(t,e,n){tP(t,e,3,n)}function um(t,e,n,i){(3&t[se])===n&&tP(t,e,n,i)}function Vw(t,e){let n=t[se];(3&n)===e&&(n&=4095,n+=1,t[se]=n)}function tP(t,e,n,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&t[Vl]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(t[Vl]+=65536),(a<s||-1==s)&&(hQ(t,n,e,l),t[Vl]=(4294901760&t[Vl])+l+2),l++}function nP(t,e){Er(4,t,e);const n=rn(null);try{e.call(t)}finally{rn(n),Er(5,t,e)}}function hQ(t,e,n,i){const r=n[i]<0,s=n[i+1],a=t[r?-n[i]:n[i]];r?t[se]>>12<t[Vl]>>16&&(3&t[se])===e&&(t[se]+=4096,nP(a,s)):nP(a,s)}const zl=-1;class ld{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function iP(t){return t!==zl}function dm(t){return 32767&t}function hm(t,e){let n=function gQ(t){return t>>16}(t),i=e;for(;n>0;)i=i[Ll],n--;return i}let Uw=!0;function fm(t){const e=Uw;return Uw=t,e}const rP=255,sP=5;let _Q=0;const Ir={};function pm(t,e){const n=oP(t,e);if(-1!==n)return n;const i=e[U];i.firstCreatePass&&(t.injectorIndex=e.length,jw(i.data,t),jw(e,null),jw(i.blueprint,null));const r=$w(t,e),s=t.injectorIndex;if(iP(r)){const o=dm(r),a=hm(r,e),l=a[U].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function jw(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oP(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $w(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){if(i=fP(r),null===i)return zl;if(n++,r=r[Ll],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return zl}function zw(t,e,n){!function yQ(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(td)&&(i=n[td]),null==i&&(i=n[td]=_Q++);const r=i&rP;e.data[t+(r>>sP)]|=1<<r}(t,e,n)}function aP(t,e,n){if(n&he.Optional||void 0!==t)return t;Hp()}function lP(t,e,n,i){if(n&he.Optional&&void 0===i&&(i=null),!(n&(he.Self|he.Host))){const r=t[Fl],s=oi(void 0);try{return r?r.get(e,i,n&he.Optional):rO(e,i,n&he.Optional)}finally{oi(s)}}return aP(i,0,n)}function cP(t,e,n,i=he.Default,r){if(null!==t){if(2048&e[se]&&!(i&he.Self)){const o=function CQ(t,e,n,i,r){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[se]&&!(512&o[se]);){const a=uP(s,o,n,i|he.Self,Ir);if(a!==Ir)return a;let l=s.parent;if(!l){const c=o[wO];if(c){const u=c.get(n,Ir,i);if(u!==Ir)return u}l=fP(o),o=o[Ll]}s=l}return r}(t,e,n,i,Ir);if(o!==Ir)return o}const s=uP(t,e,n,i,Ir);if(s!==Ir)return s}return lP(e,n,i,r)}function uP(t,e,n,i,r){const s=function wQ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(td)?t[td]:void 0;return"number"==typeof e?e>=0?e&rP:EQ:e}(n);if("function"==typeof s){if(!KO(e,t,i))return i&he.Host?aP(r,0,i):lP(e,n,i,r);try{const o=s(i);if(null!=o||i&he.Optional)return o;Hp()}finally{ZO()}}else if("number"==typeof s){let o=null,a=oP(t,e),l=zl,c=i&he.Host?e[Bt][kn]:null;for((-1===a||i&he.SkipSelf)&&(l=-1===a?$w(t,e):e[a+8],l!==zl&&hP(i,!1)?(o=e[U],a=dm(l),e=hm(l,e)):a=-1);-1!==a;){const u=e[U];if(dP(s,a,u.data)){const d=bQ(a,e,n,o,i,c);if(d!==Ir)return d}l=e[a+8],l!==zl&&hP(i,e[U].data[a+8]===c)&&dP(s,a,e)?(o=u,a=dm(l),e=hm(l,e)):a=-1}}return r}function bQ(t,e,n,i,r,s){const o=e[U],a=o.data[t+8],u=mm(a,o,n,null==i?oa(a)&&Uw:i!=o&&0!=(3&a.type),r&he.Host&&s===a);return null!==u?ca(e,o,u,a):Ir}function mm(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,u=s>>20,h=r?a+u:t.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){const f=o[l];if(f&&ir(f)&&f.type===n)return l}return null}function ca(t,e,n,i){let r=t[n];const s=e.data;if(function fQ(t){return t instanceof ld}(r)){const o=r;o.resolving&&function GK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Be(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():te(t)}(s[n]));const a=fm(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?oi(o.injectImpl):null;KO(t,i,he.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function dQ(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=RO(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&oi(l),fm(a),o.resolving=!1,ZO()}}return r}function dP(t,e,n){return!!(n[e+(t>>sP)]&1<<t)}function hP(t,e){return!(t&he.Self||t&he.Host&&e)}class Hl{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return cP(this._tNode,this._lView,e,Kp(i),n)}}function EQ(){return new Hl(yn(),D())}function vn(t){return rs(()=>{const e=t.prototype.constructor,n=e[os]||Hw(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const s=r[os]||Hw(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Hw(t){return hw(t)?()=>{const e=Hw(J(t));return e&&e()}:aa(t)}function fP(t){const e=t[U],n=e.type;return 2===n?e.declTNode:1===n?t[kn]:null}const Wl="__parameters__";function Kl(t,e,n){return rs(()=>{const i=function Gw(t){return function(...n){if(t){const i=t(...n);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Wl)?l[Wl]:Object.defineProperty(l,Wl,{value:[]})[Wl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function dd(t,e){t.forEach(n=>Array.isArray(n)?dd(n,e):e(n))}function mP(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hd(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function xi(t,e,n){let i=Ql(t,e);return i>=0?t[1|i]=n:(i=~i,function MQ(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function Ww(t,e){const n=Ql(t,e);if(n>=0)return t[1|n]}function Ql(t,e){return function gP(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){const s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}(t,e,1)}const It=ed(Kl("Optional"),8),fd=ed(Kl("SkipSelf"),4);function wm(t){return 128==(128&t.flags)}var no=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(no||{});const Zw=new Map;let eX=0;const e0="__ngContext__";function On(t,e){Ii(e)?(t[e0]=e[sd],function nX(t){Zw.set(t[sd],t)}(e)):t[e0]=e}let t0;function n0(t,e){return t0(t,e)}function gd(t){const e=t[gt];return ci(e)?e[gt]:e}function r0(t){return PP(t[id])}function s0(t){return PP(t[nr])}function PP(t){for(;null!==t&&!ci(t);)t=t[nr];return t}function Jl(t,e,n,i,r){if(null!=i){let s,o=!1;ci(i)?s=i:Ii(i)&&(o=!0,i=i[Wt]);const a=rt(i);0===t&&null!==n?null==r?UP(e,n,a):ua(e,n,a,r||null,!0):1===t&&null!==n?ua(e,n,a,r||null,!0):2===t?function Tm(t,e,n){const i=xm(t,e);i&&function wX(t,e,n,i){t.removeChild(e,n,i)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function IX(t,e,n,i,r){const s=n[br];s!==rt(n)&&Jl(e,t,i,s,r);for(let a=_n;a<n.length;a++){const l=n[a];yd(l[U],l,t,e,i,s)}}(e,t,s,n,r)}}function Im(t,e,n){return t.createElement(e,n)}function LP(t,e){const n=t[Bl],i=n.indexOf(e);VO(e),n.splice(i,1)}function a0(t,e){if(t.length<=_n)return;const n=_n+e,i=t[n];if(i){const r=i[rd];null!==r&&r!==t&&LP(r,i),e>0&&(t[n-1][nr]=i[nr]);const s=gm(t,_n+e);!function fX(t,e){yd(t,e,e[ie],2,null,null),e[Wt]=null,e[kn]=null}(i[U],i);const o=s[vr];null!==o&&o.detachView(s[U]),i[gt]=null,i[nr]=null,i[se]&=-129}return i}function VP(t,e){if(!(256&e[se])){const n=e[ie];e[Zp]?.destroy(),e[Jp]?.destroy(),n.destroyNode&&yd(t,e,n,3,null,null),function gX(t){let e=t[id];if(!e)return l0(t[U],t);for(;e;){let n=null;if(Ii(e))n=e[id];else{const i=e[_n];i&&(n=i)}if(!n){for(;e&&!e[nr]&&e!==t;)Ii(e)&&l0(e[U],e),e=e[gt];null===e&&(e=t),Ii(e)&&l0(e[U],e),n=e&&e[nr]}e=n}}(e)}}function l0(t,e){if(!(256&e[se])){e[se]&=-129,e[se]|=256,function bX(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const r=e[n[i]];if(!(r instanceof ld)){const s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Er(4,a,l);try{l.call(a)}finally{Er(5,a,l)}}else{Er(4,r,s);try{s.call(r)}finally{Er(5,r,s)}}}}}(t,e),function vX(t,e){const n=t.cleanup,i=e[Pl];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else n[s].call(i[n[s+1]]);null!==i&&(e[Pl]=null);const r=e[Js];if(null!==r){e[Js]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(t,e),1===e[U].type&&e[ie].destroy();const n=e[rd];if(null!==n&&ci(e[gt])){n!==e[gt]&&LP(n,e);const i=e[vr];null!==i&&i.detachView(t)}!function iX(t){Zw.delete(t[sd])}(e)}}function c0(t,e,n){return function BP(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[Wt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=t.data[i.directiveStart+r];if(s===Ui.None||s===Ui.Emulated)return null}return ui(i,n)}}(t,e.parent,n)}function ua(t,e,n,i,r){t.insertBefore(e,n,i,r)}function UP(t,e,n){t.appendChild(e,n)}function jP(t,e,n,i,r){null!==i?ua(t,e,n,i,r):UP(t,e,n)}function xm(t,e){return t.parentNode(e)}function $P(t,e,n){return HP(t,e,n)}let u0,Sm,p0,HP=function zP(t,e,n){return 40&t.type?ui(t,n):null};function Dm(t,e,n,i){const r=c0(t,i,e),s=e[ie],a=$P(i.parent||e[kn],i,e);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)jP(s,r,n[l],a,!1);else jP(s,r,n,a,!1);void 0!==u0&&u0(s,i,e,n,r)}function _d(t,e){if(null!==e){const n=e.type;if(3&n)return ui(e,t);if(4&n)return d0(-1,t[e.index]);if(8&n){const i=e.child;if(null!==i)return _d(t,i);{const r=t[e.index];return ci(r)?d0(-1,r):rt(r)}}if(32&n)return n0(e,t)()||rt(t[e.index]);{const i=WP(t,e);return null!==i?Array.isArray(i)?i[0]:_d(gd(t[Bt]),i):_d(t,e.next)}}return null}function WP(t,e){return null!==e?t[Bt][kn].projection[e.projection]:null}function d0(t,e){const n=_n+t+1;if(n<e.length){const i=e[n],r=i[U].firstChild;if(null!==r)return _d(i,r)}return e[br]}function h0(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===e&&(a&&On(rt(a),i),n.flags|=2),32!=(32&n.flags))if(8&l)h0(t,e,n.child,i,r,s,!1),Jl(e,t,r,a,s);else if(32&l){const c=n0(n,i);let u;for(;u=c();)Jl(e,t,r,u,s);Jl(e,t,r,a,s)}else 16&l?KP(t,e,i,n,r,s):Jl(e,t,r,a,s);n=o?n.projectionNext:n.next}}function yd(t,e,n,i,r,s){h0(n,i,t.firstChild,e,r,s,!1)}function KP(t,e,n,i,r,s){const o=n[Bt],l=o[kn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Jl(e,t,r,l[c],s);else{let c=l;const u=o[gt];wm(i)&&(c.flags|=128),h0(t,e,c,u,r,s,!0)}}function YP(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function QP(t,e,n){const{mergedAttrs:i,classes:r,styles:s}=n;null!==i&&bw(t,e,i),null!==r&&YP(t,e,r),null!==s&&function DX(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function ec(t){return function f0(){if(void 0===Sm&&(Sm=null,Qe.trustedTypes))try{Sm=Qe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sm}()?.createHTML(t)||t}class da{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${JN})`}}class RX extends da{getTypeName(){return"HTML"}}class kX extends da{getTypeName(){return"Style"}}class NX extends da{getTypeName(){return"Script"}}class OX extends da{getTypeName(){return"URL"}}class PX extends da{getTypeName(){return"ResourceURL"}}function Di(t){return t instanceof da?t.changingThisBreaksApplicationSecurity:t}function xr(t,e){const n=function FX(t){return t instanceof da&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${JN})`)}return n===e}class $X{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ec(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class zX{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ec(e),n}}const GX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mm(t){return(t=String(t)).match(GX)?t:"unsafe:"+t}function us(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function bd(...t){const e={};for(const n of t)for(const i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}const tF=us("area,br,col,hr,img,wbr"),nF=us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iF=us("rp,rt"),g0=bd(tF,bd(nF,us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bd(iF,us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bd(iF,nF)),_0=us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rF=bd(_0,us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),WX=us("script,style,template");class qX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!g0.hasOwnProperty(n))return this.sanitizedSomething=!0,!WX.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!rF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;_0[a]&&(l=Mm(l)),this.buf.push(" ",o,'="',sF(l),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();g0.hasOwnProperty(n)&&!tF.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(sF(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const KX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YX=/([^\#-~ |!])/g;function sF(t){return t.replace(/&/g,"&amp;").replace(KX,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(YX,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rm;function oF(t,e){let n=null;try{Rm=Rm||function eF(t){const e=new zX(t);return function HX(){try{return!!(new window.DOMParser).parseFromString(ec(""),"text/html")}catch{return!1}}()?new $X(e):e}(t);let i=e?String(e):"";n=Rm.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Rm.getInertBodyElement(i)}while(i!==s);return ec((new qX).sanitizeChildren(y0(n)||n))}finally{if(n){const i=y0(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function y0(t){return"content"in t&&function QX(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var bn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bn||{});function km(t){const e=function wd(){const t=D();return t&&t[sa].sanitizer}();return e?e.sanitize(bn.URL,t)||"":xr(t,"URL")?Di(t):Mm(te(t))}class S{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ed=new S("ENVIRONMENT_INITIALIZER"),cF=new S("INJECTOR",-1),uF=new S("INJECTOR_DEF_TYPES");class dF{get(e,n=Ju){if(n===Ju){const i=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw i.name="NullInjectorError",i}return n}}function iZ(...t){return{\u0275providers:fF(0,t),\u0275fromNgModule:!0}}function fF(t,...e){const n=[],i=new Set;let r;return dd(e,s=>{const o=s;v0(o,n,[],i)&&(r||=[],r.push(o))}),void 0!==r&&pF(r,n),n}function pF(t,e){for(let n=0;n<t.length;n++){const{providers:r}=t[n];b0(r,s=>{e.push(s)})}}function v0(t,e,n,i){if(!(t=J(t)))return!1;let r=null,s=tO(t);const o=!s&&Pe(t);if(s||o){if(o&&!o.standalone)return!1;r=t}else{const l=t.ngModule;if(s=tO(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)v0(c,e,n,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{dd(s.imports,u=>{v0(u,e,n,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&pF(c,e)}if(!a){const c=aa(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:Re},{provide:uF,useValue:r,multi:!0},{provide:Ed,useValue:()=>C(r),multi:!0})}const l=s.providers;null==l||a||b0(l,u=>{e.push(u)})}}return r!==t&&void 0!==t.providers}function b0(t,e){for(let n of t)fw(n)&&(n=n.\u0275providers),Array.isArray(n)?b0(n,e):e(n)}const rZ=$e({provide:String,useValue:$e});function w0(t){return null!==t&&"object"==typeof t&&rZ in t}function ha(t){return"function"==typeof t}const E0=new S("Set Injector scope."),Nm={},oZ={};let C0;function Om(){return void 0===C0&&(C0=new dF),C0}class ds{}class I0 extends ds{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,D0(e,o=>this.processProvider(o)),this.records.set(cF,tc(void 0,this)),r.has("environment")&&this.records.set(ds,tc(void 0,this));const s=this.records.get(E0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uF.multi,Re,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Zs(this),i=oi(void 0);try{return e()}finally{Zs(n),oi(i)}}get(e,n=Ju,i=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lO))return e[lO](this);i=Kp(i);const r=Zs(this),s=oi(void 0);try{if(!(i&he.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function dZ(t){return"function"==typeof t||"object"==typeof t&&t instanceof S}(e)&&Gp(e);a=l&&this.injectableDefInScope(l)?tc(x0(e),Nm):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&he.Self?Om():this.parent).get(e,n=i&he.Optional&&n===Ju?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[qp]=o[qp]||[]).unshift(Gt(e)),r)throw o;return function sY(t,e,n,i){const r=t[qp];throw e[sO]&&r.unshift(e[sO]),t.message=function oY(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=Gt(e);if(Array.isArray(e))r=e.map(Gt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Gt(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(eY,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t[qp]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{oi(s),Zs(r)}}resolveInjectorInitializers(){const e=Zs(this),n=oi(void 0);try{const i=this.get(Ed.multi,Re,he.Self);for(const r of i)r()}finally{Zs(e),oi(n)}}toString(){const e=[],n=this.records;for(const i of n.keys())e.push(Gt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let n=ha(e=J(e))?e:J(e&&e.provide);const i=function lZ(t){return w0(t)?tc(void 0,t.useValue):tc(_F(t),Nm)}(e);if(ha(e)||!0!==e.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=tc(void 0,Nm,!0),r.factory=()=>_w(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Nm&&(n.value=oZ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function uZ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=J(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function x0(t){const e=Gp(t),n=null!==e?e.factory:aa(t);if(null!==n)return n;if(t instanceof S)throw new I(204,!1);if(t instanceof Function)return function aZ(t){const e=t.length;if(e>0)throw hd(e,"?"),new I(204,!1);const n=function XK(t){return t&&(t[Wp]||t[nO])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new I(204,!1)}function _F(t,e,n){let i;if(ha(t)){const r=J(t);return aa(r)||x0(r)}if(w0(t))i=()=>J(t.useValue);else if(function gF(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(..._w(t.deps||[]));else if(function mF(t){return!(!t||!t.useExisting)}(t))i=()=>C(J(t.useExisting));else{const r=J(t&&(t.useClass||t.provide));if(!function cZ(t){return!!t.deps}(t))return aa(r)||x0(r);i=()=>new r(..._w(t.deps))}return i}function tc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function D0(t,e){for(const n of t)Array.isArray(n)?D0(n,e):n&&fw(n)?D0(n.\u0275providers,e):e(n)}const Pm=new S("AppId",{providedIn:"root",factory:()=>hZ}),hZ="ng",yF=new S("Platform Initializer"),hs=new S("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Dr=new S("AnimationModuleType"),T0=new S("CSP nonce",{providedIn:"root",factory:()=>function vd(){if(void 0!==p0)return p0;if(typeof document<"u")return document;throw new I(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let bF=(t,e)=>null;function wF(t,e){return bF(t,e)}class wZ{}class IF{}class CZ{resolveComponentFactory(e){throw function EZ(t){const e=Error(`No component factory found for ${Gt(t)}.`);return e.ngComponent=t,e}(e)}}let ic=(()=>{class e{}return e.NULL=new CZ,e})();function IZ(){return rc(yn(),D())}function rc(t,e){return new Ne(ui(t,e))}let Ne=(()=>{class e{constructor(i){this.nativeElement=i}}return e.__NG_ELEMENT_ID__=IZ,e})();function xZ(t){return t instanceof Ne?t.nativeElement:t}class xd{}let fs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function DZ(){const t=D(),n=di(yn().index,t);return(Ii(n)?n:t)[ie]}(),e})(),TZ=(()=>{var t;class e{}return(t=e).\u0275prov=k({token:t,providedIn:"root",factory:()=>null}),e})();class io{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DF=new io("16.0.5"),V0={};function Dd(t){for(;t;){t[se]|=64;const e=gd(t);if(Cw(t)&&!e)return t;t=e}return null}function B0(t){return t.ngOriginalError}class Tr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&B0(e);for(;n&&B0(n);)n=B0(n);return n||null}}const AF=new S("",{providedIn:"root",factory:()=>!1});function ps(t){return t instanceof Function?t():t}class OF extends TO{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Dd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,i){const r=rn(this);this.trackingVersion++;try{e(n,i)}finally{rn(r)}}destroy(){this.trackingVersion++}}let jm=null;function PF(){return jm??=new OF,jm}function FF(t,e){return t[e]??PF()}function LF(t,e){const n=PF();n.hasReadASignal&&(t[e]=jm,n.lView=t,jm=new OF)}const re={};function Fe(t){VF(Ie(),D(),Xn()+t,!1)}function VF(t,e,n,i){if(!i)if(3==(3&e[se])){const s=t.preOrderCheckHooks;null!==s&&cm(e,s,n)}else{const s=t.preOrderHooks;null!==s&&um(e,s,0,n)}la(n)}function $F(t,e=null,n=null,i){const r=zF(t,e,n,i);return r.resolveInjectorInitializers(),r}function zF(t,e=null,n=null,i,r=new Set){const s=[n||Re,iZ(t)];return i=i||("object"==typeof t?void 0:Gt(t)),new I0(s,e||Om(),i||null,r)}let Rt=(()=>{var t;class e{static create(i,r){if(Array.isArray(i))return $F({name:""},r,i,"");{const s=i.name??"";return $F({name:s},i.parent,i.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Ju,t.NULL=new dF,t.\u0275prov=k({token:t,providedIn:"any",factory:()=>C(cF)}),t.__NG_ELEMENT_ID__=-1,e})();function b(t,e=he.Default){const n=D();return null===n?C(t,e):cP(yn(),n,J(t),e)}function $m(){throw new Error("invalid")}function zm(t,e,n,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Wt]=r,d[se]=140|i,(null!==c||t&&2048&t[se])&&(d[se]|=2048),LO(d),d[gt]=d[Ll]=t,d[Ct]=n,d[sa]=o||t&&t[sa],d[ie]=a||t&&t[ie],d[Fl]=l||t&&t[Fl]||null,d[kn]=s,d[sd]=function tX(){return eX++}(),d[as]=u,d[wO]=c,d[Bt]=2==e.type?t[Bt]:d,d}function oc(t,e,n,i,r){let s=t.data[e];if(null===s)s=function U0(t,e,n,i,r){const s=zO(),o=Rw(),l=t.data[e]=function KZ(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return jl()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,i,r),function tQ(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const o=function ad(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Cr(s,!0),s}function Td(t,e,n,i){if(0===n)return-1;const r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function HF(t,e,n,i,r){const s=FF(e,Zp),o=Xn(),a=2&i;try{if(la(-1),a&&e.length>ve&&VF(t,e,ve,!1),Er(a?2:0,r),a)s.runInContext(n,i,r);else{const c=rn(null);try{n(i,r)}finally{rn(c)}}}finally{a&&null===e[Zp]&&LF(e,Zp),la(o),Er(a?3:1,r)}}function j0(t,e,n){if(Ew(e)){const i=rn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{rn(i)}}}function $0(t,e,n){$O()&&(function tJ(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;oa(n)&&function lJ(t,e,n){const i=ui(e,t),o=Hm(t,zm(t,GF(n),null,n.onPush?64:16,i,e,null,t[sa].rendererFactory.createRenderer(i,n),null,null,null));t[e.index]=o}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||pm(n,e),On(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const l=t.data[a],c=ca(e,t,a,n);On(c,e),null!==o&&cJ(0,a-r,c,l,0,o),ir(l)&&(di(n.index,e)[Ct]=ca(e,t,a,n))}}(t,e,n,ui(n,e)),64==(64&n.flags)&&QF(t,e,n))}function z0(t,e,n=ui){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function GF(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=H0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function H0(t,e,n,i,r,s,o,a,l,c,u){const d=ve+i,h=d+r,f=function $Z(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:re);return n}(d,h),p="function"==typeof c?c():c;return f[U]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let WF=t=>null;function qF(t,e,n,i){for(let r in t)if(t.hasOwnProperty(r)){n=null===n?{}:n;const s=t[r];null===i?KF(n,e,r,s):i.hasOwnProperty(r)&&KF(n,e,i[r],s)}return n}function KF(t,e,n,i){t.hasOwnProperty(n)?t[n].push(e,i):t[n]=[e,i]}function Ti(t,e,n,i,r,s,o,a){const l=ui(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(Y0(t,n,u,i,r),oa(e)&&function XZ(t,e){const n=di(e,t);16&n[se]||(n[se]|=64)}(n,e.index)):3&e.type&&(i=function QZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function G0(t,e,n,i){if($O()){const r=null===i?null:{"":-1},s=function iJ(t,e){const n=t.directiveRegistry;let i=null,r=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(mO(e,o.selectors,!1))if(i||(i=[]),ir(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),W0(t,e,a.length)}else i.unshift(o),W0(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&YF(t,e,n,o,r,a),r&&function rJ(t,e,n){if(e){const i=t.localNames=[];for(let r=0;r<e.length;r+=2){const s=n[e[r+1]];if(null==s)throw new I(-301,!1);i.push(e[r],s)}}}(n,i,r)}n.mergedAttrs=nd(n.mergedAttrs,n.attrs)}function YF(t,e,n,i,r,s){for(let c=0;c<i.length;c++)zw(pm(n,e),t,i[c].type);!function oJ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Td(t,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];n.mergedAttrs=nd(n.mergedAttrs,u.hostAttrs),aJ(t,n,e,l,u),sJ(l,u,r),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function YZ(t,e,n){const r=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],h=n?n.get(d):null,p=h?h.outputs:null;l=qF(d.inputs,u,l,h?h.inputs:null),c=qF(d.outputs,u,c,p);const m=null===l||null===o||pO(e)?null:uJ(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,s)}function QF(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,o=function iQ(){return X.lFrame.currentDirectiveIndex}();try{la(s);for(let a=i;a<r;a++){const l=t.data[a],c=e[a];Nw(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&nJ(l,c)}}finally{la(-1),Nw(o)}}function nJ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function W0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function sJ(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ir(e)&&(n[""]=t)}}function aJ(t,e,n,i,r){t.data[i]=r;const s=r.factory||(r.factory=aa(r.type)),o=new ld(s,ir(r),b);t.blueprint[i]=o,n[i]=o,function JZ(t,e,n,i,r){const s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function eJ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,i,s)}}(t,e,i,Td(t,n,r.hostVars,re),r)}function Sr(t,e,n,i,r,s){const o=ui(t,e);!function q0(t,e,n,i,r,s,o){if(null==s)t.removeAttribute(e,r,n);else{const a=null==o?te(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}(e[ie],o,s,t.value,n,i,r)}function cJ(t,e,n,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)XF(i,n,o[a++],o[a++],o[a++])}function XF(t,e,n,i,r){const s=rn(null);try{null!==t.setInput?t.setInput(e,r,n,i):e[i]=r}finally{rn(s)}}function uJ(t,e,n){let i=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===i&&(i=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function ZF(t,e,n,i){return[t,!0,!1,e,null,0,i,n,null,null,null]}function JF(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const o=t.data[s];Pw(n[i]),o.contentQueries(2,e[s],s)}}}function Hm(t,e){return t[id]?t[bO][nr]=e:t[id]=e,t[bO]=e,e}function K0(t,e,n){Pw(0);const i=rn(null);try{e(t,n)}finally{rn(i)}}function eL(t){return t[Pl]||(t[Pl]=[])}function tL(t){return t.cleanup||(t.cleanup=[])}function iL(t,e){const n=t[Fl],i=n?n.get(Tr,null):null;i&&i.handleError(e)}function Y0(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];XF(t.data[o],e[o],i,a,r)}}function dJ(t,e){const n=di(e,t),i=n[U];!function hJ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n);const r=n[Wt];null!==r&&null===n[as]&&(n[as]=wF(r,n[Fl])),Q0(i,n,n[Ct])}function Q0(t,e,n){Fw(e);try{const i=t.viewQuery;null!==i&&K0(1,i,n);const r=t.template;null!==r&&HF(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&JF(t,e),t.staticViewQueries&&K0(2,t.viewQuery,n);const s=t.components;null!==s&&function fJ(t,e){for(let n=0;n<e.length;n++)dJ(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[se]&=-5,Lw()}}let rL=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(i,r,s){const o=typeof Zone>"u"?null:Zone.current,a=new OY(i,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let l;this.all.add(a),a.notify();const c=()=>{a.cleanup(),l?.(),this.all.delete(a),this.queue.delete(a)};return l=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[i,r]of this.queue)this.queue.delete(i),r?r.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=k({token:t,providedIn:"root",factory:()=>new t}),e})();function Gm(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=dw(r,a):2==s&&(i=dw(i,a+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function Sd(t,e,n,i,r=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&i.push(rt(s)),ci(s)){for(let a=_n;a<s.length;a++){const l=s[a],c=l[U].firstChild;null!==c&&Sd(l[U],l,c,i)}s[br]!==s[Wt]&&i.push(s[br])}const o=n.type;if(8&o)Sd(t,e,n.child,i);else if(32&o){const a=n0(n,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=WP(e,n);if(Array.isArray(a))i.push(...a);else{const l=gd(e[Bt]);Sd(l[U],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Wm(t,e,n,i=!0){const r=e[sa].rendererFactory;r.begin&&r.begin();try{qm(t,e,t.template,n)}catch(o){throw i&&iL(e,o),o}finally{r.end&&r.end(),e[sa].effectManager?.flush()}}function qm(t,e,n,i){const r=e[se];if(256!=(256&r)){e[sa].effectManager?.flush(),Fw(e);try{LO(e),function GO(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&HF(t,e,n,2,i);const o=3==(3&r);if(o){const c=t.preOrderCheckHooks;null!==c&&cm(e,c,null)}else{const c=t.preOrderHooks;null!==c&&um(e,c,0,null),Vw(e,0)}if(function vJ(t){for(let e=r0(t);null!==e;e=s0(e)){if(!e[EO])continue;const n=e[Bl];for(let i=0;i<n.length;i++){HY(n[i])}}}(e),function yJ(t){for(let e=r0(t);null!==e;e=s0(e))for(let n=_n;n<e.length;n++){const i=e[n],r=i[U];om(i)&&qm(r,i,r.template,i[Ct])}}(e),null!==t.contentQueries&&JF(t,e),o){const c=t.contentCheckHooks;null!==c&&cm(e,c)}else{const c=t.contentHooks;null!==c&&um(e,c,1),Vw(e,1)}!function jZ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const i=FF(e,Jp);try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)la(~s);else{const o=s,a=n[++r],l=n[++r];nQ(a,o),i.runInContext(l,2,e[o])}}}finally{null===e[Jp]&&LF(e,Jp),la(-1)}}(t,e);const a=t.components;null!==a&&function wJ(t,e){for(let n=0;n<e.length;n++)bJ(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&K0(2,l,i),o){const c=t.viewCheckHooks;null!==c&&cm(e,c)}else{const c=t.viewHooks;null!==c&&um(e,c,2),Vw(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[se]&=-73,VO(e)}finally{Lw()}}}function bJ(t,e){const n=di(e,t);if(om(n)){const i=n[U];80&n[se]?qm(i,n,i.template,n[Ct]):n[ra]>0&&X0(n)}}function X0(t){for(let i=r0(t);null!==i;i=s0(i))for(let r=_n;r<i.length;r++){const s=i[r];if(om(s))if(1024&s[se]){const o=s[U];qm(o,s,o.template,s[Ct])}else s[ra]>0&&X0(s)}const n=t[U].components;if(null!==n)for(let i=0;i<n.length;i++){const r=di(n[i],t);om(r)&&r[ra]>0&&X0(r)}}class Ad{get rootNodes(){const e=this._lView,n=e[U];return Sd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[gt];if(ci(e)){const n=e[8],i=n?n.indexOf(this):-1;i>-1&&(a0(e,i),gm(n,i))}this._attachedToViewContainer=!1}VP(this._lView[U],this._lView)}onDestroy(e){!function UO(t,e){if(256==(256&t[se]))throw new I(911,!1);null===t[Js]&&(t[Js]=[]),t[Js].push(e)}(this._lView,e)}markForCheck(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){Wm(this._lView[U],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mX(t,e){yd(t,e,e[ie],2,null,null)}(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class EJ extends Ad{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Wm(e[U],e,e[Ct],!1)}checkNoChanges(){}get context(){return null}}class sL extends ic{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Pe(e);return new Md(n,this.ngModule)}}function oL(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class IJ{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Kp(i);const r=this.injector.get(e,V0,i);return r!==V0||n===V0?r:this.parentInjector.get(e,n,i)}}class Md extends IF{get inputs(){return oL(this.componentDef.inputs)}get outputs(){return oL(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function gY(t){return t.map(mY).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=(r=r||this.ngModule)instanceof ds?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new IJ(e,s):e,a=o.get(xd,null);if(null===a)throw new I(407,!1);const u={rendererFactory:a,sanitizer:o.get(TZ,null),effectManager:o.get(rL,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function zZ(t,e,n,i){const s=i.get(AF,!1)||n===Ui.ShadowDom,o=t.selectRootElement(e,s);return function HZ(t){WF(t)}(o),o}(d,i,this.componentDef.encapsulation,o):Im(d,h,function CJ(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,m=H0(0,null,null,1,0,null,null,null,null,null,null),g=zm(null,m,null,p,null,null,u,d,o,null,null);let v,y;Fw(g);try{const x=this.componentDef;let R,j=null;x.findHostDirectiveDefs?(R=[],j=new Map,x.findHostDirectiveDefs(x,R,j),R.push(x)):R=[x];const K=function DJ(t,e){const n=t[U],i=ve;return t[i]=e,oc(n,i,2,"#host",null)}(g,f),ye=function TJ(t,e,n,i,r,s,o){const a=r[U];!function SJ(t,e,n,i){for(const r of t)e.mergedAttrs=nd(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Gm(e,e.mergedAttrs,!0),null!==n&&QP(i,n,e))}(i,t,e,o);let l=null;null!==e&&(l=wF(e,r[Fl]));const c=s.rendererFactory.createRenderer(e,n),u=zm(r,GF(n),null,n.onPush?64:16,r[t.index],t,s,c,null,null,l);return a.firstCreatePass&&W0(a,t,i.length-1),Hm(r,u),r[t.index]=u}(K,f,x,R,g,u,d);y=FO(m,ve),f&&function MJ(t,e,n,i){if(i)bw(t,n,["ng-version",DF.full]);else{const{attrs:r,classes:s}=function _Y(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!tr(r))break;r=s}i++}return{attrs:e,classes:n}}(e.selectors[0]);r&&bw(t,n,r),s&&s.length>0&&YP(t,n,s.join(" "))}}(d,x,f,i),void 0!==n&&function RJ(t,e,n){const i=t.projection=[];for(let r=0;r<e.length;r++){const s=n[r];i.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),v=function AJ(t,e,n,i,r,s){const o=yn(),a=r[U],l=ui(o,r);YF(a,r,o,n,null,i);for(let u=0;u<n.length;u++)On(ca(r,a,o.directiveStart+u,o),r);QF(a,r,o),l&&On(l,r);const c=ca(r,a,o.directiveStart+o.componentOffset,o);if(t[Ct]=r[Ct]=c,null!==s)for(const u of s)u(c,e);return j0(a,o,t),c}(ye,x,R,j,g,[kJ]),Q0(m,g,null)}finally{Lw()}return new xJ(this.componentType,v,rc(y,g),g,y)}}class xJ extends wZ{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new EJ(r),this.componentType=e}setInput(e,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Y0(s[U],s,r,e,n),this.previousInputValues.set(e,n),Dd(di(this._tNode.index,s))}}get injector(){return new Hl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kJ(){const t=yn();lm(D()[U],t)}function me(t){let e=function aL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const i=[t];for(;e;){let r;if(ir(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);const o=t;o.inputs=Z0(t.inputs),o.declaredInputs=Z0(t.declaredInputs),o.outputs=Z0(t.outputs);const a=r.hostBindings;a&&FJ(t,a);const l=r.viewQuery,c=r.contentQueries;if(l&&OJ(t,l),c&&PJ(t,c),uw(t.inputs,r.inputs),uw(t.declaredInputs,r.declaredInputs),uw(t.outputs,r.outputs),ir(r)&&r.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function NJ(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=nd(r.hostAttrs,n=nd(n,r.hostAttrs))}}(i)}function Z0(t){return t===ss?{}:t===Re?[]:t}function OJ(t,e){const n=t.viewQuery;t.viewQuery=n?(i,r)=>{e(i,r),n(i,r)}:e}function PJ(t,e){const n=t.contentQueries;t.contentQueries=n?(i,r,s)=>{e(i,r,s),n(i,r,s)}:e}function FJ(t,e){const n=t.hostBindings;t.hostBindings=n?(i,r)=>{e(i,r),n(i,r)}:e}function Km(t){return!!J0(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function J0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ar(t,e,n){return t[e]=n}function Pn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Kt(t,e,n,i){const r=D();return Pn(r,$l(),e)&&(Ie(),Sr(_t(),r,t,e,n,i)),Kt}function lc(t,e,n,i){return Pn(t,$l(),n)?e+te(n)+i:re}function st(t,e,n,i,r,s,o,a){const l=D(),c=Ie(),u=t+ve,d=c.firstCreatePass?function aee(t,e,n,i,r,s,o,a,l){const c=e.consts,u=oc(e,t,4,o||null,eo(c,a));G0(e,n,u,eo(c,l)),lm(e,u);const d=u.tView=H0(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,i,r,s,o):c.data[u];Cr(d,!1);const h=CL(c,l,d,t);am()&&Dm(c,l,h,d),On(h,l),Hm(l,l[u]=ZF(h,l,h,d)),tm(d)&&$0(c,l,d),null!=o&&z0(l,d,a)}let CL=function IL(t,e,n,i){return to(!0),e[ie].createComment("")};function sE(t){return function Ul(t,e){return t[e]}(function eQ(){return X.lFrame.contextLView}(),ve+t)}function Ee(t,e,n){const i=D();return Pn(i,$l(),e)&&Ti(Ie(),_t(),i,t,e,i[ie],n,!1),Ee}function oE(t,e,n,i,r){const o=r?"class":"style";Y0(t,n,e.inputs[o],o,i)}function oe(t,e,n,i){const r=D(),s=Ie(),o=ve+t,a=r[ie],l=s.firstCreatePass?function dee(t,e,n,i,r,s){const o=e.consts,l=oc(e,t,2,i,eo(o,r));return G0(e,n,l,eo(o,s)),null!==l.attrs&&Gm(l,l.attrs,!1),null!==l.mergedAttrs&&Gm(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,n,i):s.data[o],c=xL(s,r,l,a,e,t);r[o]=c;const u=tm(l);return Cr(l,!0),QP(a,c,l),32!=(32&l.flags)&&am()&&Dm(s,r,c,l),0===function WY(){return X.lFrame.elementDepthCount}()&&On(c,r),function qY(){X.lFrame.elementDepthCount++}(),u&&($0(s,r,l),j0(s,l,r)),null!==i&&z0(r,l),oe}function ge(){let t=yn();Rw()?kw():(t=t.parent,Cr(t,!1));const e=t;(function YY(t){return X.skipHydrationRootTNode===t})(e)&&function JY(){X.skipHydrationRootTNode=null}(),function KY(){X.lFrame.elementDepthCount--}();const n=Ie();return n.firstCreatePass&&(lm(n,t),Ew(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function pQ(t){return 0!=(8&t.flags)}(e)&&oE(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function mQ(t){return 0!=(16&t.flags)}(e)&&oE(n,e,D(),e.stylesWithoutHost,!1),ge}function yt(t,e,n,i){return oe(t,e,n,i),ge(),yt}let xL=(t,e,n,i,r,s)=>(to(!0),Im(i,r,function JO(){return X.lFrame.currentNamespace}()));function cE(){return D()}function Pd(t){return!!t&&"function"==typeof t.then}function SL(t){return!!t&&"function"==typeof t.subscribe}function xt(t,e,n,i){const r=D(),s=Ie(),o=yn();return function ML(t,e,n,i,r,s,o){const a=tm(i),c=t.firstCreatePass&&tL(t),u=e[Ct],d=eL(e);let h=!0;if(3&i.type||o){const m=ui(i,e),g=o?o(m):m,v=d.length,y=o?R=>o(rt(R[i.index])):i.index;let x=null;if(!o&&a&&(x=function _ee(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===n&&r[s+1]===i){const a=e[Pl],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,r,i.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,h=!1;else{s=kL(i,e,u,s,!1);const R=n.listen(g,r,s);d.push(s,R),c&&c.push(r,y,v,v+1)}}else s=kL(i,e,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const j=e[p[g]][p[g+1]].subscribe(s),K=d.length;d.push(s,j),c&&c.push(r,i.index,K,-(K+1))}}}(s,r,r[ie],o,t,e,i),xt}function RL(t,e,n,i){try{return Er(6,e,n),!1!==n(i)}catch(r){return iL(t,r),!1}finally{Er(7,e,n)}}function kL(t,e,n,i,r){return function s(o){if(o===Function)return i;Dd(t.componentOffset>-1?di(t.index,e):e);let l=RL(e,n,i,o),c=s.__ngNextListenerFn__;for(;c;)l=RL(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function fi(t=1){return function sQ(t){return(X.lFrame.contextLView=function oQ(t,e){for(;t>0;)e=e[Ll],t--;return e}(t,X.lFrame.contextLView))[Ct]}(t)}function yee(t,e){let n=null;const i=function dY(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?mO(t,s,!0):pY(i,s))return r}else n=r}return n}function gs(t){const e=D()[Bt][kn];if(!e.projection){const i=e.projection=hd(t?t.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=t?yee(s,t):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function ot(t,e=0,n){const i=D(),r=Ie(),s=oc(r,ve+t,16,null,n||null);null===s.projection&&(s.projection=e),kw(),(!i[as]||jl())&&32!=(32&s.flags)&&function CX(t,e,n){KP(e[ie],0,e,n,c0(t,n,e),$P(n.parent||e[kn],n,e))}(r,i,s)}function Fd(t,e,n,i,r){const s=D(),o=lc(s,e,n,i);return o!==re&&Ti(Ie(),_t(),s,t,o,s[ie],r,!1),Fd}function Jm(t,e){return t<<17|e<<2}function ro(t){return t>>17&32767}function uE(t){return 2|t}function pa(t){return(131068&t)>>2}function dE(t,e){return-131069&t|e<<2}function hE(t){return 1|t}function $L(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?ro(s):pa(s),l=!1;for(;0!==a&&(!1===l||o);){const u=t[a+1];Iee(t[a],e)&&(l=!0,t[a+1]=i?hE(u):uE(u)),a=i?ro(u):pa(u)}l&&(t[n+1]=i?uE(s):hE(s))}function Iee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ql(t,e)>=0}function eg(t,e,n){return rr(t,e,n,!1),eg}function ht(t,e){return rr(t,e,null,!0),ht}function rr(t,e,n,i){const r=D(),s=Ie(),o=function cs(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function QL(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[Xn()],o=function YL(t,e){return e>=t.expandoStartIndex}(t,n);(function e2(t,e){return 0!=(t.flags&(e?8:16))})(s,i)&&null===e&&!o&&(e=!1),e=function Nee(t,e,n,i){const r=function Ow(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Ld(n=fE(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=fE(r,t,e,n,i),null===s){let l=function Oee(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==pa(i))return t[ro(i)]}(t,e,i);void 0!==l&&Array.isArray(l)&&(l=fE(null,t,e,l[1],i),l=Ld(l,e.attrs,i),function Pee(t,e,n,i){t[ro(n?e.classBindings:e.styleBindings)]=i}(t,e,i,l))}else s=function Fee(t,e,n){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Ld(i,t[s].hostAttrs,n);return Ld(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function Eee(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=ro(o),l=pa(o);t[i]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||Ql(n,u)>0)&&(c=!0)):u=n,r)if(0!==l){const h=ro(t[a+1]);t[i+1]=Jm(h,a),0!==h&&(t[h+1]=dE(t[h+1],i)),t[a+1]=function bee(t,e){return 131071&t|e<<17}(t[a+1],i)}else t[i+1]=Jm(a,0),0!==a&&(t[a+1]=dE(t[a+1],i)),a=i;else t[i+1]=Jm(l,0),0===a?a=i:t[l+1]=dE(t[l+1],i),l=i;c&&(t[i+1]=uE(t[i+1])),$L(t,u,i,!0),$L(t,u,i,!1),function Cee(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ql(s,e)>=0&&(n[i+1]=hE(n[i+1]))}(e,u,t,i,s),o=Jm(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}(s,t,o,i),e!==re&&Pn(r,o,e)&&function ZL(t,e,n,i,r,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function wee(t){return 1==(1&t)}(c)?JL(l,e,n,r,pa(c),o):void 0;tg(u)||(tg(s)||function vee(t){return 2==(2&t)}(c)&&(s=JL(l,null,n,r,a,o)),function xX(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=-1===i.indexOf("-")?void 0:no.DashCase;null==r?t.removeStyle(n,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=no.Important),t.setStyle(n,i,r,s))}}(i,o,sm(Xn(),n),r,s))}(s,s.data[Xn()],r,r[ie],t,r[o+1]=function Uee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Gt(Di(t)))),t}(e,n),i,o)}function fE(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=Ld(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Ld(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xi(t,o,!!n||e[++s]))}return void 0===t?null:t}function JL(t,e,n,i,r,s){const o=null===e;let a;for(;r>0;){const l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[r+1];h===re&&(h=d?Re:void 0);let f=d?Ww(h,i):u===i?h:void 0;if(c&&!tg(f)&&(f=Ww(l,i)),tg(f)&&(a=f,o))return a;const p=t[r+1];r=o?ro(p):pa(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Ww(l,i))}return a}function tg(t){return void 0!==t}function zi(t,e=""){const n=D(),i=Ie(),r=t+ve,s=i.firstCreatePass?oc(i,r,1,e,null):i.data[r],o=t2(i,n,s,e,t);n[r]=o,am()&&Dm(i,n,o,s),Cr(s,!1)}let t2=(t,e,n,i,r)=>(to(!0),function Cm(t,e){return t.createText(e)}(e[ie],i));function pE(t){return ma("",t,""),pE}function ma(t,e,n){const i=D(),r=lc(i,t,e,n);return r!==re&&function ms(t,e,n){const i=sm(e,t);!function FP(t,e,n){t.setValue(e,n)}(t[ie],i,n)}(i,Xn(),r),ma}function _c(t,e,n){const i=D();return Pn(i,$l(),e)&&Ti(Ie(),_t(),i,t,e,i[ie],n,!0),_c}const vc="en-US";let C2=vc;function _E(t,e,n,i,r){if(t=J(t),Array.isArray(t))for(let s=0;s<t.length;s++)_E(t[s],e,n,i,r);else{const s=Ie(),o=D();let a=ha(t)?t:J(t.provide),l=_F(t);const c=yn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ha(t)||!t.multi){const f=new ld(l,r,b),p=vE(a,e,r?u:u+h,d);-1===p?(zw(pm(c,o),s,a),yE(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=vE(a,e,u+h,d),p=vE(a,e,u,u+h),g=p>=0&&n[p];if(r&&!g||!r&&!(f>=0&&n[f])){zw(pm(c,o),s,a);const v=function one(t,e,n,i,r){const s=new ld(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,K2(s,r,i&&!n),s}(r?sne:rne,n.length,r,i,l);!r&&g&&(n[p].providerFactory=v),yE(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(v),o.push(v)}else yE(s,t,f>-1?f:p,K2(n[r?p:f],l,!r&&i));!r&&i&&g&&n[p].componentProviders++}}}function yE(t,e,n,i){const r=ha(e),s=function sZ(t){return!!t.useClass}(e);if(r||s){const l=(s?J(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function K2(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vE(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function rne(t,e,n,i){return bE(this.multi,[])}function sne(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ca(n,n[U],this.providerFactory.index,i);s=a.slice(0,o),bE(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],bE(r,s);return s}function bE(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ze(t,e=[]){return n=>{n.providersResolver=(i,r)=>function ine(t,e,n){const i=Ie();if(i.firstCreatePass){const r=ir(t);_E(n,i.data,i.blueprint,r,!0),_E(e,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,e)}}class bc{}class Y2{}class wE extends bc{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sL(this);const r=Ci(e);this._bootstrapComponents=ps(r.bootstrap),this._r3Injector=zF(e,n,[{provide:bc,useValue:this},{provide:ic,useValue:this.componentFactoryResolver},...i],Gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class EE extends Y2{constructor(e){super(),this.moduleType=e}create(e){return new wE(this.moduleType,e,[])}}class Q2 extends bc{constructor(e){super(),this.componentFactoryResolver=new sL(this),this.instance=null;const n=new I0([...e.providers,{provide:bc,useValue:this},{provide:ic,useValue:this.componentFactoryResolver}],e.parent||Om(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function CE(t,e,n=null){return new Q2({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let cne=(()=>{var t;class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i.id)){const r=fF(0,i.type),s=r.length>0?CE([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i.id,s)}return this.cachedInjectors.get(i.id)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=k({token:t,providedIn:"environment",factory:()=>new t(C(ds))}),e})();function X2(t){t.getStandaloneInjector=e=>e.get(cne).getOrCreateStandaloneInjector(t)}function og(t,e,n,i){return function sV(t,e,n,i,r,s){const o=e+n;return Pn(t,o,r)?Ar(t,o+1,s?i.call(s,r):i(r)):function zd(t,e){const n=t[e];return n===re?void 0:n}(t,o+1)}(D(),Qn(),t,e,n,i)}function xE(t){return e=>{setTimeout(t,void 0,e)}}const Je=class Nne extends Me{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=xE(s),r&&(r=xE(r)),o&&(o=xE(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof gn&&e.add(a),a}};function One(){return this._results[Symbol.iterator]()}class DE{get changes(){return this._changes||(this._changes=new Je)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=DE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=One)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const i=this;i.dirty=!1;const r=function ji(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function SQ(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kr=(()=>{class e{}return e.__NG_ELEMENT_ID__=Lne,e})();const Pne=kr,Fne=class extends Pne{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,i){const r=this._declarationTContainer.tView,s=zm(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,n||null,i||null);s[rd]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[vr];return null!==a&&(s[vr]=a.createEmbeddedView(r)),Q0(r,s,e),new Ad(s)}};function Lne(){return ag(yn(),D())}function ag(t,e){return 4&t.type?new Fne(e,t,rc(t,e)):null}let Hi=(()=>{class e{}return e.__NG_ELEMENT_ID__=Hne,e})();function Hne(){return mV(yn(),D())}const Gne=Hi,fV=class extends Gne{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return rc(this._hostTNode,this._hostLView)}get injector(){return new Hl(this._hostTNode,this._hostLView)}get parentInjector(){const e=$w(this._hostTNode,this._hostLView);if(iP(e)){const n=hm(e,this._hostLView),i=dm(e);return new Hl(n[U].data[i+8],n)}return new Hl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=pV(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(e,n,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,r,false),a}createComponent(e,n,i,r,s){const o=e&&!function ud(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?e:new Md(Pe(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(ds,null);g&&(s=g)}Pe(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,i){const r=e._lView,s=r[U];if(function zY(t){return ci(t[gt])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[gt],u=new fV(c,c[kn],c[gt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function _X(t,e,n,i){const r=_n+i,s=n.length;i>0&&(n[r-1][nr]=e),i<s-_n?(e[nr]=n[r],mP(n,_n+i,e)):(n.push(e),e[nr]=null),e[gt]=n;const o=e[rd];null!==o&&n!==o&&function yX(t,e){const n=t[Bl];e[Bt]!==e[gt][gt][Bt]&&(t[EO]=!0),null===n?t[Bl]=[e]:n.push(e)}(o,e);const a=e[vr];null!==a&&a.insertView(t),e[se]|=128}(s,r,a,o),!i){const l=d0(o,a),c=r[ie],u=xm(c,a[br]);null!==u&&function pX(t,e,n,i,r,s){i[Wt]=r,i[kn]=e,yd(t,i,n,1,r,s)}(s,a[kn],c,r,u,l)}return e.attachToViewContainerRef(),mP(SE(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=pV(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),i=a0(this._lContainer,n);i&&(gm(SE(this._lContainer),n),VP(i[U],i))}detach(e){const n=this._adjustIndex(e,-1),i=a0(this._lContainer,n);return i&&null!=gm(SE(this._lContainer),n)?new Ad(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function pV(t){return t[8]}function SE(t){return t[8]||(t[8]=[])}function mV(t,e){let n;const i=e[t.index];return ci(i)?n=i:(n=ZF(i,e,null,t),e[t.index]=n,Hm(e,n)),gV(n,e,t,i),new fV(n,t,e)}let gV=function _V(t,e,n,i){if(t[br])return;let r;r=8&n.type?rt(i):function Wne(t,e){const n=t[ie],i=n.createComment(""),r=ui(e,t);return ua(n,xm(n,r),i,function EX(t,e){return t.nextSibling(e)}(n,r),!1),i}(e,n),t[br]=r};class AE{constructor(e){this.queryList=e,this.matches=null}clone(){return new AE(this.queryList)}setDirty(){this.queryList.setDirty()}}class ME{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const o=n.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new ME(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==EV(e,n).matches&&this.queries[n].setDirty()}}class yV{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}}class RE{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new RE(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class kE{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new kE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,n,Yne(n,s)),this.matchTNodeWithReadOption(e,n,mm(n,e,s,!1,!1))}else i===kr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,mm(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ne||r===Hi||r===kr&&4&n.type)this.addMatch(n.index,-2);else{const s=mm(n,e,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Yne(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Xne(t,e,n,i){return-1===n?function Qne(t,e){return 11&t.type?rc(t,e):4&t.type?ag(t,e):null}(e,t):-2===n?function Zne(t,e,n){return n===Ne?rc(e,t):n===kr?ag(e,t):n===Hi?mV(e,t):void 0}(t,e,i):ca(t,t[U],n,e)}function vV(t,e,n,i){const r=e[vr].queries[i];if(null===r.matches){const s=t.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Xne(e,s[c],o[l+1],n.metadata.read))}r.matches=a}return r.matches}function NE(t,e,n,i){const r=t.queries.getByIndex(n),s=r.matches;if(null!==s){const o=vV(t,e,r,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=_n;d<u.length;d++){const h=u[d];h[rd]===h[gt]&&NE(h[U],h,c,i)}if(null!==u[Bl]){const d=u[Bl];for(let h=0;h<d.length;h++){const f=d[h];NE(f[U],f,c,i)}}}}}return i}function Fn(t){const e=D(),n=Ie(),i=qO();Pw(i+1);const r=EV(n,i);if(t.dirty&&function $Y(t){return 4==(4&t[se])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?NE(n,e,i,[]):vV(n,e,r,i);t.reset(s,xZ),t.notifyOnChanges()}return!0}return!1}function so(t,e,n){const i=Ie();i.firstCreatePass&&(wV(i,new yV(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),bV(i,D(),e)}function _s(t,e,n,i){const r=Ie();if(r.firstCreatePass){const s=yn();wV(r,new yV(e,n,i),s.index),function eie(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}bV(r,D(),n)}function Ln(){return function Jne(t,e){return t[vr].queries[e].queryList}(D(),qO())}function bV(t,e,n){const i=new DE(4==(4&n));(function qZ(t,e,n,i){const r=eL(e);r.push(n),t.firstCreatePass&&tL(t).push(i,r.length-1)})(t,e,i,i.destroy),null===e[vr]&&(e[vr]=new ME),e[vr].queries.push(new AE(i))}function wV(t,e,n){null===t.queries&&(t.queries=new RE),t.queries.track(new kE(e,n))}function EV(t,e){return t.queries.getByIndex(e)}function CV(t,e){return ag(t,e)}const BE=new S("Application Initializer");let UE=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=V(BE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const s of this.appInits){const o=s();if(Pd(o))i.push(o);else if(SL(o)){const a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),0===i.length&&r(),this.initialized=!0}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),UV=(()=>{var t;class e{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Nr=new S("LocaleId",{providedIn:"root",factory:()=>V(Nr,he.Optional|he.SkipSelf)||function wie(){return typeof $localize<"u"&&$localize.locale||vc}()});let jV=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wi(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Iie{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let $V=(()=>{var t;class e{compileModuleSync(i){return new EE(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const r=this.compileModuleSync(i),o=ps(Ci(i).declarations).reduce((a,l)=>{const c=Pe(l);return c&&a.push(new Md(c)),a},[]);return new Iie(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Tie=(()=>Promise.resolve(0))();function jE(t){typeof Zone>"u"?Tie.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function GV(...t){}class q{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Je(!1),this.onMicrotaskEmpty=new Je(!1),this.onStable=new Je(!1),this.onError=new Je(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Sie(){let t=Qe.requestAnimationFrame,e=Qe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Rie(t){const e=()=>{!function Mie(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zE(t),t.isCheckStableRunning=!0,$E(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return WV(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),qV(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return WV(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),qV(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,zE(t),$E(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!q.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(q.isInAngularZone())throw new I(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Aie,GV,GV);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const Aie={};function $E(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function WV(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qV(t){t._nesting--,$E(t)}class kie{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Je,this.onMicrotaskEmpty=new Je,this.onStable=new Je,this.onError=new Je}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}}const KV=new S("",{providedIn:"root",factory:YV});function YV(){const t=V(q);let e=!0;return $p(new We(r=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{r.next(e),r.complete()})}),new We(r=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{q.assertNotInAngularZone(),jE(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=t.onUnstable.subscribe(()=>{q.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(lw()))}const QV=new S(""),cg=new S("");let WE,HE=(()=>{var t;class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,WE||(function Nie(t){WE=t}(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{q.assertNotInAngularZone(),jE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jE(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(i)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}}return(t=e).\u0275fac=function(i){return new(i||t)(C(q),C(GE),C(cg))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})(),GE=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return WE?.findTestabilityInTree(this,i,r)??null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),oo=null;const XV=new S("AllowMultipleToken"),qE=new S("PlatformDestroyListeners"),KE=new S("appBootstrapListener");class JV{constructor(e,n){this.name=e,this.token=n}}function tB(t,e,n=[]){const i=`Platform: ${e}`,r=new S(i);return(s=[])=>{let o=YE();if(!o||o.injector.get(XV,!1)){const a=[...n,...s,{provide:r,useValue:!0}];t?t(a):function Fie(t){if(oo&&!oo.get(XV,!1))throw new I(400,!1);(function ZV(){!function kY(t){SO=t}(()=>{throw new I(600,!1)})})(),oo=t;const e=t.get(iB);(function eB(t){t.get(yF,null)?.forEach(n=>n())})(t)}(function nB(t=[],e){return Rt.create({name:e,providers:[{provide:E0,useValue:"platform"},{provide:qE,useValue:new Set([()=>oo=null])},...t]})}(a,i))}return function Vie(t){const e=YE();if(!e)throw new I(401,!1);return e}()}}function YE(){return oo?.get(iB)??null}let iB=(()=>{var t;class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){const s=function Bie(t="zone.js",e){return"noop"===t?new kie:"zone.js"===t?new q(e):t}(r?.ngZone,function rB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{const o=function lne(t,e,n){return new wE(t,e,n)}(i.moduleType,this.injector,function cB(t){return[{provide:q,useFactory:t},{provide:Ed,multi:!0,useFactory:()=>{const e=V(jie,{optional:!0});return()=>e.initialize()}},{provide:lB,useFactory:Uie},{provide:KV,useFactory:YV}]}(()=>s)),a=o.injector.get(Tr,null);return s.runOutsideAngular(()=>{const l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{ug(this._modules,o),l.unsubscribe()})}),function sB(t,e,n){try{const i=n();return Pd(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(a,s,()=>{const l=o.injector.get(UE);return l.runInitializers(),l.donePromise.then(()=>(function I2(t){Bi(t,"Expected localeId to be defined"),"string"==typeof t&&(C2=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Nr,vc)||vc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(i,r=[]){const s=oB({},r);return function Oie(t,e,n){const i=new EE(n);return Promise.resolve(i)}(0,0,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){const r=i.injector.get(ao);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!i.instance.ngDoBootstrap)throw new I(-403,!1);i.instance.ngDoBootstrap(r)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const i=this._injector.get(qE,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Rt))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function oB(t,e){return Array.isArray(e)?e.reduce(oB,t):{...t,...e}}let ao=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(lB),this.zoneIsStable=V(KV),this.componentTypes=[],this.components=[],this.isStable=V(jV).hasPendingTasks.pipe(yr(i=>i?W(!1):this.zoneIsStable),ZN(),lw()),this._injector=V(ds)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){const s=i instanceof IF;if(!this._injector.get(UE).done)throw!s&&function Ol(t){const e=Pe(t)||Rn(t)||li(t);return null!==e&&e.standalone}(i),new I(405,!1);let a;a=s?i:this._injector.get(ic).resolveComponentFactory(i),this.componentTypes.push(a.componentType);const l=function Pie(t){return t.isBoundToModule}(a)?void 0:this._injector.get(bc),u=a.create(Rt.NULL,[],r||a.selector,l),d=u.location.nativeElement,h=u.injector.get(QV,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ug(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){const r=i;ug(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const r=this._injector.get(KE,[]);r.push(...this._bootstrapListeners),r.forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ug(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new I(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ug(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const lB=new S("",{providedIn:"root",factory:()=>V(Tr).handleError.bind(void 0)});function Uie(){const t=V(q),e=V(Tr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let jie=(()=>{var t;class e{constructor(){this.zone=V(q),this.applicationRef=V(ao)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Wd=(()=>{class e{}return e.__NG_ELEMENT_ID__=zie,e})();function zie(t){return function Hie(t,e,n){if(oa(t)&&!n){const i=di(t.index,e);return new Ad(i,i)}return 47&t.type?new Ad(e[Bt],e):null}(yn(),D(),16==(16&t))}class fB{constructor(){}supports(e){return Km(e)}create(e){return new Qie(e)}}const Yie=(t,e)=>e;class Qie{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Yie}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){const o=!i||n&&n.currentIndex<mB(i,r,s)?n:i,a=mB(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Km(e))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,n=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),i=!0),n=n._next}else r=0,function zJ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let i;for(;!(i=n.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,o)?(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Xie(n,i),s,r),e}_verifyReinsertion(e,n,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){const r=null===n?this._itHead:n._next;return e._next=r,e._prev=n,null===r?this._itTail=e:r._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new pB),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Xie{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zie{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class pB{constructor(){this.map=new Map}put(e){const n=e.trackById;let i=this.map.get(n);i||(i=new Zie,this.map.set(n,i)),i.add(e)}get(e,n){const r=this.map.get(e);return r?r.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mB(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class gB{constructor(){}supports(e){return e instanceof Map||J0(e)}create(){return new Jie}}class Jie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||J0(e)))throw new I(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,n);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new ere(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}}class ere{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _B(){return new fg([new fB])}let fg=(()=>{var t;class e{constructor(i){this.factories=i}static create(i,r){if(null!=r){const s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||_B()),deps:[[e,new fd,new It]]}}find(i){const r=this.factories.find(s=>s.supports(i));if(null!=r)return r;throw new I(901,!1)}}return(t=e).\u0275prov=k({token:t,providedIn:"root",factory:_B}),e})();function yB(){return new qd([new gB])}let qd=(()=>{var t;class e{constructor(i){this.factories=i}static create(i,r){if(r){const s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||yB()),deps:[[e,new fd,new It]]}}find(i){const r=this.factories.find(s=>s.supports(i));if(r)return r;throw new I(901,!1)}}return(t=e).\u0275prov=k({token:t,providedIn:"root",factory:yB}),e})();const ire=tB(null,"core",[]);let rre=(()=>{var t;class e{constructor(i){}}return(t=e).\u0275fac=function(i){return new(i||t)(C(ao))},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({}),e})();let nC=null;function lo(){return nC}class gre{}const de=new S("DocumentToken");let iC=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:function(){return V(yre)},providedIn:"platform"}),e})();const _re=new S("Location Initialized");let yre=(()=>{var t;class e extends iC{constructor(){super(),this._doc=V(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lo().getBaseHref(this._doc)}onPopState(i){const r=lo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=lo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function rC(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function xB(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ys(t){return t&&"?"!==t[0]?"?"+t:t}let ya=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:function(){return V(TB)},providedIn:"root"}),e})();const DB=new S("appBaseHref");let TB=(()=>{var t;class e extends ya{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return rC(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+ys(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){const a=this.prepareExternalUrl(s+ys(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){const a=this.prepareExternalUrl(s+ys(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(iC),C(DB,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),vre=(()=>{var t;class e extends ya{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=rC(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ys(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ys(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(iC),C(DB,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})(),Kd=(()=>{var t;class e{constructor(i){this._subject=new Je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function Ere(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(xB(SB(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ys(r))}normalize(i){return e.stripTrailingSlash(function wre(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,SB(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ys(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ys(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}}return(t=e).normalizeQueryParams=ys,t.joinWithSlash=rC,t.stripTrailingSlash=xB,t.\u0275fac=function(i){return new(i||t)(C(ya))},t.\u0275prov=k({token:t,factory:function(){return function bre(){return new Kd(C(ya))}()},providedIn:"root"}),e})();function SB(t){return t.replace(/\/index.html$/,"")}class cse{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let BB=(()=>{var t;class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new cse(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===o?void 0:o);else if(null!==o){const l=r.get(o);r.move(l,a),UB(l,s)}});for(let s=0,o=r.length;s<o;s++){const l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{UB(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Hi),b(kr),b(fg))},t.\u0275dir=B({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function UB(t,e){t.context.$implicit=e.item}let mC=(()=>{var t;class e{constructor(i,r){this._viewContainer=i,this._context=new use,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){jB("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){jB("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Hi),b(kr))},t.\u0275dir=B({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class use{constructor(){this.$implicit=null,this.ngIf=null}}function jB(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Gt(e)}'.`)}class gC{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let xg=(()=>{var t;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){const r=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(const r of this._defaultViews)r.enforceState(i)}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),$B=(()=>{var t;class e{constructor(i,r,s){this.ngSwitch=s,s._addCase(),this._view=new gC(i,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Hi),b(kr),b(xg,9))},t.\u0275dir=B({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),HB=(()=>{var t;class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){const[s,o]=i.split("."),a=-1===s.indexOf("-")?void 0:no.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(qd),b(fs))},t.\u0275dir=B({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),GB=(()=>{var t;class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=r.createEmbeddedView(s,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Hi))},t.\u0275dir=B({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Nn]}),e})(),vC=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({}),e})();const qB="browser";function KB(t){return"server"===t}let Bse=(()=>{var t;class e{}return(t=e).\u0275prov=k({token:t,providedIn:"root",factory:()=>new Use(C(de),window)}),e})();class Use{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function jse(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=YB(this.window.history)||YB(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function YB(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class doe extends gre{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class EC extends doe{static makeCurrent(){!function mre(t){nC||(nC=t)}(new EC)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function hoe(){return Zd=Zd||document.querySelector("base"),Zd?Zd.getAttribute("href"):null}();return null==n?null:function foe(t){Sg=Sg||document.createElement("a"),Sg.setAttribute("href",t);const e=Sg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Zd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ose(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Sg,Zd=null,moe=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();const CC=new S("EventManagerPlugins");let eU=(()=>{var t;class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(t=e).\u0275fac=function(i){return new(i||t)(C(CC),C(q))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();class tU{constructor(e){this._doc=e}}const IC="ng-app-id";let nU=(()=>{var t;class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=KB(o),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${IC}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){const s=this.styleRef;if(s.has(i)){const o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(IC),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(IC,this.appId),a}}addStyleToHost(i,r){const s=this.getStyleElement(i,r);i.appendChild(s);const o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de),C(Pm),C(T0,8),C(hs))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();const xC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},DC=/%COMP%/g,voe=new S("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function rU(t,e){return e.map(n=>n.replace(DC,t))}let TC=(()=>{var t;class e{constructor(i,r,s,o,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=KB(l),this.defaultRenderer=new SC(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ui.ShadowDom&&(r={...r,encapsulation:Ui.Emulated});const s=this.getOrCreateRenderer(i,r);return s instanceof oU?s.applyToHost(i):s instanceof AC&&s.applyStyles(),s}getOrCreateRenderer(i,r){const s=this.rendererByCompId;let o=s.get(r.id);if(!o){const a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestory,h=this.platformIsServer;switch(r.encapsulation){case Ui.Emulated:o=new oU(c,u,r,this.appId,d,a,l,h);break;case Ui.ShadowDom:return new Coe(c,u,i,r,a,l,this.nonce,h);default:o=new AC(c,u,r,d,a,l,h)}o.onDestroy=()=>s.delete(r.id),s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(i){return new(i||t)(C(eU),C(nU),C(Pm),C(voe),C(de),C(hs),C(q),C(T0))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();class SC{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sU(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(sU(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new I(5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const s=xC[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=xC[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(no.DashCase|no.Important)?e.style.setProperty(n,i,r&no.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&no.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){if("string"==typeof e&&!(e=lo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function sU(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Coe extends SC{constructor(e,n,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=rU(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AC extends SC{constructor(e,n,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=l?rU(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class oU extends AC{constructor(e,n,i,r,s,o,a,l){const c=r+"-"+i.id;super(e,n,i,s,o,a,l,c),this.contentAttr=function boe(t){return"_ngcontent-%COMP%".replace(DC,t)}(c),this.hostAttr=function woe(t){return"_nghost-%COMP%".replace(DC,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}let Ioe=(()=>{var t;class e extends tU{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();const aU=["alt","control","meta","shift"],xoe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Doe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Toe=(()=>{var t;class e extends tU{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,r,s){const o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lo().onAndCancel(i,o.domEventName,a))}static parseEventName(i){const r=i.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(r.pop());let a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),aU.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=xoe[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),aU.forEach(a=>{a!==s&&(0,Doe[a])(i)&&(o+=a+".")}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();const cU=[{provide:hs,useValue:qB},{provide:yF,useValue:function Soe(){EC.makeCurrent()},multi:!0},{provide:de,useFactory:function Moe(){return function MX(t){p0=t}(document),document},deps:[]}],Roe=tB(ire,"browser",cU),koe=new S(""),uU=[{provide:cg,useClass:class poe{addToWindow(e){Qe.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new I(5103,!1);return s},Qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qe.getAllAngularRootElements=()=>e.getAllRootElements(),Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(i=>{const r=Qe.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,i){return null==n?null:e.getTestability(n)??(i?lo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:QV,useClass:HE,deps:[q,GE,cg]},{provide:HE,useClass:HE,deps:[q,GE,cg]}],dU=[{provide:E0,useValue:"root"},{provide:Tr,useFactory:function Aoe(){return new Tr},deps:[]},{provide:CC,useClass:Ioe,multi:!0,deps:[de,q,hs]},{provide:CC,useClass:Toe,multi:!0,deps:[de]},TC,nU,eU,{provide:xd,useExisting:TC},{provide:class $se{},useClass:moe,deps:[]},[]];let hU=(()=>{var t;class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Pm,useValue:i.appId}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(C(koe,12))},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[...dU,...uU],imports:[vC,rre]}),e})(),fU=(()=>{var t;class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de))},t.\u0275prov=k({token:t,factory:function(i){let r=null;return r=i?new i:function Ooe(){return new fU(C(de))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let RC=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:function(i){let r=null;return r=i?new(i||t):C(gU),r},providedIn:"root"}),e})(),gU=(()=>{var t;class e extends RC{constructor(i){super(),this._doc=i}sanitize(i,r){if(null==r)return null;switch(i){case bn.NONE:return r;case bn.HTML:return xr(r,"HTML")?Di(r):oF(this._doc,String(r)).toString();case bn.STYLE:return xr(r,"Style")?Di(r):r;case bn.SCRIPT:if(xr(r,"Script"))return Di(r);throw new I(5200,!1);case bn.URL:return xr(r,"URL")?Di(r):Mm(String(r));case bn.RESOURCE_URL:if(xr(r,"ResourceURL"))return Di(r);throw new I(5201,!1);default:throw new I(5202,!1)}}bypassSecurityTrustHtml(i){return function LX(t){return new RX(t)}(i)}bypassSecurityTrustStyle(i){return function VX(t){return new kX(t)}(i)}bypassSecurityTrustScript(i){return function BX(t){return new NX(t)}(i)}bypassSecurityTrustUrl(i){return function UX(t){return new OX(t)}(i)}bypassSecurityTrustResourceUrl(i){return function jX(t){return new PX(t)}(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de))},t.\u0275prov=k({token:t,factory:function(i){let r=null;return r=i?new i:function Voe(t){return new gU(t.get(de))}(C(Rt)),r},providedIn:"root"}),e})();const{isArray:Uoe}=Array,{getPrototypeOf:joe,prototype:$oe,keys:zoe}=Object;function yU(t){if(1===t.length){const e=t[0];if(Uoe(e))return{args:e,keys:null};if(function Hoe(t){return t&&"object"==typeof t&&joe(t)===$oe}(e)){const n=zoe(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}const{isArray:Goe}=Array;function kC(t){return ue(e=>function Woe(t,e){return Goe(e)?t(...e):t(e)}(t,e))}function vU(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Ag(...t){const e=Zu(t),n=QN(t),{args:i,keys:r}=yU(t);if(0===i.length)return nn([],e);const s=new We(function qoe(t,e,n=Ys){return i=>{bU(e,()=>{const{length:r}=t,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)bU(e,()=>{const c=nn(t[l],e);let u=!1;c.subscribe(mt(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>vU(r,o):Ys));return n?s.pipe(kC(n)):s}function bU(t,e,n){t?is(n,t,e):e()}const Mg=Qu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Rg(...t){return function Koe(){return kl(1)}()(nn(t,Zu(t)))}function kg(t){return new We(e=>{Yn(t()).subscribe(e)})}function xc(t,e){const n=we(t)?t:()=>t,i=r=>r.error(n());return new We(e?r=>e.schedule(i,0,r):i)}function NC(){return Mt((t,e)=>{let n=null;t._refCount++;const i=mt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class wU extends We{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,PN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gn;const n=this.getSubject();e.add(this.source.subscribe(mt(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gn.EMPTY)}return e}refCount(){return NC()(this)}}function Ai(t){return t<=0?()=>er:Mt((e,n)=>{let i=0;e.subscribe(mt(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Ng(...t){const e=Zu(t);return Mt((n,i)=>{(e?Rg(t,n,e):Rg(t,n)).subscribe(i)})}function Vn(t,e){return Mt((n,i)=>{let r=0;n.subscribe(mt(i,s=>t.call(e,s,r++)&&i.next(s)))})}function Og(t){return Mt((e,n)=>{let i=!1;e.subscribe(mt(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function EU(t=Yoe){return Mt((e,n)=>{let i=!1;e.subscribe(mt(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function Yoe(){return new Mg}function va(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Vn((r,s)=>t(r,s,i)):Ys,Ai(1),n?Og(e):EU(()=>new Mg))}function Dc(t,e){return we(e)?tn(t,e,1):tn(t,1)}function Qt(t,e,n){const i=we(t)||e||n?{next:t,error:e,complete:n}:t;return i?Mt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(mt(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ys}function uo(t){return Mt((e,n)=>{let s,i=null,r=!1;i=e.subscribe(mt(n,void 0,void 0,o=>{s=Yn(t(o,uo(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function OC(t){return t<=0?()=>er:Mt((e,n)=>{let i=[];e.subscribe(mt(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Pg(t){return Mt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const le="primary",Jd=Symbol("RouteTitle");class eae{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Tc(t){return new eae(t)}function tae(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Or(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!CU(t[r],e[r]))return!1;return!0}function CU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}return t===e}function IU(t){return t.length>0?t[t.length-1]:null}function ho(t){return function Boe(t){return!!t&&(t instanceof We||we(t.lift)&&we(t.subscribe))}(t)?t:Pd(t)?nn(Promise.resolve(t)):W(t)}const iae={exact:function TU(t,e,n){if(!ba(t.segments,e.segments)||!Fg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!TU(t.children[i],e.children[i],n))return!1;return!0},subset:SU},xU={exact:function rae(t,e){return Or(t,e)},subset:function sae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>CU(t[n],e[n]))},ignored:()=>!0};function DU(t,e,n){return iae[n.paths](t.root,e.root,n.matrixParams)&&xU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function SU(t,e,n){return AU(t,e,e.segments,n)}function AU(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!ba(r,n)||e.hasChildren()||!Fg(r,n,i))}if(t.segments.length===n.length){if(!ba(t.segments,n)||!Fg(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!SU(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ba(t.segments,r)&&Fg(t.segments,r,i)&&t.children[le])&&AU(t.children[le],e,s,i)}}function Fg(t,e,n){return e.every((i,r)=>xU[n](t[r].parameters,i.parameters))}class Sc{constructor(e=new ze([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tc(this.queryParams)),this._queryParamMap}toString(){return lae.serialize(this)}}class ze{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lg(this)}}class eh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Tc(this.parameters)),this._parameterMap}toString(){return kU(this)}}function ba(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}let th=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:function(){return new PC},providedIn:"root"}),e})();class PC{parse(e){const n=new vae(e);return new Sc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${nh(e.root,!0)}`,i=function dae(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(r=>`${Vg(n)}=${Vg(r)}`).join("&"):`${Vg(n)}=${Vg(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${i}${"string"==typeof e.fragment?`#${function cae(t){return encodeURI(t)}(e.fragment)}`:""}`}}const lae=new PC;function Lg(t){return t.segments.map(e=>kU(e)).join("/")}function nh(t,e){if(!t.hasChildren())return Lg(t);if(e){const n=t.children[le]?nh(t.children[le],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==le&&i.push(`${r}:${nh(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function aae(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===le&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==le&&(n=n.concat(e(r,i)))}),n}(t,(i,r)=>r===le?[nh(t.children[le],!1)]:[`${r}:${nh(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[le]?`${Lg(t)}/${n[0]}`:`${Lg(t)}/(${n.join("//")})`}}function MU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vg(t){return MU(t).replace(/%3B/gi,";")}function FC(t){return MU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bg(t){return decodeURIComponent(t)}function RU(t){return Bg(t.replace(/\+/g,"%20"))}function kU(t){return`${FC(t.path)}${function uae(t){return Object.keys(t).map(e=>`;${FC(e)}=${FC(t[e])}`).join("")}(t.parameters)}`}const hae=/^[^\/()?;#]+/;function LC(t){const e=t.match(hae);return e?e[0]:""}const fae=/^[^\/()?;=#]+/,mae=/^[^=?&#]+/,_ae=/^[^&#]+/;class vae{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[le]=new ze(e,n)),i}parseSegment(){const e=LC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new eh(Bg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function pae(t){const e=t.match(fae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=LC(this.remaining);r&&(i=r,this.capture(i))}e[Bg(n)]=Bg(i)}parseQueryParam(e){const n=function gae(t){const e=t.match(mae);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const o=function yae(t){const e=t.match(_ae);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=RU(n),s=RU(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=LC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new I(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=le);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[le]:new ze([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}}function NU(t){return t.segments.length>0?new ze([],{[le]:t}):t}function OU(t){const e={};for(const i of Object.keys(t.children)){const s=OU(t.children[i]);if(i===le&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function bae(t){if(1===t.numberOfChildren&&t.children[le]){const e=t.children[le];return new ze(t.segments.concat(e.segments),e.children)}return t}(new ze(t.segments,e))}function wa(t){return t instanceof Sc}function PU(t){let e;const r=NU(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new ze(s.url,o);return s===t&&(e=a),a}(t.root));return e??r}function FU(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(0===e.length)return VC(r,r,r,n,i);const s=function Eae(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new VU(!0,0,t);let e=0,n=!1;const i=t.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new VU(n,e,i)}(e);if(s.toRoot())return VC(r,r,new ze([],{}),n,i);const o=function Cae(t,e,n){if(t.isAbsolute)return new jg(e,!0,0);if(!n)return new jg(e,!1,NaN);if(null===n.parent)return new jg(n,!0,0);const i=Ug(t.commands[0])?0:1;return function Iae(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new jg(i,!1,r-s)}(n,n.segments.length-1+i,t.numberOfDoubleDots)}(s,r,t),a=o.processChildren?rh(o.segmentGroup,o.index,s.commands):BU(o.segmentGroup,o.index,s.commands);return VC(r,o.segmentGroup,a,n,i)}function Ug(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ih(t){return"object"==typeof t&&null!=t&&t.outlets}function VC(t,e,n,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=t===e?n:LU(t,e,n);const a=NU(OU(o));return new Sc(a,s,r)}function LU(t,e,n){const i={};return Object.entries(t.children).forEach(([r,s])=>{i[r]=s===e?n:LU(s,e,n)}),new ze(t.segments,i)}class VU{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Ug(i[0]))throw new I(4003,!1);const r=i.find(ih);if(r&&r!==IU(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jg{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function BU(t,e,n){if(t||(t=new ze([],{})),0===t.segments.length&&t.hasChildren())return rh(t,e,n);const i=function Dae(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const o=t.segments[r],a=n[i];if(ih(a))break;const l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!jU(l,c,o))return s;i+=2}else{if(!jU(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new ze(t.segments.slice(0,i.pathIndex),{});return s.children[le]=new ze(t.segments.slice(i.pathIndex),t.children),rh(s,0,r)}return i.match&&0===r.length?new ze(t.segments,{}):i.match&&!t.hasChildren()?BC(t,e,n):i.match?rh(t,0,r):BC(t,e,n)}function rh(t,e,n){if(0===n.length)return new ze(t.segments,{});{const i=function xae(t){return ih(t[0])?t[0].outlets:{[le]:t}}(n),r={};if(!i[le]&&t.children[le]&&1===t.numberOfChildren&&0===t.children[le].segments.length){const s=rh(t.children[le],e,n);return new ze(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=BU(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new ze(t.segments,r)}}function BC(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(ih(s)){const l=Tae(s.outlets);return new ze(i,l)}if(0===r&&Ug(n[0])){i.push(new eh(t.segments[e].path,UU(n[0]))),r++;continue}const o=ih(s)?s.outlets[le]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Ug(a)?(i.push(new eh(o,UU(a))),r+=2):(i.push(new eh(o,{})),r++)}return new ze(i,{})}function Tae(t){const e={};return Object.entries(t).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=BC(new ze([],{}),0,i))}),e}function UU(t){const e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function jU(t,e,n){return t==n.path&&Or(e,n.parameters)}const sh="imperative";class Pr{constructor(e,n){this.id=e,this.url=n}}class UC extends Pr{constructor(e,n,i="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ea extends Pr{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $g extends Pr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oh extends Pr{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=16}}class jC extends Pr{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sae extends Pr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aae extends Pr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mae extends Pr{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rae extends Pr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kae extends Pr{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nae{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oae{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pae{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fae{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lae{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vae{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $U{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ah,this.attachRef=null}}let ah=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Bae,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class zU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=$C(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=$C(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=zC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return zC(e,this._root).map(n=>n.value)}}function $C(t,e){if(t===e.value)return e;for(const n of e.children){const i=$C(t,n);if(i)return i}return null}function zC(t,e){if(t===e.value)return[e];for(const n of e.children){const i=zC(t,n);if(i.length)return i.unshift(e),i}return[]}class ws{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ac(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class HU extends zU{constructor(e,n){super(e),this.snapshot=n,HC(this,e)}toString(){return this.snapshot.toString()}}function GU(t,e){const n=function Uae(t,e){const o=new zg([],{},{},"",{},le,e,null,{});return new qU("",new ws(o,[]))}(0,e),i=new wi([new eh("",{})]),r=new wi({}),s=new wi({}),o=new wi({}),a=new wi(""),l=new Ca(i,r,o,a,s,le,e,n.root);return l.snapshot=n.root,new HU(new ws(l,[]),n)}class Ca{constructor(e,n,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(c=>c[Jd]))??W(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>Tc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>Tc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WU(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function jae(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class zg{get title(){return this.data?.[Jd]}constructor(e,n,i,r,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qU extends zU{constructor(e,n){super(n),this.url=e,HC(this,n)}toString(){return KU(this._root)}}function HC(t,e){e.value._routerState=t,e.children.forEach(n=>HC(t,n))}function KU(t){const e=t.children.length>0?` { ${t.children.map(KU).join(", ")} } `:"";return`${t.value}${e}`}function GC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Or(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Or(e.params,n.params)||t.paramsSubject.next(n.params),function nae(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Or(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Or(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function WC(t,e){const n=Or(t.params,e.params)&&function oae(t,e){return ba(t,e)&&t.every((n,i)=>Or(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||WC(t.parent,e.parent))}let qC=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=V(ah),this.location=V(Hi),this.changeDetector=V(Wd),this.environmentInjector=V(ds),this.inputBinder=V(Hg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=i;const s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new $ae(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nn]}),e})();class $ae{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Ca?this.route:e===ah?this.childContexts:this.parent.get(e,n)}}const Hg=new S("");let YU=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,s=Ag([r.queryParams,r.params,r.data]).pipe(yr(([o,a,l],c)=>(l={...o,...a,...l},0===c?W(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const a=function pre(t){const e=Pe(t);if(!e)return null;const n=new Md(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone}}}(r.component);if(a)for(const{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,s)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();function lh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function Hae(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return lh(t,i,r);return lh(t,i)})}(t,e,n);return new ws(i,r)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>lh(t,a)),o}}const i=function Gae(t){return new Ca(new wi(t.url),new wi(t.params),new wi(t.queryParams),new wi(t.fragment),new wi(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(s=>lh(t,s));return new ws(i,r)}}const KC="ngNavigationCancelingError";function QU(t,e){const{redirectTo:n,navigationBehaviorOptions:i}=wa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=XU(!1,0,e);return r.url=n,r.navigationBehaviorOptions=i,r}function XU(t,e,n){const i=new Error("NavigationCancelingError: "+(t||""));return i[KC]=!0,i.cancellationCode=e,n&&(i.url=n),i}function ZU(t){return JU(t)&&wa(t.url)}function JU(t){return t&&t[KC]}let ej=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Vt({type:t,selectors:[["ng-component"]],standalone:!0,features:[X2],decls:1,vars:0,template:function(i,r){1&i&&yt(0,"router-outlet")},dependencies:[qC],encapsulation:2}),e})();function YC(t){const e=t.children&&t.children.map(YC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=ej),n}function cr(t){return t.outlet||le}function ch(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Zae{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),GC(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=Ac(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ac(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ac(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){const r=Ac(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Vae(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Fae(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(GC(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),GC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ch(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class tj{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gg{constructor(e,n){this.component=e,this.route=n}}function Jae(t,e,n){const i=t._root;return uh(i,e?e._root:null,n,[i.value])}function Mc(t,e){const n=Symbol(),i=e.get(t,n);return i===n?"function"!=typeof t||function QK(t){return null!==Gp(t)}(t)?e.get(t):t:i}function uh(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ac(e);return t.children.forEach(o=>{(function tle(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function nle(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ba(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ba(t.url,e.url)||!Or(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WC(t,e)||!Or(t.queryParams,e.queryParams);default:return!WC(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new tj(i)):(s.data=o.data,s._resolvedData=o._resolvedData),uh(t,e,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Gg(a.outlet.component,o))}else o&&dh(e,a,r),r.canActivateChecks.push(new tj(i)),uh(t,null,s.component?a?a.children:null:n,i,r)})(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>dh(a,n.getContext(o),r)),r}function dh(t,e,n){const i=Ac(t),r=t.value;Object.entries(i).forEach(([s,o])=>{dh(o,r.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Gg(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function hh(t){return"function"==typeof t}function nj(t){return t instanceof Mg||"EmptyError"===t?.name}const Wg=Symbol("INITIAL_VALUE");function Rc(){return yr(t=>Ag(t.map(e=>e.pipe(Ai(1),Ng(Wg)))).pipe(ue(e=>{for(const n of e)if(!0!==n){if(n===Wg)return Wg;if(!1===n||n instanceof Sc)return n}return!0}),Vn(e=>e!==Wg),Ai(1)))}function ij(t){return function nK(...t){return kN(t)}(Qt(e=>{if(wa(e))throw QU(0,e)}),ue(e=>!0===e))}class qg{constructor(e){this.segmentGroup=e||null}}class rj{constructor(e){this.urlTree=e}}function kc(t){return xc(new qg(t))}function sj(t){return xc(new rj(t))}class Ele{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new I(4002,!1)}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return W(i);if(r.numberOfChildren>1||!r.children[le])return xc(new I(4e3,!1));r=r.children[le]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreateUrlTree(e,n,i,r){const s=this.createSegmentGroup(e,n.root,i,r);return new Sc(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){const s=this.createSegments(e,n.segments,i,r);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new ze(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}const QC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cle(t,e,n,i,r){const s=XC(t,e,n);return s.matched?(i=function Wae(t,e){return t.providers&&!t._injector&&(t._injector=CE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,i),function vle(t,e,n,i){const r=e.canMatch;return r&&0!==r.length?W(r.map(o=>{const a=Mc(o,t);return ho(function lle(t){return t&&hh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Rc(),ij()):W(!0)}(i,e,n).pipe(ue(o=>!0===o?s:{...QC}))):W(s)}function XC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...QC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||tae)(n,t,e);if(!r)return{...QC};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function oj(t,e,n,i){return n.length>0&&function Dle(t,e,n){return n.some(i=>Kg(t,e,i)&&cr(i)!==le)}(t,n,i)?{segmentGroup:new ze(e,xle(i,new ze(n,t.children))),slicedSegments:[]}:0===n.length&&function Tle(t,e,n){return n.some(i=>Kg(t,e,i))}(t,n,i)?{segmentGroup:new ze(t.segments,Ile(t,0,n,i,t.children)),slicedSegments:n}:{segmentGroup:new ze(t.segments,t.children),slicedSegments:n}}function Ile(t,e,n,i,r){const s={};for(const o of i)if(Kg(t,n,o)&&!r[cr(o)]){const a=new ze([],{});s[cr(o)]=a}return{...r,...s}}function xle(t,e){const n={};n[le]=e;for(const i of t)if(""===i.path&&cr(i)!==le){const r=new ze([],{});n[cr(i)]=r}return n}function Kg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Rle{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ele(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,!1)}recognize(){const e=oj(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,le).pipe(uo(n=>{if(n instanceof rj)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof qg?this.noMatchError(n):n}),ue(n=>{const i=new zg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},le,this.rootComponentType,null,{}),r=new ws(i,n),s=new qU("",r),o=function wae(t,e,n=null,i=null){return FU(PU(t),e,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,le).pipe(uo(i=>{throw i instanceof qg?this.noMatchError(i):i}))}inheritParamsAndData(e){const n=e.value,i=WU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0)}processChildren(e,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return nn(r).pipe(Dc(s=>{const o=i.children[s],a=function Qae(t,e){const n=t.filter(i=>cr(i)===e);return n.push(...t.filter(i=>cr(i)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Xoe(t,e){return Mt(function Qoe(t,e,n,i,r){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(mt(o,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Og(null),function Zoe(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Vn((r,s)=>t(r,s,i)):Ys,OC(1),n?Og(e):EU(()=>new Mg))}(),tn(s=>{if(null===s)return kc(i);const o=aj(s);return function kle(t){t.sort((e,n)=>e.value.outlet===le?-1:n.value.outlet===le?1:e.value.outlet.localeCompare(n.value.outlet))}(o),W(o)}))}processSegment(e,n,i,r,s,o){return nn(n).pipe(Dc(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(uo(l=>{if(l instanceof qg)return W(null);throw l}))),va(a=>!!a),uo(a=>{if(nj(a))return function Ale(t,e,n){return 0===e.length&&!t.children[n]}(i,r,s)?W([]):kc(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return function Sle(t,e,n,i){return!!(cr(t)===i||i!==le&&Kg(e,n,t))&&("**"===t.path||XC(e,t,n).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):kc(r):kc(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?sj(s):this.applyRedirects.lineralizeSegments(i,s).pipe(tn(o=>{const a=new ze(o,{});return this.processSegment(e,n,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=XC(n,r,s);if(!a)return kc(n);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?sj(d):this.applyRedirects.lineralizeSegments(r,d).pipe(tn(h=>this.processSegment(e,i,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?IU(r).parameters:{};a=W({snapshot:new zg(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lj(i),cr(i),i.component??i._loadedComponent??null,i,cj(i)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Cle(n,i,r,e).pipe(ue(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new zg(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lj(i),cr(i),i.component??i._loadedComponent??null,i,cj(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(yr(l=>null===l?kc(n):this.getChildConfig(e=i._injector??e,i,r).pipe(yr(({routes:c})=>{const u=i._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=oj(n,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(ue(v=>null===v?null:[new ws(d,v)]));if(0===c.length&&0===m.length)return W([new ws(d,[])]);const g=cr(i)===s;return this.processSegment(u,c,p,m,g?le:s,!0).pipe(ue(v=>[new ws(d,v)]))}))))}getChildConfig(e,n,i){return n.children?W({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?W({routes:n._loadedRoutes,injector:n._loadedInjector}):function yle(t,e,n,i){const r=e.canLoad;return void 0===r||0===r.length?W(!0):W(r.map(o=>{const a=Mc(o,t);return ho(function rle(t){return t&&hh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Rc(),ij())}(e,n,i).pipe(tn(r=>r?this.configLoader.loadChildren(e,n).pipe(Qt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function wle(t){return xc(XU(!1,3))}())):W({routes:[],injector:e})}}function Nle(t){const e=t.value.routeConfig;return e&&""===e.path}function aj(t){const e=[],n=new Set;for(const i of t){if(!Nle(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=aj(i.children);e.push(new ws(i.value,r))}return e.filter(i=>!n.has(i))}function lj(t){return t.data||{}}function cj(t){return t.resolve||{}}function uj(t){return"string"==typeof t.title||null===t.title}function ZC(t){return yr(e=>{const n=t(e);return n?nn(n).pipe(ue(()=>e)):W(e)})}const Nc=new S("ROUTES");let JC=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V($V)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return W(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=ho(i.loadComponent()).pipe(ue(dj),Qt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Pg(()=>{this.componentLoaders.delete(i)})),s=new wU(r,()=>new Me).pipe(NC());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,u;return Array.isArray(l)?u=l:(c=l.create(i).injector,u=c.get(Nc,[],he.Self|he.Optional).flat()),{routes:u.map(YC),injector:c}}),Pg(()=>{this.childrenLoaders.delete(r)})),a=new wU(o,()=>new Me).pipe(NC());return this.childrenLoaders.set(r,a),a}loadModuleFactoryOrRoutes(i){return ho(i()).pipe(ue(dj),tn(r=>r instanceof Y2||Array.isArray(r)?W(r):nn(this.compiler.compileModuleAsync(r))))}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function dj(t){return function Ule(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Yg=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Me,this.configLoader=V(JC),this.environmentInjector=V(ds),this.urlSerializer=V(th),this.rootContexts=V(ah),this.inputBindingEnabled=null!==V(Hg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Oae(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Nae(s))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i){return this.transitions=new wi({id:0,currentUrlTree:i.currentUrlTree,currentRawUrl:i.currentUrlTree,extractedUrl:i.urlHandlingStrategy.extract(i.currentUrlTree),urlAfterRedirects:i.urlHandlingStrategy.extract(i.currentUrlTree),rawUrl:i.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sh,restoredState:null,currentSnapshot:i.routerState.snapshot,targetSnapshot:null,currentRouterState:i.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vn(r=>0!==r.id),ue(r=>({...r,extractedUrl:i.urlHandlingStrategy.extract(r.rawUrl)})),yr(r=>{let s=!1,o=!1;return W(r).pipe(Qt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(a=>{const l=i.browserUrlTree.toString(),c=!i.navigated||a.extractedUrl.toString()!==l||l!==i.currentUrlTree.toString();if(!c&&"reload"!==(a.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const d="";return this.events.next(new oh(a.id,i.serializeUrl(r.rawUrl),d,0)),i.rawUrlTree=a.rawUrl,a.resolve(null),er}if(i.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return hj(a.source)&&(i.browserUrlTree=a.extractedUrl),W(a).pipe(yr(d=>{const h=this.transitions?.getValue();return this.events.next(new UC(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?er:Promise.resolve(d)}),function Ole(t,e,n,i,r,s){return tn(o=>function Mle(t,e,n,i,r,s,o="emptyOnly"){return new Rle(t,e,n,i,r,o,s).recognize()}(t,e,n,i,o.extractedUrl,r,s).pipe(ue(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),Qt(d=>{if(r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},"eager"===i.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=i.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);i.setBrowserUrl(f,d)}i.browserUrlTree=d.urlAfterRedirects}const h=new Sae(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=a,g=new UC(d,this.urlSerializer.serialize(h),f,p);this.events.next(g);const v=GU(0,this.rootComponentType).snapshot;return W(r={...a,targetSnapshot:v,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new oh(a.id,i.serializeUrl(r.extractedUrl),d,1)),i.rawUrlTree=a.rawUrl,a.resolve(null),er}}),Qt(a=>{const l=new Aae(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ue(a=>r={...a,guards:Jae(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function ule(t,e){return tn(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?W({...n,guardsResult:!0}):function dle(t,e,n,i){return nn(t).pipe(tn(r=>function _le(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const l=ch(e)??r,c=Mc(a,l);return ho(function ale(t){return t&&hh(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,i):l.runInContext(()=>c(t,e,n,i))).pipe(va())})).pipe(Rc()):W(!0)}(r.component,r.route,n,e,i)),va(r=>!0!==r,!0))}(o,i,r,t).pipe(tn(a=>a&&function ile(t){return"boolean"==typeof t}(a)?function hle(t,e,n,i){return nn(e).pipe(Dc(r=>Rg(function ple(t,e){return null!==t&&e&&e(new Pae(t)),W(!0)}(r.route.parent,i),function fle(t,e){return null!==t&&e&&e(new Lae(t)),W(!0)}(r.route,i),function gle(t,e,n){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ele(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>kg(()=>W(o.guards.map(l=>{const c=ch(o.node)??n,u=Mc(l,c);return ho(function ole(t){return t&&hh(t.canActivateChild)}(u)?u.canActivateChild(i,t):c.runInContext(()=>u(i,t))).pipe(va())})).pipe(Rc())));return W(s).pipe(Rc())}(t,r.path,n),function mle(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return W(!0);const r=i.map(s=>kg(()=>{const o=ch(e)??n,a=Mc(s,o);return ho(function sle(t){return t&&hh(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(va())}));return W(r).pipe(Rc())}(t,r.route,n))),va(r=>!0!==r,!0))}(i,s,t,e):W(a)),ue(a=>({...n,guardsResult:a})))})}(this.environmentInjector,a=>this.events.next(a)),Qt(a=>{if(r.guardsResult=a.guardsResult,wa(a.guardsResult))throw QU(0,a.guardsResult);const l=new Mae(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),Vn(a=>!!a.guardsResult||(i.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),ZC(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(Qt(l=>{const c=new Rae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),yr(l=>{let c=!1;return W(l).pipe(function Ple(t,e){return tn(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return W(n);let s=0;return nn(r).pipe(Dc(o=>function Fle(t,e,n,i){const r=t.routeConfig,s=t._resolve;return void 0!==r?.title&&!uj(r)&&(s[Jd]=r.title),function Lle(t,e,n,i){const r=function Vle(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return W({});const s={};return nn(r).pipe(tn(o=>function Ble(t,e,n,i){const r=ch(e)??i,s=Mc(t,r);return ho(s.resolve?s.resolve(e,n):r.runInContext(()=>s(e,n)))}(t[o],e,n,i).pipe(va(),Qt(a=>{s[o]=a}))),OC(1),function Joe(t){return ue(()=>t)}(s),uo(o=>nj(o)?er:xc(o)))}(s,t,e,i).pipe(ue(o=>(t._resolvedData=o,t.data=WU(t,n).resolve,r&&uj(r)&&(t.data[Jd]=r.title),null)))}(o.route,i,t,e)),Qt(()=>s++),OC(1),tn(o=>s===r.length?W(n):er))})}(i.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>c=!0,complete:()=>{c||(i.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),Qt(l=>{const c=new kae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),ZC(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Qt(d=>{c.component=d}),ue(()=>{})));for(const d of c.children)u.push(...l(d));return u};return Ag(l(a.targetSnapshot.root)).pipe(Og(),Ai(1))}),ZC(()=>this.afterPreactivation()),ue(a=>{const l=function zae(t,e,n){const i=lh(t,e._root,n?n._root:void 0);return new HU(i,e)}(i.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),Qt(a=>{i.currentUrlTree=a.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),i.routerState=a.targetRouterState,"deferred"===i.urlUpdateStrategy&&(a.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,a),i.browserUrlTree=a.urlAfterRedirects)}),((t,e,n,i)=>ue(r=>(new Zae(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)))(this.rootContexts,i.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ai(1),Qt({next:a=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,i.navigated=!0,this.events.next(new Ea(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(i.currentUrlTree))),i.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{s=!0}}),Pg(()=>{s||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),uo(a=>{if(o=!0,JU(a)){ZU(a)||(i.navigated=!0,i.restoreHistory(r,!0));const l=new $g(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode);if(this.events.next(l),ZU(a)){const c=i.urlHandlingStrategy.merge(a.url,i.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||hj(r.source)};i.scheduleNavigation(c,sh,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{i.restoreHistory(r,!0);const l=new jC(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);this.events.next(l);try{r.resolve(i.errorHandler(a))}catch(c){r.reject(c)}}return er}))}))}cancelNavigationTransition(i,r,s){const o=new $g(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hj(t){return t!==sh}let fj=(()=>{var t;class e{buildTitle(i){let r,s=i.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===le);return r}getResolvedTitleForRoute(i){return i.data[Jd]}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:function(){return V(jle)},providedIn:"root"}),e})(),jle=(()=>{var t;class e extends fj{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(fU))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$le=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:function(){return V(Hle)},providedIn:"root"}),e})();class zle{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Hle=(()=>{var t;class e extends zle{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=vn(t)))(r||t)}}(),t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Qg=new S("",{providedIn:"root",factory:()=>({})});let Gle=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:function(){return V(Wle)},providedIn:"root"}),e})(),Wle=(()=>{var t;class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var fh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fh||{});function pj(t,e){t.events.pipe(Vn(n=>n instanceof Ea||n instanceof $g||n instanceof jC||n instanceof oh),ue(n=>n instanceof Ea||n instanceof oh?fh.COMPLETE:n instanceof $g&&(0===n.code||1===n.code)?fh.REDIRECTING:fh.FAILED),Vn(n=>n!==fh.REDIRECTING),Ai(1)).subscribe(()=>{e()})}function qle(t){throw t}function Kle(t,e,n){return e.parse("/")}const Yle={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(UV),this.isNgZoneEnabled=!1,this.options=V(Qg,{optional:!0})||{},this.pendingTasks=V(jV),this.errorHandler=this.options.errorHandler||qle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Kle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(Gle),this.routeReuseStrategy=V($le),this.titleStrategy=V(fj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Nc,{optional:!0})?.flat()??[],this.navigationTransitions=V(Yg),this.urlSerializer=V(th),this.location=V(Kd),this.componentInputBindingEnabled=!!V(Hg,{optional:!0}),this.isNgZoneEnabled=V(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GU(0,null),this.navigationTransitions.setupNavigations(this).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId??0},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sh,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(YC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,r={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a;let h,d=null;switch(l){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=PU(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return FU(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){const s=wa(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,sh,null,r)}navigate(i,r={skipLocationChange:!1}){return function Xle(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new I(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,i)}return r}isActive(i,r){let s;if(s=!0===r?{...Yle}:!1===r?{...Qle}:r,wa(i))return DU(this.currentUrlTree,i,s);const o=this.parseUrl(i);return DU(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.keys(i).reduce((r,s)=>{const o=i[s];return null!=o&&(r[s]=o),r},{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});const d=this.pendingTasks.add();return pj(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(i,r){const s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(s,"",o)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class mj{}let ece=(()=>{var t;class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(i=>i instanceof Ea),Dc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const s=[];for(const o of r){o.providers&&!o._injector&&(o._injector=CE(o.providers,i,`Route: ${o.path}`));const a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return nn(s).pipe(kl())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):W(null);const o=s.pipe(tn(a=>null===a?W(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));return r.loadComponent&&!r._loadedComponent?nn([o,this.loader.loadComponent(r)]).pipe(kl()):o})}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mi),C($V),C(ds),C(mj),C(JC))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const tI=new S("");let gj=(()=>{var t;class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof UC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ea?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof oh&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof $U&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $U(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){$m()},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();function Es(t,e){return{\u0275kind:t,\u0275providers:e}}function yj(){const t=V(Rt);return e=>{const n=t.get(ao);if(e!==n.components[0])return;const i=t.get(Mi),r=t.get(vj);1===t.get(nI)&&i.initialNavigation(),t.get(bj,null,he.Optional)?.setUpPreloading(),t.get(tI,null,he.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const vj=new S("",{factory:()=>new Me}),nI=new S("",{providedIn:"root",factory:()=>1}),bj=new S("");function rce(t){return Es(0,[{provide:bj,useExisting:ece},{provide:mj,useExisting:t}])}const wj=new S("ROUTER_FORROOT_GUARD"),oce=[Kd,{provide:th,useClass:PC},Mi,ah,{provide:Ca,useFactory:function _j(t){return t.routerState.root},deps:[Mi]},JC,[]];function ace(){return new JV("Router",Mi)}let Ej=(()=>{var t;class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[oce,[],{provide:Nc,multi:!0,useValue:i},{provide:wj,useFactory:dce,deps:[[Mi,new It,new fd]]},{provide:Qg,useValue:r||{}},r?.useHash?{provide:ya,useClass:vre}:{provide:ya,useClass:TB},{provide:tI,useFactory:()=>{const t=V(Bse),e=V(q),n=V(Qg),i=V(Yg),r=V(th);return n.scrollOffset&&t.setOffset(n.scrollOffset),new gj(r,i,t,e,n)}},r?.preloadingStrategy?rce(r.preloadingStrategy).\u0275providers:[],{provide:JV,multi:!0,useFactory:ace},r?.initialNavigation?hce(r):[],r?.bindToComponentInputs?Es(8,[YU,{provide:Hg,useExisting:YU}]).\u0275providers:[],[{provide:Cj,useFactory:yj},{provide:KE,multi:!0,useExisting:Cj}]]}}static forChild(i){return{ngModule:e,providers:[{provide:Nc,multi:!0,useValue:i}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(C(wj,8))},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({}),e})();function dce(t){return"guarded"}function hce(t){return["disabled"===t.initialNavigation?Es(3,[{provide:BE,multi:!0,useFactory:()=>{const e=V(Mi);return()=>{e.setUpLocationChangeListener()}}},{provide:nI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Es(2,[{provide:nI,useValue:0},{provide:BE,multi:!0,deps:[Rt],useFactory:e=>{const n=e.get(_re,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=e.get(Mi),s=e.get(vj);pj(r,()=>{i(!0)}),e.get(Yg).afterPreactivation=()=>(i(!0),s.closed?W(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Cj=new S("");function Ij(t,e,n,i,r,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var s=t.apply(e,n);function o(l){Ij(s,i,r,o,a,"next",l)}function a(l){Ij(s,i,r,o,a,"throw",l)}o(void 0)})}}const P=function(t,e){if(!t)throw Oc(e)},Oc=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},xj=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},Xg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new mce;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dj=function(t){const e=xj(t);return Xg.encodeByteArray(e,!0)},Zg=function(t){return Dj(t).replace(/\./g,"")},Jg=function(t){try{return Xg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gce(t){return Tj(void 0,t)}function Tj(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_ce(n)||(t[n]=Tj(t[n],e[n]));return t}function _ce(t){return"__proto__"!==t}const e_=()=>{try{return function yce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Jg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Sj=t=>{var e,n;return null===(n=null===(e=e_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Aj=t=>{const e=Sj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Mj=()=>{var t;return null===(t=e_())||void 0===t?void 0:t.config},Rj=t=>{var e;return null===(e=e_())||void 0===e?void 0:e[`_${t}`]};class Pc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,i))}}}function kj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zg(JSON.stringify({alg:"none",type:"JWT"})),Zg(JSON.stringify(o)),""].join(".")}function sn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function sI(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Nj(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ia(){try{return"object"==typeof indexedDB}catch{return!1}}function ph(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function oI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fr.prototype.create)}}class Fr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function xce(t,e){return t.replace(Dce,(n,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new qi(r,`${this.serviceName}: ${o} (${r}).`,i)}}const Dce=/\{\$([^}]+)}/g;function mh(t){return JSON.parse(t)}function wn(t){return JSON.stringify(t)}const t_=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=mh(Jg(s[0])||""),n=mh(Jg(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}};function Is(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function aI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function n_(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function i_(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Oj(s)&&Oj(o)){if(!i_(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Oj(t){return null!==t&&"object"==typeof t}function gh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}class Ace{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let c,u,r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(0===o)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&n,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}class Rce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(void 0===e&&void 0===n&&void 0===i)throw new Error("Missing Observer.");r=function kce(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:i},void 0===r.next&&(r.next=lI),void 0===r.error&&(r.error=lI),void 0===r.complete&&(r.complete=lI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lI(){}const s_=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},Oce=1e3,Pce=2,Fce=144e5,Lce=.5;function cI(t,e=Oce,n=Pce){const i=e*Math.pow(n,t),r=Math.round(Lce*i*(Math.random()-.5)*2);return Math.min(Fce,i+r)}function Xt(t){return t&&t._delegate?t._delegate:t}class En{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xa="[DEFAULT]";class Bce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Pc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function jce(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...n.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===xa?void 0:t),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var t;return i||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $ce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const uI=[];var xe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(xe||{});const Pj={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},zce=xe.INFO,Hce={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Gce=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=Hce[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class Da{constructor(e){this.name=e,this._logLevel=zce,this._logHandler=Gce,this._userLogHandler=null,uI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Pj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const Wce=(t,e)=>e.some(n=>t instanceof n);let Fj,Lj;const Vj=new WeakMap,dI=new WeakMap,Bj=new WeakMap,hI=new WeakMap,fI=new WeakMap;let pI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Bj.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Jce(t){return"function"==typeof t?function Zce(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kce(){return Lj||(Lj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(mI(this),e),fo(Vj.get(this))}:function(...e){return fo(t.apply(mI(this),e))}:function(e,...n){const i=t.call(mI(this),e,...n);return Bj.set(i,e.sort?e.sort():[e]),fo(i)}}(t):(t instanceof IDBTransaction&&function Qce(t){if(dI.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dI.set(t,e)}(t),Wce(t,function qce(){return Fj||(Fj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,pI):t)}function fo(t){if(t instanceof IDBRequest)return function Yce(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fo(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vj.set(n,t)}).catch(()=>{}),fI.set(e,t),e}(t);if(hI.has(t))return hI.get(t);const e=Jce(t);return e!==t&&(hI.set(t,e),fI.set(e,t)),e}const mI=t=>fI.get(t),tue=["get","getKey","getAll","getAllKeys","count"],nue=["put","add","delete","clear"],gI=new Map;function Uj(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gI.get(e))return gI.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=nue.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!tue.includes(n))return;const s=function(){var o=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return gI.set(e,s),s}!function Xce(t){pI=t(pI)}(t=>({...t,get:(e,n,i)=>Uj(e,n)||t.get(e,n,i),has:(e,n)=>!!Uj(e,n)||t.has(e,n)}));class iue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function rue(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}return null}).filter(n=>n).join(" ")}}const _I="@firebase/app",Ta=new Da("@firebase/app"),o_="[DEFAULT]",Mue={[_I]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sa=new Map,a_=new Map;function Rue(t,e){try{t.container.addComponent(e)}catch(n){Ta.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bn(t){const e=t.name;if(a_.has(e))return Ta.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,t);for(const n of Sa.values())Rue(n,t);return!0}function Aa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const xs=new Fr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nue{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}const po="9.22.2";function yI(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:o_,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw xs.create("bad-app-name",{appName:String(r)});if(n||(n=Mj()),!n)throw xs.create("no-options");const s=Sa.get(r);if(s){if(i_(n,s.options)&&i_(i,s.config))return s;throw xs.create("duplicate-app",{appName:r})}const o=new $ce(r);for(const l of a_.values())o.addComponent(l);const a=new Nue(n,i,o);return Sa.set(r,a),a}function l_(t=o_){const e=Sa.get(t);if(!e&&t===o_&&Mj())return yI();if(!e)throw xs.create("no-app",{appName:t});return e}function $j(){return Array.from(Sa.values())}function at(t,e,n){var i;let r=null!==(i=Mue[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ta.warn(a.join(" "))}Bn(new En(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Oue="firebase-heartbeat-database",Pue=1,_h="firebase-heartbeat-store";let bI=null;function zj(){return bI||(bI=function eue(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=fo(o);return i&&o.addEventListener("upgradeneeded",l=>{i(fo(o.result),l.oldVersion,l.newVersion,fo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Oue,Pue,{upgrade:(t,e)=>{0===e&&t.createObjectStore(_h)}}).catch(t=>{throw xs.create("idb-open",{originalErrorMessage:t.message})})),bI}function wI(){return(wI=_(function*(t){try{return yield(yield zj()).transaction(_h).objectStore(_h).get(Gj(t))}catch(e){if(e instanceof qi)Ta.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e?.message});Ta.warn(n.message)}}})).apply(this,arguments)}function Hj(t,e){return EI.apply(this,arguments)}function EI(){return(EI=_(function*(t,e){try{const i=(yield zj()).transaction(_h,"readwrite");yield i.objectStore(_h).put(e,Gj(t)),yield i.done}catch(n){if(n instanceof qi)Ta.warn(n.message);else{const i=xs.create("idb-set",{originalErrorMessage:n?.message});Ta.warn(i.message)}}})).apply(this,arguments)}function Gj(t){return`${t.name}!${t.options.appId}`}class Bue{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jue(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return _(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wj();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(s=>s.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Wj(),{heartbeatsToSend:i,unsentEntries:r}=function Uue(t,e=1024){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),qj(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),qj(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(e._heartbeatsCache.heartbeats),s=Zg(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Wj(){return(new Date).toISOString().substring(0,10)}class jue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Ia()&&ph().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Fue(t){return wI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Hj(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var i;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Hj(n.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qj(t){return Zg(JSON.stringify({version:2,heartbeats:t})).length}!function $ue(t){Bn(new En("platform-logger",e=>new iue(e),"PRIVATE")),Bn(new En("heartbeat",e=>new Bue(e),"PRIVATE")),at(_I,"0.9.12",t),at(_I,"0.9.12","esm2017"),at("fire-js","")}(""),at("firebase","9.22.2","app");const Gue=(t,e)=>e.some(n=>t instanceof n);let Kj,Yj;const Qj=new WeakMap,CI=new WeakMap,Xj=new WeakMap,II=new WeakMap,xI=new WeakMap;let DI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return CI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Xj.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Zue(t){return"function"==typeof t?function Xue(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function que(){return Yj||(Yj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(TI(this),e),mo(Qj.get(this))}:function(...e){return mo(t.apply(TI(this),e))}:function(e,...n){const i=t.call(TI(this),e,...n);return Xj.set(i,e.sort?e.sort():[e]),mo(i)}}(t):(t instanceof IDBTransaction&&function Yue(t){if(CI.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});CI.set(t,e)}(t),Gue(t,function Wue(){return Kj||(Kj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,DI):t)}function mo(t){if(t instanceof IDBRequest)return function Kue(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mo(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qj.set(n,t)}).catch(()=>{}),xI.set(e,t),e}(t);if(II.has(t))return II.get(t);const e=Zue(t);return e!==t&&(II.set(t,e),xI.set(e,t)),e}const TI=t=>xI.get(t),ede=["get","getKey","getAll","getAllKeys","count"],tde=["put","add","delete","clear"],SI=new Map;function Zj(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(SI.get(e))return SI.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=tde.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!ede.includes(n))return;const s=function(){var o=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return SI.set(e,s),s}!function Que(t){DI=t(DI)}(t=>({...t,get:(e,n,i)=>Zj(e,n)||t.get(e,n,i),has:(e,n)=>!!Zj(e,n)||t.has(e,n)}));const Jj="@firebase/installations",AI="0.6.4",e$=1e4,t$=`w:${AI}`,n$="FIS_v2",nde="https://firebaseinstallations.googleapis.com/v1",ide=36e5,Ds=new Fr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function i$(t){return t instanceof qi&&t.code.includes("request-failed")}function MI({projectId:t}){return`${nde}/projects/${t}/installations`}function r$(t){return{token:t.token,requestStatus:2,expiresIn:ade(t.expiresIn),creationTime:Date.now()}}function RI(t,e){return kI.apply(this,arguments)}function kI(){return(kI=_(function*(t,e){const i=(yield e.json()).error;return Ds.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function s$({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NI(t){return OI.apply(this,arguments)}function OI(){return(OI=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ade(t){return Number(t.replace("s","000"))}function PI(){return(PI=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=MI(t),r=s$(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:n$,appId:t.appId,sdkVersion:t$})},l=yield NI(()=>fetch(i,a));if(l.ok){const c=yield l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:r$(c.authToken)}}throw yield RI("Create Installation",l)})).apply(this,arguments)}function a$(t){return new Promise(e=>{setTimeout(e,t)})}const dde=/^[cdef][\w-]{21}$/,FI="";function hde(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function fde(t){return function ude(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return dde.test(n)?n:FI}catch{return FI}}function Lc(t){return`${t.appName}!${t.appId}`}const Vc=new Map;function l$(t,e){const n=Lc(t);c$(n,e),function gde(t,e){const n=function u$(){return!Ma&&"BroadcastChannel"in self&&(Ma=new BroadcastChannel("[Firebase] FID Change"),Ma.onmessage=t=>{c$(t.data.key,t.data.fid)}),Ma}();n&&n.postMessage({key:t,fid:e}),function d$(){0===Vc.size&&Ma&&(Ma.close(),Ma=null)}()}(n,e)}function c$(t,e){const n=Vc.get(t);if(n)for(const i of n)i(e)}let Ma=null;const _de="firebase-installations-database",yde=1,Ra="firebase-installations-store";let LI=null;function VI(){return LI||(LI=function Jue(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=mo(o);return i&&o.addEventListener("upgradeneeded",l=>{i(mo(o.result),l.oldVersion,l.newVersion,mo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(_de,yde,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ra)}})),LI}function c_(t,e){return BI.apply(this,arguments)}function BI(){return(BI=_(function*(t,e){const n=Lc(t),r=(yield VI()).transaction(Ra,"readwrite"),s=r.objectStore(Ra),o=yield s.get(n);return yield s.put(e,n),yield r.done,(!o||o.fid!==e.fid)&&l$(t,e.fid),e})).apply(this,arguments)}function UI(t){return jI.apply(this,arguments)}function jI(){return(jI=_(function*(t){const e=Lc(t),i=(yield VI()).transaction(Ra,"readwrite");yield i.objectStore(Ra).delete(e),yield i.done})).apply(this,arguments)}function yh(t,e){return $I.apply(this,arguments)}function $I(){return($I=_(function*(t,e){const n=Lc(t),r=(yield VI()).transaction(Ra,"readwrite"),s=r.objectStore(Ra),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield r.done,a&&(!o||o.fid!==a.fid)&&l$(t,a.fid),a})).apply(this,arguments)}function zI(t){return HI.apply(this,arguments)}function HI(){return HI=_(function*(t){let e;const n=yield yh(t.appConfig,i=>{const r=function vde(t){return f$(t||{fid:hde(),registrationStatus:0})}(i),s=function bde(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ds.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function wde(t,e){return GI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ede(t)}:{installationEntry:e}}(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===FI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),HI.apply(this,arguments)}function GI(){return GI=_(function*(t,e){try{const n=yield function cde(t,e){return PI.apply(this,arguments)}(t,e);return c_(t.appConfig,n)}catch(n){throw i$(n)&&409===n.customData.serverCode?yield UI(t.appConfig):yield c_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),GI.apply(this,arguments)}function Ede(t){return WI.apply(this,arguments)}function WI(){return(WI=_(function*(t){let e=yield h$(t.appConfig);for(;1===e.registrationStatus;)yield a$(100),e=yield h$(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:i}=yield zI(t);return i||n}return e})).apply(this,arguments)}function h$(t){return yh(t,e=>{if(!e)throw Ds.create("installation-not-found");return f$(e)})}function f$(t){return function Cde(t){return 1===t.registrationStatus&&t.registrationTime+e$<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function qI(){return(qI=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const i=function xde(t,{fid:e}){return`${MI(t)}/${e}/authTokens:generate`}(t,n),r=function o$(t,{refreshToken:e}){const n=s$(t);return n.append("Authorization",function lde(t){return`${n$} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:t$,appId:t.appId}})},l=yield NI(()=>fetch(i,a));if(l.ok)return r$(yield l.json());throw yield RI("Generate Auth Token",l)})).apply(this,arguments)}function KI(t){return YI.apply(this,arguments)}function YI(){return YI=_(function*(t,e=!1){let n;const i=yield yh(t.appConfig,s=>{if(!m$(s))throw Ds.create("not-registered");const o=s.authToken;if(!e&&function Sde(t){return 2===t.requestStatus&&!function Ade(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ide}(t)}(o))return s;if(1===o.requestStatus)return n=function Dde(t,e){return QI.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ds.create("app-offline");const a=function Mde(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Tde(t,e){return XI.apply(this,arguments)}(t,a),a}});return n?yield n:i.authToken}),YI.apply(this,arguments)}function QI(){return(QI=_(function*(t,e){let n=yield p$(t.appConfig);for(;1===n.authToken.requestStatus;)yield a$(100),n=yield p$(t.appConfig);const i=n.authToken;return 0===i.requestStatus?KI(t,e):i})).apply(this,arguments)}function p$(t){return yh(t,e=>{if(!m$(e))throw Ds.create("not-registered");return function Rde(t){return 1===t.requestStatus&&t.requestTime+e$<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function XI(){return XI=_(function*(t,e){try{const n=yield function Ide(t,e){return qI.apply(this,arguments)}(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return yield c_(t.appConfig,i),n}catch(n){if(!i$(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield c_(t.appConfig,i)}else yield UI(t.appConfig);throw n}}),XI.apply(this,arguments)}function m$(t){return void 0!==t&&2===t.registrationStatus}function ZI(){return(ZI=_(function*(t){const e=t,{installationEntry:n,registrationPromise:i}=yield zI(e);return i?i.catch(console.error):KI(e).catch(console.error),n.fid})).apply(this,arguments)}function JI(){return JI=_(function*(t,e=!1){const n=t;return yield function Ode(t){return ex.apply(this,arguments)}(n),(yield KI(n,e)).token}),JI.apply(this,arguments)}function ex(){return(ex=_(function*(t){const{registrationPromise:e}=yield zI(t);e&&(yield e)})).apply(this,arguments)}function ix(t){return Ds.create("missing-app-config-values",{valueName:t})}const g$="installations",Bde=t=>{const e=t.getProvider("app").getImmediate(),n=function Lde(t){if(!t||!t.options)throw ix("App Configuration");if(!t.name)throw ix("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ix(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Aa(e,"heartbeat"),_delete:()=>Promise.resolve()}},Ude=t=>{const n=Aa(t.getProvider("app").getImmediate(),g$).getImmediate();return{getId:()=>function kde(t){return ZI.apply(this,arguments)}(n),getToken:r=>function Nde(t){return JI.apply(this,arguments)}(n,r)}};(function jde(){Bn(new En(g$,Bde,"PUBLIC")),Bn(new En("installations-internal",Ude,"PRIVATE"))})(),at(Jj,AI),at(Jj,AI,"esm2017");const rx="@firebase/remote-config",mi=new Fr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zde{constructor(e,n,i,r){this.client=e,this.storage=n,this.storageCache=i,this.logger=r}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-n,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var n=this;return _(function*(){const[i,r]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(r&&n.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Jde(t=navigator){return t.languages&&t.languages[0]||t.language}class ehe{constructor(e,n,i,r,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[i,r]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:n.appId,language_code:Jde()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const x=new Error("The operation was aborted.");x.name="AbortError",y(x)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),mi.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw mi.create("fetch-client-parse",{originalErrorMessage:y?.message})}m=v.entries,g=v.state}if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==f&&200!==f)throw mi.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class ihe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const i=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:i}){var r=this;return _(function*(){yield function the(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function nhe(t){if(!(t instanceof qi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+cI(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(o),r.attemptFetch(e,o)}})()}}class ohe{constructor(e,n,i,r,s){this.app=e,this._client=n,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function d_(t,e){const n=t.target.error||void 0;return mi.create(e,{originalErrorMessage:n&&n?.message})}const ka="app_namespace_store";class uhe{constructor(e,n,i,r=function che(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=i=>{e(d_(i,"storage-open"))},n.onsuccess=i=>{t(i.target.result)},n.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ka,{keyPath:"compositeKey"})}}catch(n){e(mi.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const a=i.transaction([ka],"readonly").objectStore(ka),l=n.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(d_(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(c){s(mi.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var i=this;return _(function*(){const r=yield i.openDbPromise;return new Promise((s,o)=>{const l=r.transaction([ka],"readwrite").objectStore(ka),c=i.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:n});u.onerror=d=>{o(d_(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(mi.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return _(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const a=i.transaction([ka],"readwrite").objectStore(ka),l=n.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(d_(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){s(mi.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class dhe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield i;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function fhe(){return cx.apply(this,arguments)}function cx(){return(cx=_(function*(){if(!Ia())return!1;try{return yield ph()}catch{return!1}})).apply(this,arguments)}!function hhe(){Bn(new En("remote-config",function t(e,{instanceIdentifier:n}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mi.create("registration-window");if(!Ia())throw mi.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=i.options;if(!s)throw mi.create("registration-project-id");if(!o)throw mi.create("registration-api-key");if(!a)throw mi.create("registration-app-id");const l=new uhe(a,i.name,n=n||"firebase"),c=new dhe(l),u=new Da(rx);u.logLevel=xe.ERROR;const d=new ehe(r,po,n,s,o,a),h=new ihe(d,l),f=new Zde(h,l,c,u),p=new ohe(i,f,c,l,u);return function Yde(t){const e=Xt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),at(rx,"0.4.4"),at(rx,"0.4.4","esm2017")}();const phe=(t,e)=>e.some(n=>t instanceof n);let b$,w$;const E$=new WeakMap,ux=new WeakMap,C$=new WeakMap,dx=new WeakMap,hx=new WeakMap;let fx={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ux.get(t);if("objectStoreNames"===e)return t.objectStoreNames||C$.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function whe(t){return"function"==typeof t?function bhe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ghe(){return w$||(w$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(px(this),e),Ts(E$.get(this))}:function(...e){return Ts(t.apply(px(this),e))}:function(e,...n){const i=t.call(px(this),e,...n);return C$.set(i,e.sort?e.sort():[e]),Ts(i)}}(t):(t instanceof IDBTransaction&&function yhe(t){if(ux.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ux.set(t,e)}(t),phe(t,function mhe(){return b$||(b$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,fx):t)}function Ts(t){if(t instanceof IDBRequest)return function _he(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ts(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&E$.set(n,t)}).catch(()=>{}),hx.set(e,t),e}(t);if(dx.has(t))return dx.get(t);const e=whe(t);return e!==t&&(dx.set(t,e),hx.set(e,t)),e}const px=t=>hx.get(t);function I$(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Ts(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ts(o.result),l.oldVersion,l.newVersion,Ts(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function mx(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ts(n).then(()=>{})}const Ehe=["get","getKey","getAll","getAllKeys","count"],Che=["put","add","delete","clear"],gx=new Map;function x$(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gx.get(e))return gx.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Che.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Ehe.includes(n))return;const s=function(){var o=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return gx.set(e,s),s}!function vhe(t){fx=t(fx)}(t=>({...t,get:(e,n,i)=>x$(e,n)||t.get(e,n,i),has:(e,n)=>!!x$(e,n)||t.has(e,n)}));const Ihe="/firebase-messaging-sw.js",xhe="/firebase-cloud-messaging-push-scope",D$="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dhe="https://fcmregistrations.googleapis.com/v1",T$="google.c.a.c_id",The="google.c.a.c_l",She="google.c.a.ts";var h_=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(h_||{});function Ss(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rhe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const _x="fcm_token_details_db",khe=5,S$="fcm_token_object_Store";function yx(){return yx=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(_x))return null;let e=null;return(yield I$(_x,khe,{upgrade:(i=_(function*(r,s,o,a){var l;if(s<2||!r.objectStoreNames.contains(S$))return;const c=a.objectStore(S$),u=yield c.index("fcmSenderId").get(t);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ss(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ss(d.auth),p256dh:Ss(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ss(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ss(d.auth),p256dh:Ss(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ss(d.vapidKey)}}}}),function(s,o,a,l){return i.apply(this,arguments)})})).close(),yield mx(_x),yield mx("fcm_vapid_details_db"),yield mx("undefined"),function Ohe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),yx.apply(this,arguments)}const Phe="firebase-messaging-database",Fhe=1,Na="firebase-messaging-store";let vx=null;function bx(){return vx||(vx=I$(Phe,Fhe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Na)}})),vx}function A$(t){return wx.apply(this,arguments)}function wx(){return wx=_(function*(t){const e=xx(t),i=yield(yield bx()).transaction(Na).objectStore(Na).get(e);if(i)return i;{const r=yield function Nhe(t){return yx.apply(this,arguments)}(t.appConfig.senderId);if(r)return yield Ex(t,r),r}}),wx.apply(this,arguments)}function Ex(t,e){return Cx.apply(this,arguments)}function Cx(){return(Cx=_(function*(t,e){const n=xx(t),r=(yield bx()).transaction(Na,"readwrite");return yield r.objectStore(Na).put(e,n),yield r.done,e})).apply(this,arguments)}function Ix(){return(Ix=_(function*(t){const e=xx(t),i=(yield bx()).transaction(Na,"readwrite");yield i.objectStore(Na).delete(e),yield i.done})).apply(this,arguments)}function xx({appConfig:t}){return t.appId}const Cn=new Fr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bhe(t,e){return Dx.apply(this,arguments)}function Dx(){return(Dx=_(function*(t,e){const n=yield Mx(t),i=R$(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(Ax(t.appConfig),r)).json()}catch(o){throw Cn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Cn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Cn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Tx(){return(Tx=_(function*(t,e){const n=yield Mx(t),i=R$(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${Ax(t.appConfig)}/${e.token}`,r)).json()}catch(o){throw Cn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Cn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Cn.create("token-update-no-token");return s.token})).apply(this,arguments)}function M$(t,e){return Sx.apply(this,arguments)}function Sx(){return(Sx=_(function*(t,e){const i={method:"DELETE",headers:yield Mx(t)};try{const s=yield(yield fetch(`${Ax(t.appConfig)}/${e}`,i)).json();if(s.error)throw Cn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw Cn.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function Ax({projectId:t}){return`${Dhe}/projects/${t}/registrations`}function Mx(t){return Rx.apply(this,arguments)}function Rx(){return(Rx=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function R$({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==D$&&(r.web.applicationPubKey=i),r}const jhe=6048e5;function kx(){return kx=_(function*(t){const e=yield function Hhe(t,e){return Fx.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ss(e.getKey("auth")),p256dh:Ss(e.getKey("p256dh"))},i=yield A$(t.firebaseDependencies);if(i){if(function Ghe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(i.subscriptionOptions,n))return Date.now()>=i.createTime+jhe?function zhe(t,e){return Ox.apply(this,arguments)}(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield M$(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return N$(t.firebaseDependencies,n)}return N$(t.firebaseDependencies,n)}),kx.apply(this,arguments)}function Nx(){return Nx=_(function*(t){const e=yield A$(t.firebaseDependencies);e&&(yield M$(t.firebaseDependencies,e.token),yield function Lhe(t){return Ix.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Nx.apply(this,arguments)}function Ox(){return Ox=_(function*(t,e){try{const n=yield function Uhe(t,e){return Tx.apply(this,arguments)}(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Ex(t.firebaseDependencies,i),n}catch(n){throw yield function k$(t){return Nx.apply(this,arguments)}(t),n}}),Ox.apply(this,arguments)}function N$(t,e){return Px.apply(this,arguments)}function Px(){return(Px=_(function*(t,e){const i={token:yield Bhe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Ex(t,i),i.token})).apply(this,arguments)}function Fx(){return(Fx=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rhe(e)})})).apply(this,arguments)}function O$(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Whe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function qhe(t,e){e.data&&(t.data=e.data)}(e,t),function Khe(t,e){var n,i,r,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function P$(t,e){const n=[];for(let i=0;i<t.length;i++)n.push(t.charAt(i)),i<e.length&&n.push(e.charAt(i));return n.join("")}function Lx(t){return Cn.create("missing-app-config-values",{valueName:t})}P$("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),P$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xhe{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function Qhe(t){if(!t||!t.options)throw Lx("App Configuration Object");if(!t.name)throw Lx("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw Lx(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}function Vx(){return(Vx=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Ihe,{scope:xhe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Cn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Bx(){return(Bx=_(function*(t,e){if(!e&&!t.swRegistration&&(yield function F$(t){return Vx.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Cn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Ux(){return(Ux=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=D$)})).apply(this,arguments)}function jx(){return jx=_(function*(t,e){if(!navigator)throw Cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cn.create("permission-blocked");return yield function Jhe(t,e){return Ux.apply(this,arguments)}(t,e?.vapidKey),yield function Zhe(t,e){return Bx.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function $he(t){return kx.apply(this,arguments)}(t)}),jx.apply(this,arguments)}function $x(){return($x=_(function*(t,e,n){const i=function tfe(t){switch(t){case h_.NOTIFICATION_CLICKED:return"notification_open";case h_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[T$],message_name:n[The],message_time:n[She],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zx(){return zx=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===h_.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(O$(n)):t.onMessageHandler.next(O$(n)));const i=n.data;(function Yhe(t){return"object"==typeof t&&!!t&&T$ in t})(i)&&"1"===i["google.c.a.e"]&&(yield function efe(t,e,n){return $x.apply(this,arguments)}(t,n.messageType,i))}),zx.apply(this,arguments)}const V$="@firebase/messaging",ife=t=>{const e=new Xhe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function nfe(t,e){return zx.apply(this,arguments)}(e,n)),e},rfe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>function L$(t,e){return jx.apply(this,arguments)}(e,i)}};function U$(){return Hx.apply(this,arguments)}function Hx(){return(Hx=_(function*(){try{yield ph()}catch{return!1}return typeof window<"u"&&Ia()&&oI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sfe(){Bn(new En("messaging",ife,"PUBLIC")),Bn(new En("messaging-internal",rfe,"PRIVATE")),at(V$,"0.12.4"),at(V$,"0.12.4","esm2017")}();const f_="analytics",lfe="firebase_id",cfe="origin",ufe=6e4,dfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qx="https://www.googletagmanager.com/gtag/js",on=new Da("@firebase/analytics"),ti=new Fr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ffe(t){if(!t.startsWith(qx)){const e=ti.create("invalid-gtag-resource",{gtagURL:t});return on.warn(e.message),""}return t}function j$(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Kx(){return(Kx=_(function*(t,e,n,i,r,s){const o=i[r];try{if(o)yield e[o];else{const l=(yield j$(n)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){on.error(a)}t("config",r,s)})).apply(this,arguments)}function Yx(){return(Yx=_(function*(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=yield j$(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",i,r||{})}catch(s){on.error(s)}})).apply(this,arguments)}const Efe=30,$$=new class Ife{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function xfe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Qx(){return(Qx=_(function*(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:xfe(i)},s=dfe.replace("{app-id}",n),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Xx(){return(Xx=_(function*(t,e=$$,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw ti.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw ti.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Mfe;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:ufe),z$({appId:i,apiKey:r,measurementId:s},o,a,e)})).apply(this,arguments)}function z$(t,e,n){return Zx.apply(this,arguments)}function Zx(){return Zx=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=$$){var s;const{appId:o,measurementId:a}=t;try{yield function Sfe(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(ti.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(l){if(a)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function Dfe(t){return Qx.apply(this,arguments)}(t);return r.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function Afe(t){if(!(t instanceof qi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(r.deleteThrottleMetadata(o),a)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?cI(n,r.intervalMillis,Efe):cI(n,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,d),on.debug(`Calling attemptFetch again in ${u} millis`),z$(t,d,i,r)}}),Zx.apply(this,arguments)}class Mfe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Jx,oD;function eD(){return(eD=_(function*(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const s=yield e;t("event",n,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function aD(){return(aD=_(function*(){if(!Ia())return on.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ph()}catch(t){return on.warn(ti.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function lD(){return lD=_(function*(t,e,n,i,r,s,o){var a;const l=function Tfe(t){return Xx.apply(this,arguments)}(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>on.error(f)),e.push(l);const c=function Lfe(){return aD.apply(this,arguments)}().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([l,c]);(function wfe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qx)&&n.src.includes(t))return n;return null})(s)||function mfe(t,e){const n=function pfe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:ffe}),i=document.createElement("script"),r=`${qx}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(s,u.measurementId),oD&&(r("consent","default",oD),function H$(t){oD=t}(void 0)),r("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[cfe]="firebase",h.update=!0,null!=d&&(h[lfe]=d),r("config",u.measurementId,h),Jx&&(r("set",Jx),function G$(t){Jx=t}(void 0)),u.measurementId}),lD.apply(this,arguments)}class Bfe{constructor(e){this.app=e}_delete(){return delete Lr[this.app.options.appId],Promise.resolve()}}let Lr={},W$=[];const q$={};let Y$,Vr,p_="dataLayer",cD=!1;function jfe(t,e,n){!function Ufe(){const t=[];if(sI()&&t.push("This is a browser extension environment."),oI()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=ti.create("invalid-analytics-context",{errorInfo:e});on.warn(n.message)}}();const i=t.options.appId;if(!i)throw ti.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ti.create("no-api-key");on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lr[i])throw ti.create("already-exists",{id:i});if(!cD){!function gfe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(p_);const{wrappedGtag:s,gtagCore:o}=function bfe(t,e,n,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function vfe(t,e,n,i){function s(){return s=_(function*(o,...a){try{if("event"===o){const[l,c]=a;yield function yfe(t,e,n,i,r){return Yx.apply(this,arguments)}(t,e,n,l,c)}else if("config"===o){const[l,c]=a;yield function _fe(t,e,n,i,r,s){return Kx.apply(this,arguments)}(t,e,n,i,l,c)}else if("consent"===o){const[l]=a;t("consent","update",l)}else if("get"===o){const[l,c,u]=a;t("get",l,c,u)}else if("set"===o){const[l]=a;t("set",l)}else t(o,...a)}catch(l){on.error(l)}}),s.apply(this,arguments)}return function r(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(Lr,W$,q$,p_,"gtag");Vr=s,Y$=o,cD=!0}return Lr[i]=function Vfe(t,e,n,i,r,s,o){return lD.apply(this,arguments)}(t,W$,q$,e,Y$,p_,n),new Bfe(t)}function zfe(){return uD.apply(this,arguments)}function uD(){return(uD=_(function*(){if(sI()||!oI()||!Ia())return!1;try{return yield ph()}catch{return!1}})).apply(this,arguments)}const Q$="@firebase/analytics";!function Gfe(){Bn(new En(f_,(e,{options:n})=>jfe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Bn(new En("analytics-internal",function t(e){try{const n=e.getProvider(f_).getImmediate();return{logEvent:(i,r,s)=>function Hfe(t,e,n,i){t=Xt(t),function Rfe(t,e,n,i,r){return eD.apply(this,arguments)}(Vr,Lr[t.app.options.appId],e,n,i).catch(r=>on.error(r))}(n,i,r,s)}}catch(n){throw ti.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),at(Q$,"0.10.0"),at(Q$,"0.10.0","esm2017")}();class Wfe extends gn{constructor(e,n){super()}schedule(e,n=0){return this}}const m_={setInterval(t,e,...n){const{delegate:i}=m_;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=m_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class g_ extends Wfe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return m_.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&m_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rl(i,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Z$={now:()=>(Z$.delegate||Date).now(),delegate:void 0};class vh{constructor(e,n=vh.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}}vh.now=Z$.now;class __ extends vh{constructor(e,n=vh.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}}const Yfe=new class Kfe extends __{}(class qfe extends g_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}}),y_=new __(g_),Qfe=y_,bh=new io("7.6.1"),hD="__angularfire_symbol__analyticsIsSupportedValue",fD="__angularfire_symbol__analyticsIsSupported",pD="__angularfire_symbol__remoteConfigIsSupportedValue",mD="__angularfire_symbol__remoteConfigIsSupported",gD="__angularfire_symbol__messagingIsSupportedValue",_D="__angularfire_symbol__messagingIsSupported";function v_(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[fD]||(globalThis[fD]=zfe().then(t=>globalThis[hD]=t).catch(()=>globalThis[hD]=!1)),globalThis[_D]||(globalThis[_D]=U$().then(t=>globalThis[gD]=t).catch(()=>globalThis[gD]=!1)),globalThis[mD]||(globalThis[mD]=fhe().then(t=>globalThis[pD]=t).catch(()=>globalThis[pD]=!1));const b_=(t,e)=>{const n=e?[e]:$j(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};function Bc(){}class J${constructor(e,n=Yfe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{e.apply(this,[o])})},n,i)}}class Xfe{constructor(e){this.zone=e,this.task=null}call(e,n){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bc,{},Bc,Bc)),n.pipe(Qt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let w_=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new J$(Zone.current)),this.insideAngular=n.run(()=>new J$(Zone.current,y_)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(C(q))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Oa(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Pa(t){return Oa().ngZone.run(()=>t())}function Jfe(t){return Oa(),function epe(t){return function(n){return(n=n.lift(new Xfe(t.ngZone))).pipe(jp(t.outsideAngular),Up(t.insideAngular))}}(Oa())(t)}const tpe=(t,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Pa(()=>t.apply(void 0,i))},Fa=(t,e)=>function(){let n;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(n||(n=Pa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bc,{},Bc,Bc)))),i[s]=tpe(i[s],n));const r=function Zfe(t){return Oa().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,i));if(!e){if(r instanceof We){const s=Oa();return r.pipe(jp(s.outsideAngular),Up(s.insideAngular))}return Pa(()=>r)}return r instanceof We?r.pipe(Jfe):r instanceof Promise?Pa(()=>new Promise((s,o)=>r.then(a=>Pa(()=>s(a)),a=>Pa(()=>o(a))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Pa(()=>r)};class La{constructor(e){return e}}class E_{constructor(){return $j()}}const vD=new S("angularfire2._apps"),ipe={provide:La,useFactory:function npe(t){return t&&1===t.length?t[0]:new La(l_())},deps:[[new It,vD]]},rpe={provide:E_,deps:[[new It,vD]]};function spe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new La(i)}}let ope=(()=>{class t{constructor(n){at("angularfire",bh.full,"core"),at("angularfire",bh.full,"app"),at("angular",DF.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(C(hs))},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[ipe,rpe]}),t})();function ape(t,...e){return{ngModule:ope,providers:[{provide:vD,useFactory:spe(t),multi:!0,deps:[q,Rt,w_,...e]}]}}const lpe=Fa(yI,!0),bD=new Map,ez={activated:!1,tokenObservers:[]},cpe={initialized:!1,enabled:!1};function Dt(t){return bD.get(t)||Object.assign({},ez)}function C_(){return cpe}const wD="https://content-firebaseappcheck.googleapis.com/v1",fpe="exchangeDebugToken",tz={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class mpe{constructor(e,n,i,r,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new Pc,yield function gpe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Pc,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(i){n.retryPolicy(i)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const In=new Fr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ED(t){if(!Dt(t).activated)throw In.create("use-before-activation",{appName:t.name})}function D_(t,e){return ID.apply(this,arguments)}function ID(){return(ID=_(function*({url:t,body:e},n){const i={"Content-Type":"application/json"},r=n.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:i};let o,a;try{o=yield fetch(t,s)}catch(d){throw In.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw In.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw In.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw In.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function nz(t,e){const{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${wD}/projects/${n}/apps/${i}:${fpe}?key=${r}`,body:{debug_token:e}}}const bpe="firebase-app-check-database",wpe=1,wh="firebase-app-check-store";let T_=null;function xD(){return(xD=_(function*(t,e){const i=(yield function rz(){return T_||(T_=new Promise((t,e)=>{try{const n=indexedDB.open(bpe,wpe);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(In.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},n.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(wh,{keyPath:"compositeKey"})}}catch(n){e(In.create("storage-open",{originalErrorMessage:n?.message}))}}),T_)}()).transaction(wh,"readwrite"),s=i.objectStore(wh).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(In.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Eh=new Da("@firebase/app-check");function SD(t,e){return Ia()?function Cpe(t,e){return function sz(t,e){return xD.apply(this,arguments)}(function az(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Eh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function MD(){return C_().enabled}function RD(){return kD.apply(this,arguments)}function kD(){return(kD=_(function*(){const t=C_();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ape={error:"UNKNOWN_ERROR"};function Mpe(t){return Xg.encodeString(JSON.stringify(t),!1)}function S_(t){return ND.apply(this,arguments)}function ND(){return(ND=_(function*(t,e=!1){const n=t.app;ED(n);const i=Dt(n);let s,r=i.token;if(r&&!Uc(r)&&(i.token=void 0,r=void 0),!r){const l=yield i.cachedTokenPromise;l&&(Uc(l)?r=l:yield SD(n,void 0))}if(!e&&r&&Uc(r))return{token:r.token};let a,o=!1;if(MD()){i.exchangeTokenPromise||(i.exchangeTokenPromise=D_(nz(n,yield RD()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);const l=yield i.exchangeTokenPromise;return yield SD(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Dt(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Eh.warn(l.message):Eh.error(l),s=l}return r?s?a=Uc(r)?{token:r.token,internalError:s}:dz(s):(a={token:r.token},i.token=r,yield SD(n,r)):a=dz(s),o&&function uz(t,e){const n=Dt(t).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function lz(t){return OD.apply(this,arguments)}function OD(){return(OD=_(function*(t){const e=t.app;ED(e);const{provider:n}=Dt(e);if(MD()){const i=yield RD(),{token:r}=yield D_(nz(e,i),t.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield n.getToken();return{token:i}}})).apply(this,arguments)}function FD(t,e){const n=Dt(t),i=n.tokenObservers.filter(r=>r.next!==e);0===i.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function cz(t){const{app:e}=t,n=Dt(e);let i=n.tokenRefresher;i||(i=function Rpe(t){const{app:e}=t;return new mpe(_(function*(){let i;if(i=Dt(e).token?yield S_(t,!0):yield S_(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const n=Dt(e);if(n.token){let i=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,n.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},tz.RETRIAL_MIN_WAIT,tz.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Uc(t){return t.expireTimeMillis-Date.now()>0}function dz(t){return{token:Mpe(Ape),error:t}}class kpe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Dt(this.app);for(const n of e)FD(this.app,n.next);return Promise.resolve()}}const vz="app-check-internal";!function Wpe(){Bn(new En("app-check",t=>function Npe(t,e){return new kpe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(vz).initialize()})),Bn(new En(vz,t=>function Ope(t){return{getToken:e=>S_(t,e),getLimitedUseToken:()=>lz(t),addTokenListener:e=>function PD(t,e,n,i){const{app:r}=t,s=Dt(r);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:i,type:e}],s.token&&Uc(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),cz(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>cz(t))}(t,"INTERNAL",e),removeTokenListener:e=>FD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),at("@firebase/app-check","0.8.0")}();class M_{constructor(){return b_("app-check")}}typeof window<"u"&&window;const Xpe=function wz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ez=new Fr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),R_=new Da("@firebase/auth");function k_(t,...e){R_.logLevel<=xe.ERROR&&R_.error(`Auth (${po}): ${t}`,...e)}function gi(t,...e){throw jD(t,...e)}function Br(t,...e){return jD(t,...e)}function jD(t,...e){if("string"!=typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ez.create(t,...e)}function N(t,e,...n){if(!t)throw jD(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw k_(e),new Error(e)}function go(t,e){t||Ur(e)}function Ch(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Iz(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ih{constructor(e,n){this.shortDelay=e,this.longDelay=n,go(n>e,"Short delay should be less than long delay!"),this.isMobile=rI()||Nj()}get(){return function Jpe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $D(){return"http:"===Iz()||"https:"===Iz()}()||sI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zD(t,e){go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class xz{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nme=new Ih(3e4,6e4);function vt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Tt(t,e,n,i){return HD.apply(this,arguments)}function HD(){return(HD=_(function*(t,e,n,i,r={}){return Dz(t,r,_(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const a=gh(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),xz.fetch()(Tz(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Dz(t,e,n){return GD.apply(this,arguments)}function GD(){return(GD=_(function*(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},tme),e);try{const r=new ime(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw xh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw xh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw xh(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw xh(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function Cz(t,e,n){const i=Object.assign(Object.assign({},Xpe()),{[e]:n});return new Fr("auth","Firebase",i).create(e,{appName:t.name})}(t,u,c);gi(t,u)}}catch(r){if(r instanceof qi)throw r;gi(t,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function WD(){return(WD=_(function*(t,e,n,i,r={}){const s=yield Tt(t,e,n,i,r);return"mfaPendingCredential"in s&&gi(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Tz(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?zD(t.config,r):`${t.config.apiScheme}://${r}`}class ime{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Br(this.auth,"network-request-failed")),nme.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Br(t,e,i);return r.customData._tokenResponse=n,r}function qD(){return(qD=_(function*(t,e){return Tt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function YD(){return(YD=_(function*(t,e){return Tt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function QD(){return(QD=_(function*(t,e=!1){const n=Xt(t),i=yield n.getIdToken(e),r=N_(i);N(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Dh(XD(r.auth_time)),issuedAtTime:Dh(XD(r.iat)),expirationTime:Dh(XD(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function XD(t){return 1e3*Number(t)}function N_(t){const[e,n,i]=t.split(".");if(void 0===e||void 0===n||void 0===i)return k_("JWT malformed, contained fewer than 3 sections"),null;try{const r=Jg(n);return r?JSON.parse(r):(k_("Failed to decode base64 JWT payload"),null)}catch(r){return k_("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ms(t,e){return ZD.apply(this,arguments)}function ZD(){return(ZD=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(i){throw i instanceof qi&&function cme({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})).apply(this,arguments)}class ume{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),i)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class Sz{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dh(this.lastLoginAt),this.creationTime=Dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Th(t){return JD.apply(this,arguments)}function JD(){return JD=_(function*(t){var e;const n=t.auth,i=yield t.getIdToken(),r=yield Ms(t,function ome(t,e){return YD.apply(this,arguments)}(n,{idToken:i}));N(r?.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function fme(t){return t.map(e=>{var{providerId:n}=e,i=iw(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function hme(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sz(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),JD.apply(this,arguments)}function eT(){return(eT=_(function*(t){const e=Xt(t);yield Th(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function tT(){return(tT=_(function*(t,e){const n=yield Dz(t,{},_(function*(){const i=gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Tz(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xz.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Sh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function lme(t){const e=N_(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var i=this;return _(function*(){return N(!i.accessToken||i.refreshToken,e,"user-token-expired"),n||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var i=this;return _(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function pme(t,e){return tT.apply(this,arguments)}(e,n);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Sh;return i&&(N("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(N("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sh,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function _o(t,e){N("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Va{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=iw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ume(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sz(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const i=yield Ms(n,n.stsTokenManager.getToken(n.auth,e));return N(i,n.auth,"internal-error"),n.accessToken!==i&&(n.accessToken=i,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),i})()}getIdTokenResult(e){return function ame(t){return QD.apply(this,arguments)}(this,e)}reload(){return function dme(t){return eT.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Va(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var i=this;return _(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Th(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield Ms(e,function rme(t,e){return qD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const d=null!==(i=n.displayName)&&void 0!==i?i:void 0,h=null!==(r=n.email)&&void 0!==r?r:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:x,emailVerified:R,isAnonymous:j,providerData:K,stsTokenManager:ye}=n;N(x&&ye,e,"internal-error");const en=Sh.fromJSON(this.name,ye);N("string"==typeof x,e,"internal-error"),_o(d,e.name),_o(h,e.name),N("boolean"==typeof R,e,"internal-error"),N("boolean"==typeof j,e,"internal-error"),_o(f,e.name),_o(p,e.name),_o(m,e.name),_o(g,e.name),_o(v,e.name),_o(y,e.name);const qn=new Va({uid:x,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:en,createdAt:v,lastLoginAt:y});return K&&Array.isArray(K)&&(qn.providerData=K.map(_r=>Object.assign({},_r))),g&&(qn._redirectEventId=g),qn}static _fromIdTokenResponse(e,n,i=!1){return _(function*(){const r=new Sh;r.updateFromServerResponse(n);const s=new Va({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Th(s),s})()}}const Az=new Map;function Rs(t){go(t instanceof Function,"Expected a class definition");let e=Az.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Az.set(t,e),e)}const Mz=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,i){var r=this;return _(function*(){r.storage[n]=i})()}_get(n){var i=this;return _(function*(){const r=i.storage[n];return void 0===r?null:r})()}_remove(n){var i=this;return _(function*(){delete i.storage[n]})()}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})();function O_(t,e,n){return`firebase:${t}:${e}:${n}`}class $c{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=O_(this.userKey,r.apiKey,s),this.fullPersistenceKey=O_("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Va._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const i=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,i?n.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return _(function*(){if(!n.length)return new $c(Rs(Mz),e,i);const r=(yield Promise.all(n.map(function(){var c=_(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Rs(Mz);const o=O_(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=yield c._get(o);if(u){const d=Va._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new $c(s,e,i)):new $c(s,e,i)})()}}function Rz(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Oz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fz(e))return"Blackberry";if(Lz(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||Nz(e))&&!e.includes("edge/"))return"Chrome";if(Pz(e))return"Android";{const i=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function kz(t=sn()){return/firefox\//i.test(t)}function nT(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nz(t=sn()){return/crios\//i.test(t)}function Oz(t=sn()){return/iemobile/i.test(t)}function Pz(t=sn()){return/android/i.test(t)}function Fz(t=sn()){return/blackberry/i.test(t)}function Lz(t=sn()){return/webos/i.test(t)}function P_(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vz(t=sn()){return P_(t)||Pz(t)||Lz(t)||Fz(t)||/windows phone/i.test(t)||Oz(t)}function Bz(t,e=[]){let n;switch(t){case"Browser":n=Rz(sn());break;case"Worker":n=`${Rz(sn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${i}`}function Uz(t,e){return rT.apply(this,arguments)}function rT(){return(rT=_(function*(t,e){return Tt(t,"GET","/v2/recaptchaConfig",vt(t,e))})).apply(this,arguments)}function $z(t){return void 0!==t&&void 0!==t.enterprise}class zz{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function sT(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Br("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",function vme(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(i)})}function Hz(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Gz{constructor(e){this.type="recaptcha-enterprise",this.auth=an(e)}verify(e="verify",n=!1){var i=this;return _(function*(){function s(){return s=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=_(function*(c,u){Uz(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new zz(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;$z(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function r(a){return s.apply(this,arguments)})(i.auth).then(c=>{if(!n&&$z(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));sT("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}class Cme{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const i=[];try{for(const r of n.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class Ime{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wz(this),this.idTokenSubscription=new Wz(this),this.beforeStateQueue=new Cme(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ez,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var i=this;return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(_(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield $c.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(n),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var i;const r=yield n.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=r,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return N(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let i=null;try{i=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield Th(e)}catch(i){if("auth/network-request-failed"!==i?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function eme(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const i=e?Xt(e):null;return i&&N(i.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(i&&i._clone(n))})()}_updateCurrentUser(e,n=!1){var i=this;return _(function*(){if(!i._deleted)return e&&N(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),n||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(_(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Rs(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield Uz(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new zz(n);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new Gz(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var i=this;return _(function*(){const r=yield i.getOrInitRedirectPersistenceManager(n);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const i=e&&Rs(e)||n._popupRedirectResolver;N(i,n,"argument-error"),n.redirectPersistenceManager=yield $c.create(n,[Rs(i._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var i,r;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(i=n._currentUser)||void 0===i?void 0:i._redirectEventId)===e?n._currentUser:(null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,i,r):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield e._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const i=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return i?.error&&function Zpe(t,...e){R_.logLevel<=xe.WARN&&R_.warn(`Auth (${po}): ${t}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function an(t){return Xt(t)}class Wz{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Mce(t,e){const n=new Rce(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kz(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Mme{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}function ks(t,e){return ET.apply(this,arguments)}function ET(){return(ET=_(function*(t,e){return function As(t,e,n,i){return WD.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",vt(t,e))})).apply(this,arguments)}class vo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hme extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return _(function*(){const s=yield Va._fromIdTokenResponse(e,i,r),o=Zz(i);return new Ki({user:s,providerId:o,_tokenResponse:i,operationType:n})})()}static _forOperation(e,n,i){return _(function*(){yield e._updateTokensIfNecessary(i,!0);const r=Zz(i);return new Ki({user:e,providerId:r,_tokenResponse:i,operationType:n})})()}}function Zz(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class U_ extends qi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,U_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new U_(e,n,i,r)}}function Jz(t,e,n,i){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?U_._fromErrorAndOperation(t,s,e,i):s})}function kT(){return(kT=_(function*(t,e,n=!1){const i=yield Ms(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ki._forOperation(t,"link",i)})).apply(this,arguments)}function OT(){return(OT=_(function*(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=yield Ms(t,Jz(i,r,e,t),n);N(s.idToken,i,"internal-error");const o=N_(s.idToken);N(o,i,"internal-error");const{sub:a}=o;return N(t.uid===a,i,"user-mismatch"),Ki._forOperation(t,r,s)}catch(s){throw"auth/user-not-found"===s?.code&&gi(i,"user-mismatch"),s}})).apply(this,arguments)}function PT(){return(PT=_(function*(t,e,n=!1){const i="signIn",r=yield Jz(t,i,e),s=yield Ki._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const $_="__sak";class rH{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($_,"1"),this.storage.removeItem($_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fge=(()=>{class t extends rH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function uge(){const t=sn();return nT(t)||P_(t)}()&&function _me(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vz(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);!function gme(){return function Cce(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,i){this.localCache[n]=i;const r=this.listeners[n];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,i){var r=()=>super._set,s=this;return _(function*(){yield r().call(s,n,i),s.localCache[n]=JSON.stringify(i)})()}_get(n){var i=()=>super._get,r=this;return _(function*(){const s=yield i().call(r,n);return r.localCache[n]=JSON.stringify(s),s})()}_remove(n){var i=()=>super._remove,r=this;return _(function*(){yield i().call(r,n),delete r.localCache[n]})()}}return t.type="LOCAL",t})(),sH=(()=>{class t extends rH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})();let mge=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;const r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){var i=this;return _(function*(){const r=n,{eventId:s,eventType:o,data:a}=r.data,l=i.handlersMap[o];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=_(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function pge(t){return Promise.all(t.map(function(){var e=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(i){return{fulfilled:!1,reason:i}}});return function(n){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function dS(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}class gge{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){var r=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=dS("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},r.handlers.add(a),s.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function jt(){return window}function hS(){return typeof jt().WorkerGlobalScope<"u"&&"function"==typeof jt().importScripts}function fS(){return(fS=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oH="firebaseLocalStorageDb",z_="firebaseLocalStorage",aH="fbase_key";class kh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function H_(t,e){return t.transaction([z_],e?"readwrite":"readonly").objectStore(z_)}function pS(){const t=indexedDB.open(oH,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(z_,{keyPath:aH})}catch(r){n(r)}}),t.addEventListener("success",_(function*(){const i=t.result;i.objectStoreNames.contains(z_)?e(i):(i.close(),yield function Ege(){const t=indexedDB.deleteDatabase(oH);return new kh(t).toPromise()}(),e(yield pS()))}))})}function lH(t,e,n){return mS.apply(this,arguments)}function mS(){return(mS=_(function*(t,e,n){const i=H_(t,!0).put({[aH]:e,value:n});return new kh(i).toPromise()})).apply(this,arguments)}function gS(){return(gS=_(function*(t,e){const n=H_(t,!1).get(e),i=yield new kh(n).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function cH(t,e){const n=H_(t,!0).delete(e);return new kh(n).toPromise()}const Dge=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield pS()),n.db})()}_withRetries(n){var i=this;return _(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield n(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return hS()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=mge._getInstance(function bge(){return hS()?self:null}()),n.receiver._subscribe("keyChanged",function(){var i=_(function*(r,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var i=_(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var i,r;if(n.activeServiceWorker=yield function yge(){return fS.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new gge(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(i=s[0])&&void 0!==i&&i.fulfilled&&null!==(r=s[0])&&void 0!==r&&r.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var i=this;return _(function*(){if(i.sender&&i.activeServiceWorker&&function vge(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:n},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield pS();return yield lH(n,$_,"1"),yield cH(n,$_),!0}catch{}return!1})()}_withPendingWrite(n){var i=this;return _(function*(){i.pendingWrites++;try{yield n()}finally{i.pendingWrites--}})()}_set(n,i){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(s=>lH(s,n,i)),r.localCache[n]=i,r.notifyServiceWorker(n)}))})()}_get(n){var i=this;return _(function*(){const r=yield i._withRetries(s=>function Cge(t,e){return gS.apply(this,arguments)}(s,n));return i.localCache[n]=r,r})()}_remove(n){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(r=>cH(r,n)),delete i.localCache[n],i.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const i=yield n._withRetries(o=>{const a=H_(o,!1).getAll();return new kh(a).toPromise()});if(!i)return[];if(0!==n.pendingWrites)return[];const r=[],s=new Set;for(const{fbase_key:o,value:a}of i)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),r.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(n,i){this.localCache[n]=i;const r=this.listeners[n];if(r)for(const s of Array.from(r))s(i)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();Hz("rcb"),new Ih(3e4,6e4);class xS extends Mme{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $ge(t){return function nH(t,e){return PT.apply(this,arguments)}(t.auth,new xS(t),t.bypassAuthState)}function zge(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),function tH(t,e){return OT.apply(this,arguments)}(n,new xS(t),t.bypassAuthState)}function Hge(t){return DS.apply(this,arguments)}function DS(){return(DS=_(function*(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),function RT(t,e){return kT.apply(this,arguments)}(n,new xS(t),t.bypassAuthState)})).apply(this,arguments)}class Gge{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=_(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(i,r){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return _(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(c))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $ge;case"linkViaPopup":case"linkViaRedirect":return Hge;case"reauthViaPopup":case"reauthViaRedirect":return zge;default:gi(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ih(2e3,1e4);const Wge="pendingRedirect",Nh=new Map;class qge extends Gge{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,n=this;return _(function*(){let i=Nh.get(n.auth._key());if(!i){try{const s=(yield function Kge(t,e){return RS.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}Nh.set(n.auth._key(),i)}return n.bypassAuthState||Nh.set(n.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,i=this;return _(function*(){if("signInViaRedirect"===e.type)return n().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,n().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function RS(){return(RS=_(function*(t,e){const n=function hH(t){return O_(Wge,t.config.apiKey,t.name)}(e),i=function dH(t){return Rs(t._redirectPersistence)}(t);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(n));return yield i._remove(n),r})).apply(this,arguments)}function Yge(t,e){Nh.set(t._key(),e)}function fH(t,e){return VS.apply(this,arguments)}function VS(){return(VS=_(function*(t,e,n=!1){const i=an(t),r=function Ua(t,e){return e?Rs(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(i,e),o=yield new qge(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})).apply(this,arguments)}class e_e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function t_e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gH(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!gH(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";n.onError(Br(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mH(e))}saveEventToCache(e){this.cachedEventUids.add(mH(e)),this.lastProcessedEventTime=Date.now()}}function mH(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gH({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function US(){return(US=_(function*(t,e={}){return Tt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const i_e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r_e=/^https?/;function jS(){return jS=_(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function n_e(t){return US.apply(this,arguments)}(t);for(const n of e)try{if(o_e(n))return}catch{}gi(t,"unauthorized-domain")}),jS.apply(this,arguments)}function o_e(t){const e=Ch(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===i}if(!r_e.test(n))return!1;if(i_e.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const a_e=new Ih(3e4,6e4);function _H(){const t=jt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let W_=null;const u_e=new Ih(5e3,15e3),d_e="__/auth/iframe",h_e="emulator/auth/iframe",f_e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p_e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m_e(t){const e=t.config;N(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zD(e,h_e):`https://${t.config.authDomain}/${d_e}`,i={apiKey:e.apiKey,appName:t.name,v:po},r=p_e.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${gh(i).slice(1)}`}function $S(){return $S=_(function*(t){const e=yield function c_e(t){return W_=W_||function l_e(t){return new Promise((e,n)=>{var i,r,s;function o(){_H(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_H(),n(Br(t,"network-request-failed"))},timeout:a_e.get()})}if(null!==(r=null===(i=jt().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(s=jt().gapi)||void 0===s||!s.load){const a=Hz("iframefcb");return jt()[a]=()=>{gapi.load?o():n(Br(t,"network-request-failed"))},sT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(e=>{throw W_=null,e})}(t),W_}(t),n=jt().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:m_e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f_e,dontclear:!0},i=>new Promise(function(){var r=_(function*(s,o){yield i.restyle({setHideOnLeave:!1});const a=Br(t,"network-request-failed"),l=jt().setTimeout(()=>{o(a)},u_e.get());function c(){jt().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{o(a)})});return function(s,o){return r.apply(this,arguments)}}()))}),$S.apply(this,arguments)}const __e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const I_e="__/auth/handler",x_e="emulator/auth/handler",D_e=encodeURIComponent("fac");function vH(t,e,n,i,r,s){return zS.apply(this,arguments)}function zS(){return(zS=_(function*(t,e,n,i,r,s){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:po,eventId:r};if(e instanceof vo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Hme){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield t._getAppCheckToken(),c=l?`#${D_e}=${encodeURIComponent(l)}`:"";return`${function T_e({config:t}){return t.emulator?zD(t,x_e):`https://${t.authDomain}/${I_e}`}(t)}?${gh(a).slice(1)}${c}`})).apply(this,arguments)}const HS="webStorageSupport",A_e=class S_e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sH,this._completeRedirectFn=fH,this._overrideRedirectResult=Yge}_openPopup(e,n,i,r){var s=this;return _(function*(){var o;go(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield vH(e,n,i,Ch(),r);return function E_e(t,e,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},__e),{width:i.toString(),height:r.toString(),top:s,left:o}),c=sn().toLowerCase();n&&(a=Nz(c)?"_blank":n),kz(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function mme(t=sn()){var e;return P_(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function C_e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(e||"",a),new yH(null);const d=window.open(e||"",a,u);N(d,t,"popup-blocked");try{d.focus()}catch{}return new yH(d)}(e,a,dS())})()}_openRedirect(e,n,i,r){var s=this;return _(function*(){return yield s._originValidation(e),function _ge(t){jt().location.href=t}(yield vH(e,n,i,Ch(),r)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(go(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){var n=this;return _(function*(){const i=yield function g_e(t){return $S.apply(this,arguments)}(e),r=new e_e(e);return i.register("authEvent",s=>(N(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:r},n.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(HS,{type:HS},r=>{var s;const o=null===(s=r?.[0])||void 0===s?void 0:s[HS];void 0!==o&&n(!!o),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function s_e(t){return jS.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vz()||nT()||P_()}};var EH="@firebase/auth";class M_e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const O_e=Rj("authIdTokenMaxAge")||300;let IH=null;const P_e=t=>function(){var e=_(function*(n){const i=n&&(yield n.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>O_e)return;const s=i?.token;IH!==s&&(IH=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function F_e(t=l_()){const e=Aa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function xme(t,e){const n=Aa(t,"auth");if(n.isInitialized()){const r=n.getImmediate();if(i_(n.getOptions(),e??{}))return r;gi(r,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:A_e,persistence:[Dge,fge,sH]}),i=Rj("authTokenSyncURL");if(i){const s=P_e(i);(function sge(t,e,n){Xt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function rge(t,e,n,i){Xt(t).onIdTokenChanged(e,n,i)}(n,o=>s(o))}const r=Sj("auth");return r&&function Tme(t,e,n){const i=an(t);N(i._canInitEmulator,i,"emulator-config-failed"),N(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!n?.disableWarnings,s=qz(e),{host:o,port:a}=function Sme(t){const e=qz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Kz(i.substr(s.length+1))}}{const[s,o]=i.split(":");return{host:s,port:Kz(o)}}}(e);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function Ame(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${r}`),n}!function k_e(t){Bn(new En("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bz(t)},c=new Ime(i,r,s,l);return function Dme(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Rs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Bn(new En("auth-internal",e=>{const n=an(e.getProvider("auth").getImmediate());return new M_e(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(EH,"0.23.2",function R_e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),at(EH,"0.23.2","esm2017")}("Browser");class WS{constructor(e){return e}}class qS{constructor(){return b_("auth")}}const KS=new S("angularfire2.auth-instances");function V_e(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new WS(i)}}const B_e={provide:qS,deps:[[new It,KS]]},U_e={provide:WS,useFactory:function L_e(t,e){const n=v_("auth",t,e);return n&&new WS(n)},deps:[[new It,KS],La]};let j_e=(()=>{class t{constructor(){at("angularfire",bh.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[U_e,B_e]}),t})();function $_e(t,...e){return{ngModule:j_e,providers:[{provide:KS,useFactory:V_e(t),multi:!0,deps:[q,Rt,w_,E_,[new It,M_],...e]}]}}const z_e=Fa(F_e,!0);var L,H_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ur={},YS=YS||{},ne=H_e||self;function K_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Oh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var QS="closure_uid_"+(1e9*Math.random()>>>0),W_e=0;function q_e(t,e,n){return t.call.apply(t.bind,arguments)}function K_e(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Un(t,e,n){return(Un=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?q_e:K_e).apply(null,arguments)}function Y_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function ln(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function bo(){this.s=this.s,this.o=this.o}bo.prototype.s=!1,bo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function G_e(t){Object.prototype.hasOwnProperty.call(t,QS)&&t[QS]||(t[QS]=++W_e)}(this)},bo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DH=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function XS(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function TH(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(K_(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function jn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jn.prototype.h=function(){this.defaultPrevented=!0};var Q_e=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function Ph(t){return/^[\s\xa0]*$/.test(t)}function Q_(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function jr(t){return-1!=Q_().indexOf(t)}function ZS(t){return ZS[" "](t),t}ZS[" "]=function(){};var eA,t,Z_e=jr("Opera"),Hc=jr("Trident")||jr("MSIE"),SH=jr("Edge"),JS=SH||Hc,AH=jr("Gecko")&&!(-1!=Q_().toLowerCase().indexOf("webkit")&&!jr("Edge"))&&!(jr("Trident")||jr("MSIE"))&&!jr("Edge"),J_e=-1!=Q_().toLowerCase().indexOf("webkit")&&!jr("Edge");function MH(){var t=ne.document;return t?t.documentMode:void 0}e:{var tA="",nA=(t=Q_(),AH?/rv:([^\);]+)(\)|;)/.exec(t):SH?/Edge\/([\d\.]+)/.exec(t):Hc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):J_e?/WebKit\/(\S+)/.exec(t):Z_e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(nA&&(tA=nA?nA[1]:""),Hc){var iA=MH();if(null!=iA&&iA>parseFloat(tA)){eA=String(iA);break e}}eA=tA}var eye=ne.document&&Hc&&(MH()||parseInt(eA,10))||void 0;function Fh(t,e){if(jn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(AH){e:{try{ZS(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tye[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Fh.$.h.call(this)}}ln(Fh,jn);var tye={2:"touch",3:"pen",4:"mouse"};Fh.prototype.h=function(){Fh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Lh="closure_listenable_"+(1e6*Math.random()|0),nye=0;function iye(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++nye,this.fa=this.ia=!1}function X_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function sA(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function kH(t){const e={};for(const n in t)e[n]=t[n];return e}const NH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OH(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let s=0;s<NH.length;s++)n=NH[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Z_(t){this.src=t,this.g={},this.h=0}function oA(t,e){var n=e.type;if(n in t.g){var s,i=t.g[n],r=DH(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(X_(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function aA(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}Z_.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=aA(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new iye(e,this.src,s,!!i,r)).ia=n,t.push(e)),e};var lA="closure_lm_"+(1e6*Math.random()|0),cA={};function PH(t,e,n,i,r){if(i&&i.once)return LH(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)PH(t,e[s],n,i,r);return null}return n=fA(n),t&&t[Lh]?t.O(e,n,Oh(i)?!!i.capture:!!i,r):FH(t,e,n,!1,i,r)}function FH(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Oh(r)?!!r.capture:!!r,a=dA(t);if(a||(t[lA]=a=new Z_(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function sye(){const e=oye;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Q_e||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(BH(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function LH(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LH(t,e[s],n,i,r);return null}return n=fA(n),t&&t[Lh]?t.P(e,n,Oh(i)?!!i.capture:!!i,r):FH(t,e,n,!0,i,r)}function VH(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)VH(t,e[s],n,i,r);else i=Oh(i)?!!i.capture:!!i,n=fA(n),t&&t[Lh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=aA(s=t.g[e],n,i,r))&&(X_(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=dA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=aA(e,n,i,r)),(n=-1<t?e[t]:null)&&uA(n))}function uA(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Lh])oA(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(BH(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=dA(e))?(oA(n,t),0==n.h&&(n.src=null,e[lA]=null)):X_(t)}}}function BH(t){return t in cA?cA[t]:cA[t]="on"+t}function oye(t,e){if(t.fa)t=!0;else{e=new Fh(e,this);var n=t.listener,i=t.la||t.src;t.ia&&uA(t),t=n.call(i,e)}return t}function dA(t){return(t=t[lA])instanceof Z_?t:null}var hA="__closure_events_fn_"+(1e9*Math.random()>>>0);function fA(t){return"function"==typeof t?t:(t[hA]||(t[hA]=function(e){return t.handleEvent(e)}),t[hA])}function cn(){bo.call(this),this.i=new Z_(this),this.S=this,this.J=null}function xn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"==typeof e)e=new jn(e,t);else if(e instanceof jn)e.target=e.target||t;else{var r=e;OH(e=new jn(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=J_(o,i,!0,e)&&r}if(r=J_(o=e.g=t,i,!0,e)&&r,r=J_(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=J_(o=e.g=n[s],i,!1,e)&&r}function J_(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&oA(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}ln(cn,bo),cn.prototype[Lh]=!0,cn.prototype.removeEventListener=function(t,e,n,i){VH(this,t,e,n,i)},cn.prototype.N=function(){if(cn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)X_(n[i]);delete t.g[e],t.h--}}this.J=null},cn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},cn.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var pA=ne.JSON.stringify;function lye(){var t=mA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var UH=new class aye{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new uye,t=>t.reset());class uye{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dye(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function hye(t){ne.setTimeout(()=>{throw t},0)}let Vh,Bh=!1,mA=new class cye{constructor(){this.h=this.g=null}add(e,n){const i=UH.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},jH=()=>{const t=ne.Promise.resolve(void 0);Vh=()=>{t.then(fye)}};var fye=()=>{for(var t;t=lye();){try{t.h.call(t.g)}catch(n){hye(n)}var e=UH;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bh=!1};function ey(t,e){cn.call(this),this.h=t||1,this.g=e||ne,this.j=Un(this.qb,this),this.l=Date.now()}function gA(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function _A(t,e,n){if("function"==typeof t)n&&(t=Un(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Un(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function $H(t){t.g=_A(()=>{t.g=null,t.i&&(t.i=!1,$H(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}ln(ey,cn),(L=ey.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xn(this,"tick"),this.ga&&(gA(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){ey.$.N.call(this),gA(this),delete this.g};class pye extends bo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$H(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uh(t){bo.call(this),this.h=t,this.g={}}ln(Uh,bo);var zH=[];function HH(t,e,n,i){Array.isArray(n)||(n&&(zH[0]=n.toString()),n=zH);for(var r=0;r<n.length;r++){var s=PH(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function GH(t){sA(t.g,function(e,n){this.g.hasOwnProperty(n)&&uA(e)},t),t.g={}}function ty(){this.g=!0}function Gc(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yye(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return pA(n)}catch{return e}}(t,n)+(i?" "+i:"")})}Uh.prototype.N=function(){Uh.$.N.call(this),GH(this)},Uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ty.prototype.Ea=function(){this.g=!1},ty.prototype.info=function(){};var ja={},WH=null;function ny(){return WH=WH||new cn}function qH(t){jn.call(this,ja.Ta,t)}function jh(t){const e=ny();xn(e,new qH(e))}function KH(t,e){jn.call(this,ja.STAT_EVENT,t),this.stat=e}function ni(t){const e=ny();xn(e,new KH(e,t))}function YH(t,e){jn.call(this,ja.Ua,t),this.size=e}function $h(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}ja.Ta="serverreachability",ln(qH,jn),ja.STAT_EVENT="statevent",ln(KH,jn),ja.Ua="timingevent",ln(YH,jn);var iy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QH={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yA(){}function ZH(){}yA.prototype.h=null;var wA,zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vA(){jn.call(this,"d")}function bA(){jn.call(this,"c")}function ry(){}function Hh(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Uh(this),this.P=vye,this.V=new ey(t=JS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JH}function JH(){this.i=null,this.g="",this.h=!1}ln(vA,jn),ln(bA,jn),ln(ry,yA),ry.prototype.g=function(){return new XMLHttpRequest},ry.prototype.i=function(){return{}},wA=new ry;var vye=45e3,EA={},sy={};function CA(t,e,n){t.L=1,t.v=cy(Ns(e)),t.s=n,t.S=!0,e4(t,null)}function e4(t,e){t.G=Date.now(),Gh(t),t.A=Ns(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),u4(n.i,"t",i),t.C=0,n=t.l.J,t.h=new JH,t.g=O4(t.l,n?e:null,!t.s),0<t.O&&(t.M=new pye(Un(t.Pa,t,t.g),t.O)),HH(t.U,t.g,"readystatechange",t.nb),e=t.I?kH(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),jh(),function mye(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function t4(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function n4(t,e,n){let r,i=!0;for(;!t.J&&t.C<n.length;){if(r=bye(t,n),r==sy){4==e&&(t.o=4,ni(14),i=!1),Gc(t.j,t.m,null,"[Incomplete Response]");break}if(r==EA){t.o=4,ni(15),Gc(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Gc(t.j,t.m,r,null),IA(t,r)}t4(t)&&r!=sy&&r!=EA&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ni(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),RA(e),e.M=!0,ni(11))):(Gc(t.j,t.m,n,"[Invalid Chunked Response]"),$a(t),Wh(t))}function bye(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?sy:(n=Number(e.substring(n,i)),isNaN(n)?EA:(i+=1)+n>e.length?sy:(e=e.slice(i,i+n),t.C=i+n,e))}function Gh(t){t.Y=Date.now()+t.P,i4(t,t.P)}function i4(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=$h(Un(t.lb,t),e)}function oy(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}function Wh(t){0==t.l.H||t.J||M4(t.l,t)}function $a(t){oy(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,gA(t.V),GH(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function IA(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||xA(n.i,t)))if(!t.K&&xA(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;my(n),fy(n)}MA(n),ni(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=$h(Un(n.ib,n),6e3));if(1>=f4(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ha(n,11)}else if((t.K||n.g==t)&&my(n),!Ph(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const u=c[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=i=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(DA(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,lt(i.I,i.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((i=n).wa=N4(i,i.J?i.pa:null,i.Y),o.K){p4(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(oy(a),Gh(a)),i.g=o}else S4(i);0<n.j.length&&py(n)}else"stop"!=c[0]&&"close"!=c[0]||Ha(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ha(n,7):AA(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}jh()}catch{}}function r4(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(K_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Eye(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(K_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function wye(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(K_(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(L=Hh.prototype).setTimeout=function(t){this.P=t},L.nb=function(t){t=t.target;const e=this.M;e&&3==$r(t)?e.l():this.Pa(t)},L.Pa=function(t){try{if(t==this.g)e:{const u=$r(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||JS||this.g&&(this.h.h||this.g.ja()||E4(this.g)))){this.J||4!=u||7==e||jh(),oy(this);var n=this.g.da();this.ca=n;t:if(t4(this)){var i=E4(this.g);t="";var r=i.length,s=4==$r(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$a(this),Wh(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function gye(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ph(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ni(12),$a(this),Wh(this);break e}Gc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IA(this,n)}this.S?(n4(this,u,o),JS&&this.i&&3==u&&(HH(this.U,this.V,"tick",this.mb),this.V.start())):(Gc(this.j,this.m,o,null),IA(this,o)),4==u&&$a(this),this.i&&!this.J&&(4==u?M4(this.l,this):(this.i=!1,Gh(this)))}else(function Uye(t){const e={};t=(t.g&&2<=$r(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(Ph(t[i]))continue;var n=dye(t[i]);const r=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function rye(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(i){return i.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ni(12)):(this.o=0,ni(13)),$a(this),Wh(this)}}}catch{}},L.mb=function(){if(this.g){var t=$r(this.g),e=this.g.ja();this.C<e.length&&(oy(this),n4(this,t,e),this.i&&4!=t&&Gh(this))}},L.cancel=function(){this.J=!0,$a(this)},L.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function _ye(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(jh(),ni(17)),$a(this),this.o=2,Wh(this)):i4(this,this.Y-t)};var s4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof za){this.h=t.h,ay(this,t.j),this.s=t.s,this.g=t.g,ly(this,t.m),this.l=t.l;var e=t.i,n=new Yh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),o4(this,n),this.o=t.o}else t&&(e=String(t).match(s4))?(this.h=!1,ay(this,e[1]||"",!0),this.s=qh(e[2]||""),this.g=qh(e[3]||"",!0),ly(this,e[4]),this.l=qh(e[5]||"",!0),o4(this,e[6]||"",!0),this.o=qh(e[7]||"")):(this.h=!1,this.i=new Yh(null,this.h))}function Ns(t){return new za(t)}function ay(t,e,n){t.j=n?qh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ly(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function o4(t,e,n){e instanceof Yh?(t.i=e,function Aye(t,e){e&&!t.j&&(wo(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(l4(this,i),u4(this,r,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Kh(e,Tye)),t.i=new Yh(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function cy(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Iye),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Iye(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}za.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Kh(e,a4,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Kh(e,a4,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kh(n,"/"==n.charAt(0)?Dye:xye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Kh(n,Sye)),t.join("")};var a4=/[#\/\?@]/g,xye=/[#\?:]/g,Dye=/[#\?]/g,Tye=/[#\?@]/g,Sye=/#/g;function Yh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wo(t){t.g||(t.g=new Map,t.h=0,t.i&&function Cye(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function l4(t,e){wo(t),e=Wc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function c4(t,e){return wo(t),e=Wc(t,e),t.g.has(e)}function u4(t,e,n){l4(t,e),0<n.length&&(t.i=null,t.g.set(Wc(t,e),XS(n)),t.h+=n.length)}function Wc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function d4(t){this.l=t||Rye,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=Yh.prototype).add=function(t,e){wo(this),this.i=null,t=Wc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){wo(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)},L.ta=function(){wo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n},L.Z=function(t){wo(this);let e=[];if("string"==typeof t)c4(this,t)&&(e=e.concat(this.g.get(Wc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return wo(this),this.i=null,c4(this,t=Wc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};var Rye=10;function h4(t){return!!t.h||!!t.g&&t.g.size>=t.j}function f4(t){return t.h?1:t.g?t.g.size:0}function xA(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function DA(t,e){t.g?t.g.add(e):t.h=e}function p4(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function m4(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return XS(t.i)}d4.prototype.cancel=function(){if(this.i=m4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var kye=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function Nye(){this.g=new kye}function Oye(t,e,n){const i=n||"";try{r4(t,function(r,s){let o=r;Oh(r)&&(o=pA(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function uy(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Qh(t){this.l=t.fc||null,this.j=t.ob||!1}function dy(t,e){cn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=TA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ln(Qh,yA),Qh.prototype.g=function(){return new dy(this.l,this.j)},Qh.prototype.i=function(t){return function(){return t}}({}),ln(dy,cn);var TA=0;function g4(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Xh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zh(t)}function Zh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=dy.prototype).open=function(t,e){if(this.readyState!=TA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zh(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xh(this)),this.readyState=TA},L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zh(this)),this.g&&(this.readyState=3,Zh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g4(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xh(this):Zh(this),3==this.readyState&&g4(this)}},L.Za=function(t){this.g&&(this.response=this.responseText=t,Xh(this))},L.Ya=function(t){this.g&&(this.response=t,Xh(this))},L.ka=function(){this.g&&Xh(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(dy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Fye=ne.JSON.parse;function St(t){cn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_4,this.L=this.M=!1}ln(St,cn);var _4="",Lye=/^https?$/i,Vye=["POST","PUT"];function y4(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,v4(t),hy(t)}function v4(t){t.F||(t.F=!0,xn(t,"complete"),xn(t,"error"))}function b4(t){if(t.h&&typeof YS<"u"&&(!t.C[1]||4!=$r(t)||2!=t.da()))if(t.v&&4==$r(t))_A(t.La,0,t);else if(xn(t,"readystatechange"),4==$r(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=0===o){var r=String(t.I).match(s4)[1]||null;!r&&ne.self&&ne.self.location&&(r=ne.self.location.protocol.slice(0,-1)),i=!Lye.test(r?r.toLowerCase():"")}n=i}if(n)xn(t,"complete"),xn(t,"success");else{t.m=6;try{var s=2<$r(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",v4(t)}}finally{hy(t)}}}function hy(t,e){if(t.g){w4(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xn(t,"ready");try{n.onreadystatechange=i}catch{}}}function w4(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function $r(t){return t.g?t.g.readyState:0}function E4(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _4:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function C4(t){let e="";return sA(t,function(n,i){e+=i,e+=":",e+=n,e+="\r\n"}),e}function SA(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=C4(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):lt(t,e,n))}function Jh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function I4(t){this.Ga=0,this.j=[],this.l=new ty,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jh("baseRetryDelayMs",5e3,t),this.hb=Jh("retryDelaySeedMs",1e4,t),this.eb=Jh("forwardChannelMaxRetries",2,t),this.xa=Jh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new d4(t&&t.concurrentRequestLimit),this.Ja=new Nye,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function AA(t){if(x4(t),3==t.H){var e=t.W++,n=Ns(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),ef(t,n),(e=new Hh(t,t.l,e)).L=2,e.v=cy(Ns(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=O4(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gh(e)}k4(t)}function fy(t){t.g&&(RA(t),t.g.cancel(),t.g=null)}function x4(t){fy(t),t.u&&(ne.clearTimeout(t.u),t.u=null),my(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function py(t){if(!h4(t.i)&&!t.m){t.m=!0;var e=t.Na;Vh||jH(),Bh||(Vh(),Bh=!0),mA.add(e,t),t.C=0}}function D4(t,e){var n;n=e?e.m:t.W++;const i=Ns(t.I);lt(i,"SID",t.K),lt(i,"RID",n),lt(i,"AID",t.V),ef(t,i),t.o&&t.s&&SA(i,t.o,t.s),n=new Hh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=T4(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),DA(t.i,n),CA(n,i,e)}function ef(t,e){t.na&&sA(t.na,function(n,i){lt(e,i,n)}),t.h&&r4({},function(n,i){lt(e,i,n)})}function T4(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Un(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{Oye(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function S4(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vh||jH(),Bh||(Vh(),Bh=!0),mA.add(e,t),t.A=0}}function MA(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=$h(Un(t.Ma,t),R4(t,t.A)),t.A++,0))}function RA(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function A4(t){t.g=new Hh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ns(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),ef(t,e),t.o&&t.s&&SA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=cy(Ns(e)),n.s=null,n.S=!0,e4(n,t)}function my(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function M4(t,e){var n=null;if(t.g==e){my(t),RA(t),t.g=null;var i=2}else{if(!xA(t.i,e))return;n=e.F,p4(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;xn(i=ny(),new YH(i,n)),py(t)}else S4(t);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function jye(t,e){return!(f4(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=$h(Un(t.Na,t,e),R4(t,t.C)),t.C++,0)))}(t,e)||2==i&&MA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Ha(t,5);break;case 4:Ha(t,10);break;case 3:Ha(t,6);break;default:Ha(t,2)}}function R4(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ha(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=Un(t.pb,t);n||(n=new za("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||ay(n,"https"),cy(n)),function Pye(t,e){const n=new ty;if(ne.Image){const i=new Image;i.onload=Y_(uy,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Y_(uy,n,i,"TestLoadImage: error",!1,e),i.onabort=Y_(uy,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Y_(uy,n,i,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else ni(2);t.H=0,t.h&&t.h.za(e),k4(t),x4(t)}function k4(t){if(t.H=0,t.ma=[],t.h){const e=m4(t.i);(0!=e.length||0!=t.j.length)&&(TH(t.ma,e),TH(t.ma,t.j),t.i.i.length=0,XS(t.j),t.j.length=0),t.h.ya()}}function N4(t,e,n){var i=n instanceof za?Ns(n):new za(n);if(""!=i.g)e&&(i.g=e+"."+i.g),ly(i,i.m);else{var r=ne.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new za(null);i&&ay(s,i),e&&(s.g=e),r&&ly(s,r),n&&(s.l=n),i=s}return e=t.Da,(n=t.F)&&e&&lt(i,n,e),lt(i,"VER",t.ra),ef(t,i),i}function O4(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new St(n&&t.Ha&&!t.va?new Qh({ob:!0}):t.va)).Oa(t.J),e}function P4(){}function gy(){if(Hc&&!(10<=Number(eye)))throw Error("Environmental error: no available transport.")}function Ri(t,e){cn.call(this),this.g=new I4(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ph(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ph(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new qc(this)}function F4(t){vA.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function L4(){bA.call(this),this.status=1}function qc(t){this.g=t}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kA(t,e,n){n||(n=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((r=t.g[2])^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function He(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}(L=St.prototype).Oa=function(t){this.M=t},L.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wA.g(),this.C=function XH(t){return t.h||(t.h=t.i())}(this.u?this.u:wA),this.g.onreadystatechange=Un(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void y4(this,s)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())n.set(s,i.get(s))}i=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),r=ne.FormData&&t instanceof ne.FormData,!(0<=DH(Vye,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{w4(this),0<this.B&&((this.L=function Bye(t){return Hc&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Un(this.ua,this)):this.A=_A(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){y4(this,s)}},L.ua=function(){typeof YS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xn(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xn(this,"complete"),xn(this,"abort"),hy(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hy(this,!0)),St.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?b4(this):this.kb())},L.kb=function(){b4(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fye(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=I4.prototype).ra=8,L.H=1,L.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new Hh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=kH(s),OH(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=T4(this,r,e),lt(n=Ns(this.I),"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),ef(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(C4(s)))+"&"+e:this.o&&SA(n,this.o,s)),DA(this.i,r),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),r.aa=!0,CA(r,n,null)):CA(r,n,e),this.H=2}}else 3==this.H&&(t?D4(this,t):0==this.j.length||h4(this.i)||D4(this))},L.Ma=function(){if(this.u=null,A4(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$h(Un(this.jb,this),t)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ni(10),fy(this),A4(this))},L.ib=function(){null!=this.v&&(this.v=null,fy(this),MA(this),ni(19))},L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ni(2)):(this.l.info("Failed to ping google.com"),ni(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=P4.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},gy.prototype.g=function(t,e){return new Ri(t,e)},ln(Ri,cn),Ri.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ni(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=N4(t,null,t.Y),py(t)},Ri.prototype.close=function(){AA(this.g)},Ri.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=pA(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&py(e)},Ri.prototype.N=function(){this.g.h=null,delete this.j,AA(this.g),delete this.g,Ri.$.N.call(this)},ln(F4,vA),ln(L4,bA),ln(qc,P4),qc.prototype.Ba=function(){xn(this.g,"a")},qc.prototype.Aa=function(t){xn(this.g,new F4(t))},qc.prototype.za=function(t){xn(this.g,new L4)},qc.prototype.ya=function(){xn(this.g,"b")},ln(dr,function $ye(){this.blockSize=-1}),dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=n;)kA(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){kA(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){kA(this,i),r=0;break}}this.h=r,this.i+=e},dr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var zye={};function NA(t){return-128<=t&&128>t?function X_e(t,e){var n=zye;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new He([0|e],0>e?-1:0)}):new He([0|t],0>t?-1:0)}function zr(t){if(isNaN(t)||!isFinite(t))return Kc;if(0>t)return Dn(zr(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=OA;return new He(e,0)}var OA=4294967296,Kc=NA(0),PA=NA(1),B4=NA(16777216);function Os(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Yi(t){return-1==t.h}function Dn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new He(n,~t.h).add(PA)}function _y(t,e){return t.add(Dn(e))}function yy(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tf(t,e){this.g=t,this.h=e}function vy(t,e){if(Os(e))throw Error("division by zero");if(Os(t))return new tf(Kc,Kc);if(Yi(t))return e=vy(Dn(t),e),new tf(Dn(e.g),Dn(e.h));if(Yi(e))return e=vy(t,Dn(e)),new tf(Dn(e.g),e.h);if(30<t.g.length){if(Yi(t)||Yi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=PA,i=e;0>=i.X(t);)n=U4(n),i=U4(i);var r=Yc(n,1),s=Yc(i,1);for(i=Yc(i,2),n=Yc(n,2);!Os(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=Yc(i,1),n=Yc(n,1)}return e=_y(t,r.R(e)),new tf(r,e)}for(r=Kc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),o=(s=zr(n)).R(e);Yi(o)||0<o.X(t);)o=(s=zr(n-=i)).R(e);Os(s)&&(s=PA),r=r.add(s),t=_y(t,o)}return new tf(r,t)}function U4(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new He(n,t.h)}function Yc(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new He(r,t.h)}(L=He.prototype).ea=function(){if(Yi(this))return-Dn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:OA+i)*e,e*=OA}return t},L.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Os(this))return"0";if(Yi(this))return"-"+Dn(this).toString(t);for(var e=zr(Math.pow(t,6)),n=this,i="";;){var r=vy(n,e).g,s=((0<(n=_y(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Os(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},L.X=function(t){return Yi(t=_y(this,t))?-1:Os(t)?0:1},L.abs=function(){return Yi(this)?Dn(this):this},L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&t.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,n[r]=(o&=65535)<<16|(s&=65535)}return new He(n,-2147483648&n[n.length-1]?-1:0)},L.R=function(t){if(Os(this)||Os(t))return Kc;if(Yi(this))return Yi(t)?Dn(this).R(Dn(t)):Dn(Dn(this).R(t));if(Yi(t))return Dn(this.R(Dn(t)));if(0>this.X(B4)&&0>t.X(B4))return zr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=t.D(r)>>>16,l=65535&t.D(r);n[2*i+2*r]+=o*l,yy(n,2*i+2*r),n[2*i+2*r+1]+=s*l,yy(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,yy(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,yy(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new He(n,0)},L.gb=function(t){return vy(this,t).h},L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new He(n,this.h&t.h)},L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new He(n,this.h|t.h)},L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new He(n,this.h^t.h)},gy.prototype.createWebChannel=gy.prototype.g,Ri.prototype.send=Ri.prototype.u,Ri.prototype.open=Ri.prototype.m,Ri.prototype.close=Ri.prototype.close,iy.NO_ERROR=0,iy.TIMEOUT=8,iy.HTTP_ERROR=6,QH.COMPLETE="complete",ZH.EventType=zh,zh.OPEN="a",zh.CLOSE="b",zh.ERROR="c",zh.MESSAGE="d",cn.prototype.listen=cn.prototype.O,St.prototype.listenOnce=St.prototype.P,St.prototype.getLastError=St.prototype.Sa,St.prototype.getLastErrorCode=St.prototype.Ia,St.prototype.getStatus=St.prototype.da,St.prototype.getResponseJson=St.prototype.Wa,St.prototype.getResponseText=St.prototype.ja,St.prototype.send=St.prototype.ha,St.prototype.setWithCredentials=St.prototype.Oa,dr.prototype.digest=dr.prototype.l,dr.prototype.reset=dr.prototype.reset,dr.prototype.update=dr.prototype.j,He.prototype.add=He.prototype.add,He.prototype.multiply=He.prototype.R,He.prototype.modulo=He.prototype.gb,He.prototype.compare=He.prototype.X,He.prototype.toNumber=He.prototype.ea,He.prototype.toString=He.prototype.toString,He.prototype.getBits=He.prototype.D,He.fromNumber=zr,He.fromString=function V4(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Dn(V4(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zr(Math.pow(e,8)),i=Kc,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=zr(Math.pow(e,s)),i=i.R(s).add(zr(o))):i=(i=i.R(n)).add(zr(o))}return i};var Hye=ur.createWebChannelTransport=function(){return new gy},Gye=ur.getStatEventTarget=function(){return ny()},FA=ur.ErrorCode=iy,Wye=ur.EventType=QH,qye=ur.Event=ja,j4=ur.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kye=ur.FetchXmlHttpFactory=Qh,by=ur.WebChannel=ZH,Yye=ur.XhrIo=St,Qye=ur.Md5=dr,Qc=ur.Integer=He;const $4="@firebase/firestore";class un{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Xc="9.22.2";const Eo=new Da("@firebase/firestore");function LA(){return Eo.logLevel}function M(t,...e){if(Eo.logLevel<=xe.DEBUG){const n=e.map(VA);Eo.debug(`Firestore (${Xc}): ${t}`,...n)}}function Ot(t,...e){if(Eo.logLevel<=xe.ERROR){const n=e.map(VA);Eo.error(`Firestore (${Xc}): ${t}`,...n)}}function hr(t,...e){if(Eo.logLevel<=xe.WARN){const n=e.map(VA);Eo.warn(`Firestore (${Xc}): ${t}`,...n)}}function VA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function $(t="Unexpected state"){const e=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: `+t;throw Ot(e),new Error(e)}function H(t,e){t||$()}function F(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class z4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class Zye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jye{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(H("string"==typeof i.accessToken),new z4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new un(e)}}class eve{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class tve{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new eve(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nve{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(H("string"==typeof n.token),this.T=n.token,new H4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ive(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class G4{static A(){const n=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=ive(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function ee(t,e){return t<e?-1:t>e?1:0}function Zc(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new bt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new bt(0,0))}static max(){return new G(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nf{constructor(e,n,i){void 0===n?n=0:n>e.length&&$(),void 0===i?i=e.length-n:i>e.length-n&&$(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return 0===nf.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nf?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends nf{construct(e,n,i){return new De(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new T(E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new De(n)}static emptyPath(){return new De([])}}const rve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends nf{construct(e,n,i){return new Pt(e,n,i)}static isValidIdentifier(e){return rve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(0===i.length)throw new T(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new T(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new T(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new T(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(De.fromString(e))}static fromName(e){return new O(De.fromString(e).popFirst(5))}static empty(){return new O(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===De.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new De(e.slice()))}}function K4(t){return new ki(t.readTime,t.key,-1)}class ki{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ki(G.min(),O.empty(),-1)}static max(){return new ki(G.max(),O.empty(),-1)}}function UA(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=O.comparator(t.documentKey,e.documentKey),0!==n?n:ee(t.largestBatchId,e.largestBatchId))}const Y4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ave{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Co(t){return jA.apply(this,arguments)}function jA(){return jA=_(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==Y4)throw t;M("LocalStore","Unexpectedly lost primary lease")}),jA.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,i)=>{n(e)})}static reject(e){return new w((n,i)=>{i(e)})}static waitFor(e){return new w((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=w.resolve(!1);for(const i of e)n=n.next(r=>r?w.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new w((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new w((i,r)=>{const s=()=>{!0===e()?n().next(()=>{s()},r):i()};s()})}}function Io(t){return"IndexedDbTransactionError"===t.name}let Ni=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function af(t){return null==t}function lf(t){return 0===t&&1/t==-1/0}function s3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xy(this.root,e,this.comparator,!1)}getReverseIterator(){return new xy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xy(this.root,e,this.comparator,!0)}}class xy{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Tn.RED,this.left=r??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Tn(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):0===s?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return Tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1,Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a3(this.data.getIterator())}getIteratorFrom(e){return new a3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class a3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _i{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new _i([])}unionWith(e){let n=new ct(Pt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zc(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class l3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new l3("Invalid base64 string: "+r):r}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const Mve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(H(!!t),"string"==typeof t){let e=0;const n=Mve.exec(t);if(H(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ps(t){return"string"==typeof t?Jt.fromBase64String(t):Jt.fromUint8Array(t)}function Dy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ty(t){const e=t.mapValue.fields.__previous_value__;return Dy(e)?Ty(e):e}function cf(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}class Rve{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class qa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}const To={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dy(t)?4:h3(t)?9007199254740991:10:$()}function Gr(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cf(t).isEqual(cf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Do(i.timestampValue),o=Do(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,Ps(t.bytesValue).isEqual(Ps(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return At(i.geoPointValue.latitude)===At(r.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return At(i.integerValue)===At(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=At(i.doubleValue),o=At(r.doubleValue);return s===o?lf(s)===lf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Zc(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(s3(s)!==s3(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Gr(s[a],o[a])))return!1;return!0}(t,e);default:return $()}var r}function uf(t,e){return void 0!==(t.values||[]).find(n=>Gr(n,e))}function Ao(t,e){if(t===e)return 0;const n=So(t),i=So(e);if(n!==i)return ee(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(r,s){const o=At(r.integerValue||r.doubleValue),a=At(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return c3(t.timestampValue,e.timestampValue);case 4:return c3(cf(t),cf(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(r,s){const o=Ps(r),a=Ps(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ee(o[l],a[l]);if(0!==c)return c}return ee(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const o=ee(At(r.latitude),At(s.latitude));return 0!==o?o:ee(At(r.longitude),At(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Ao(o[l],a[l]);if(c)return c}return ee(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===To.mapValue&&s===To.mapValue)return 0;if(r===To.mapValue)return 1;if(s===To.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ee(a[u],c[u]);if(0!==d)return d;const h=Ao(o[a[u]],l[c[u]]);if(0!==h)return h}return ee(a.length,c.length)}(t.mapValue,e.mapValue);default:throw $()}}function c3(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ee(t,e);const n=Do(t),i=Do(e),r=ee(n.seconds,i.seconds);return 0!==r?r:ee(n.nanos,i.nanos)}function eu(t){return HA(t)}function HA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=Do(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ps(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=HA(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${HA(i.fields[a])}`;return s+"}"}(t.mapValue):$();var e}function GA(t){return!!t&&"integerValue"in t}function df(t){return!!t&&"arrayValue"in t}function u3(t){return!!t&&"nullValue"in t}function d3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function My(t){return!!t&&"mapValue"in t}function hf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=hf(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h3(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!My(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hf(n)}setAll(e){let n=Pt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=hf(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());My(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];My(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){xo(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Sn(hf(this.value))}}function m3(t){const e=[];return xo(t.fields,(n,i)=>{const r=new Pt([n]);if(My(i)){const s=m3(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new _i(e)}class ut{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ut(e,0,G.min(),G.min(),G.min(),Sn.empty(),0)}static newFoundDocument(e,n,i,r){return new ut(e,1,n,G.min(),i,r,0)}static newNoDocument(e,n){return new ut(e,2,n,G.min(),G.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new ut(e,3,n,G.min(),G.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mo{constructor(e,n){this.position=e,this.inclusive=n}}function g3(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),n.key):Ao(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function _3(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ove(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class y3{}class be extends y3{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,i):new Pve(e,n,i):"array-contains"===n?new Vve(e,i):"in"===n?new I3(e,i):"not-in"===n?new Bve(e,i):"array-contains-any"===n?new Uve(e,i):new be(e,n,i)}static createKeyFieldInFilter(e,n,i){return"in"===n?new Fve(e,i):new Lve(e,i)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ao(n,this.value)):null!==n&&So(this.value)===So(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ge extends y3{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ge(e,n)}matches(e){return nu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function nu(t){return"and"===t.op}function qA(t){return function v3(t){for(const e of t.filters)if(e instanceof Ge)return!1;return!0}(t)&&nu(t)}function KA(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+eu(t.value);if(qA(t))return t.filters.map(e=>KA(e)).join(",");{const e=t.filters.map(n=>KA(n)).join(",");return`${t.op}(${e})`}}function b3(t,e){return t instanceof be?(n=t,(i=e)instanceof be&&n.op===i.op&&n.field.isEqual(i.field)&&Gr(n.value,i.value)):t instanceof Ge?function(n,i){return i instanceof Ge&&n.op===i.op&&n.filters.length===i.filters.length&&n.filters.reduce((r,s,o)=>r&&b3(s,i.filters[o]),!0)}(t,e):void $();var n,i}function E3(t){return t instanceof be?`${(e=t).field.canonicalString()} ${e.op} ${eu(e.value)}`:t instanceof Ge?function(e){return e.op.toString()+" {"+e.getFilters().map(E3).join(" ,")+"}"}(t):"Filter";var e}class Pve extends be{constructor(e,n,i){super(e,n,i),this.key=O.fromName(i.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.matchesComparison(n)}}class Fve extends be{constructor(e,n){super(e,"in",n),this.keys=C3(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lve extends be{constructor(e,n){super(e,"not-in",n),this.keys=C3(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function C3(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(i=>O.fromName(i.referenceValue))}class Vve extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return df(n)&&uf(n.arrayValue,this.value)}}class I3 extends be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&uf(this.value.arrayValue,n)}}class Bve extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!uf(this.value.arrayValue,n)}}class Uve extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!df(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>uf(this.value.arrayValue,i))}}class jve{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function YA(t,e=null,n=[],i=[],r=null,s=null,o=null){return new jve(t,e,n,i,r,s,o)}function Ya(t){const e=F(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>KA(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>eu(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>eu(i)).join(",")),e.dt=n}return e.dt}function ff(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ove(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_3(t.startAt,e.startAt)&&_3(t.endAt,e.endAt)}function Ry(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Fs{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function iu(t){return new Fs(t)}function S3(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Qa(t){const e=F(t);if(null===e.wt){e.wt=[];const n=function Ny(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),i=function QA(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===i)n.isKeyField()||e.wt.push(new tu(n)),e.wt.push(new tu(Pt.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new tu(Pt.keyField(),s))}}}return e.wt}function ii(t){const e=F(t);if(!e._t)if("F"===e.limitType)e._t=YA(e.path,e.collectionGroup,Qa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Qa(e))n.push(new tu(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Mo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mo(e.startAt.position,e.startAt.inclusive):null;e._t=YA(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function Oy(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pf(t,e){return ff(ii(t),ii(e))&&t.limitType===e.limitType}function A3(t){return`${Ya(ii(t))}|lt:${t.limitType}`}function JA(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>E3(i)).join(", ")}]`),af(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>eu(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>eu(i)).join(",")),`Target(${n})`}(ii(t))}; limitType=${t.limitType})`}function mf(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return null!==n.collectionGroup?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):O.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of Qa(n))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&(i=e,!((n=t).startAt&&!function(r,s,o){const a=g3(r,s,o);return r.inclusive?a<=0:a<0}(n.startAt,Qa(n),i)||n.endAt&&!function(r,s,o){const a=g3(r,s,o);return r.inclusive?a>=0:a>0}(n.endAt,Qa(n),i)));var n,i}function R3(t){return(e,n)=>{let i=!1;for(const r of Qa(t)){const s=$ve(r,e,n);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function $ve(t,e,n){const i=t.field.isKeyField()?O.comparator(e.key,n.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return null!==a&&null!==l?Ao(a,l):$()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return $()}}class Ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return o3(this.inner)}size(){return this.innerSize}}const zve=new tt(O.comparator);function yi(){return zve}const k3=new tt(O.comparator);function gf(...t){let e=k3;for(const n of t)e=e.insert(n.key,n);return e}function N3(t){let e=k3;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Wr(){return _f()}function O3(){return _f()}function _f(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hve=new tt(O.comparator),Gve=new ct(O.comparator);function ce(...t){let e=Gve;for(const n of t)e=e.add(n);return e}const Wve=new ct(ee);function P3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lf(e)?"-0":e}}function F3(t){return{integerValue:""+t}}function L3(t,e){return function X4(t){return"number"==typeof t&&Number.isInteger(t)&&!lf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?F3(e):P3(t,e)}class Py{constructor(){this._=void 0}}function qve(t,e,n){return t instanceof ru?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Dy(r)&&(r=Ty(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof Xa?B3(t,e):t instanceof Za?U3(t,e):function(i,r){const s=V3(i,r),o=j3(s)+j3(i.gt);return GA(s)&&GA(i.gt)?F3(o):P3(i.serializer,o)}(t,e)}function Kve(t,e,n){return t instanceof Xa?B3(t,e):t instanceof Za?U3(t,e):n}function V3(t,e){return t instanceof su?GA(n=e)||(i=n)&&"doubleValue"in i?e:{integerValue:0}:null;var i,n}class ru extends Py{}class Xa extends Py{constructor(e){super(),this.elements=e}}function B3(t,e){const n=$3(e);for(const i of t.elements)n.some(r=>Gr(r,i))||n.push(i);return{arrayValue:{values:n}}}class Za extends Py{constructor(e){super(),this.elements=e}}function U3(t,e){let n=$3(e);for(const i of t.elements)n=n.filter(r=>!Gr(r,i));return{arrayValue:{values:n}}}class su extends Py{constructor(e,n){super(),this.serializer=e,this.gt=n}}function j3(t){return At(t.integerValue||t.doubleValue)}function $3(t){return df(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Qve{constructor(e,n){this.version=e,this.transformResults=n}}class ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ft}static exists(e){return new ft(void 0,e)}static updateTime(e){return new ft(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fy(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ly{}function z3(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new au(t.key,ft.none()):new ou(t.key,t.data,ft.none());{const n=t.data,i=Sn.empty();let r=new ct(Pt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Vs(t.key,i,new _i(r.toArray()),ft.none())}}function Xve(t,e,n){t instanceof ou?function(i,r,s){const o=i.value.clone(),a=W3(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(i,r,s){if(!Fy(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=W3(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(G3(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function vf(t,e,n,i){return t instanceof ou?function(r,s,o,a){if(!Fy(r.precondition,s))return o;const l=r.value.clone(),c=q3(r.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Vs?function(r,s,o,a){if(!Fy(r.precondition,s))return o;const l=q3(r.fieldTransforms,a,s),c=s.data;return c.setAll(G3(r)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,i):(o=n,Fy(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Zve(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=V3(i.transform,r||null);null!=s&&(null===n&&(n=Sn.empty()),n.set(i.field,s))}return n||null}function H3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===i||n&&i&&Zc(n,i,(r,s)=>function Yve(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(n=t.transform)instanceof Xa&&i instanceof Xa||n instanceof Za&&i instanceof Za?Zc(n.elements,i.elements,Gr):n instanceof su&&i instanceof su?Gr(n.gt,i.gt):n instanceof ru&&i instanceof ru);var n,i}(r,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,i}class ou extends Ly{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vs extends Ly{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function G3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function W3(t,e,n){const i=new Map;H(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Kve(o,a,n[r]))}return i}function q3(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,qve(s,o,e))}return i}class au extends Ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tM extends Ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nM{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Xve(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=vf(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=vf(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=O3();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=z3(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(G.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,(n,i)=>H3(n,i))&&Zc(this.baseMutations,e.baseMutations,(n,i)=>H3(n,i))}}class iM{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){H(e.mutations.length===i.length);let r=Hve;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new iM(e,n,i,r)}}class rM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ebe{constructor(e,n){this.count=e,this.unchangedNames=n}}var $t,Te;function Y3(t){if(void 0===t)return Ot("GRPC error has no .code"),E.UNKNOWN;switch(t){case $t.OK:return E.OK;case $t.CANCELLED:return E.CANCELLED;case $t.UNKNOWN:return E.UNKNOWN;case $t.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case $t.INTERNAL:return E.INTERNAL;case $t.UNAVAILABLE:return E.UNAVAILABLE;case $t.UNAUTHENTICATED:return E.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case $t.NOT_FOUND:return E.NOT_FOUND;case $t.ALREADY_EXISTS:return E.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return E.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case $t.ABORTED:return E.ABORTED;case $t.OUT_OF_RANGE:return E.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return E.UNIMPLEMENTED;case $t.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(Te=$t||($t={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";class sM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vy}static getOrCreateInstance(){return null===Vy&&(Vy=new sM),Vy}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Vy=null;const tbe=new Qc([4294967295,4294967295],0);function X3(t){const e=function Q3(){return new TextEncoder}().encode(t),n=new Qye;return n.update(e),new Uint8Array(n.digest())}function Z3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qc([n,i],0),new Qc([r,s],0)]}class oM{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bf(`Invalid padding: ${n}`);if(i<0)throw new bf(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new bf(`Invalid hash count: ${i}`);if(0===e.length&&0!==n)throw new bf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Qc.fromNumber(this.It)}Et(e,n,i){let r=e.add(n.multiply(Qc.fromNumber(i)));return 1===r.compare(tbe)&&(r=new Qc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=X3(e),[i,r]=Z3(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);if(!this.At(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new oM(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=X3(e),[i,r]=Z3(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class bf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wf{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Ef.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wf(G.min(),r,new tt(ee),yi(),ce())}}class Ef{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ef(i,n,ce(),ce(),ce())}}class By{constructor(e,n,i,r){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=r}}class J3{constructor(e,n){this.targetId=e,this.Vt=n}}class e5{constructor(e,n,i=Jt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class t5{constructor(){this.St=0,this.Dt=r5(),this.Ct=Jt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ce(),n=ce(),i=ce();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:$()}}),new Ef(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=r5()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class nbe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yi(),this.zt=n5(),this.Wt=new tt(ee)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,r)=>{this.te(r)&&n(r)})}ne(e){var n;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const o=s.target;if(Ry(o))if(0===r){const a=new O(o.path);this.Yt(i,a,ut.newNoDocument(a,G.min()))}else H(1===r);else{const a=this.ie(i);if(a!==r){const l=this.re(e,a);0!==l&&(this.ee(i),this.Wt=this.Wt.insert(i,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=sM.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,g,v;const y={localCacheCount:u,existenceFilterCount:d.count},x=d.unchangedNames;return x&&(y.bloomFilter={applied:0===c,hashCount:null!==(h=x?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=x?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(g=x?.bits)||void 0===g?void 0:g.padding)&&void 0!==v?v:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=Ps(s).toUint8Array()}catch(u){if(u instanceof l3)return hr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new oM(l,o,a)}catch(u){return hr(u instanceof bf?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:r!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ry(a.target)){const l=new O(a.target.path);null!==this.jt.get(l)||this.ae(o,l)||this.Yt(o,l,ut.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let i=ce();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const r=new wf(e,n,this.Wt,this.jt,i);return this.jt=yi(),this.zt=n5(),this.Wt=new tt(ee),r}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new t5,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ct(ee),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||M("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new t5),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function n5(){return new tt(O.comparator)}function r5(){return new tt(O.comparator)}const ibe={asc:"ASCENDING",desc:"DESCENDING"},rbe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sbe={and:"AND",or:"OR"};class obe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aM(t,e){return t.useProto3Json||af(e)?e:{value:e}}function lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function abe(t,e){return lu(t,e.toTimestamp())}function Ft(t){return H(!!t),G.fromTimestamp(function(e){const n=Do(e);return new bt(n.seconds,n.nanos)}(t))}function lM(t,e){return(n=t,new De(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function o5(t){const e=De.fromString(t);return H(m5(e)),e}function Cf(t,e){return lM(t.databaseId,e.path)}function qr(t,e){const n=o5(e);if(n.get(1)!==t.databaseId.projectId)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(l5(n))}function cM(t,e){return lM(t.databaseId,e)}function If(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l5(t){return H(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function c5(t,e,n){return{name:Cf(t,e),fields:n.value.mapValue.fields}}function d5(t,e){return{documents:[cM(t,e.path)]}}function dM(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=cM(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cM(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return p5(Ge.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Ro((u=c).field),direction:hbe(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=aM(t,e.limit);var a,l;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),n}function h5(t){let e=function a5(t){const e=o5(t);return 4===e.length?De.emptyPath():l5(e)}(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){H(1===i);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const d=f5(u);return d instanceof Ge&&qA(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>{return new tu(cu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,af(d)?null:d}(n.limit));let l=null;var u;n.startAt&&(l=new Mo((u=n.startAt).values||[],!!u.before));let c=null;return n.endAt&&(c=function(u){return new Mo(u.values||[],!u.before)}(n.endAt)),function T3(t,e,n,i,r,s,o,a){return new Fs(t,e,n,i,r,s,o,a)}(e,r,o,s,a,"F",l,c)}function f5(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=cu(e.unaryFilter.field);return be.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(e.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cu(e.unaryFilter.field);return be.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=cu(e.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):void 0!==t.fieldFilter?be.create(cu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ge.create(e.compositeFilter.filters.map(n=>f5(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(t):$();var e}function hbe(t){return ibe[t]}function fbe(t){return rbe[t]}function pbe(t){return sbe[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function cu(t){return Pt.fromServerFormat(t.fieldPath)}function p5(t){return t instanceof be?function(e){if("=="===e.op){if(d3(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NAN"}};if(u3(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(d3(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NAN"}};if(u3(e.value))return{unaryFilter:{field:Ro(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(e.field),op:fbe(e.op),value:e.value}}}(t):t instanceof Ge?function(e){const n=e.getFilters().map(i=>p5(i));return 1===n.length?n[0]:{compositeFilter:{op:pbe(e.op),filters:n}}}(t):$()}function mbe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function m5(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Bs{constructor(e,n,i,r,s=G.min(),o=G.min(),a=Jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g5{constructor(e){this.fe=e}}function hM(t){const e=h5({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Oy(e,e.limit,"L"):e}class nl{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(At(e.integerValue));else if("doubleValue"in e){const i=At(e.doubleValue);isNaN(i)?this.ye(n,13):(this.ye(n,15),lf(i)?n.pe(0):n.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(n,20),"string"==typeof i?n.Ie(i):(n.Ie(`${i.seconds||""}`),n.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ps(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(n,45),n.pe(i.latitude||0),n.pe(i.longitude||0)}else"mapValue"in e?h3(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):$()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const i=e.fields||{};this.ye(n,55);for(const r of Object.keys(i))this.Te(r,n),this.me(i[r],n)}Pe(e,n){const i=e.values||[];this.ye(n,50);for(const r of i)this.me(r,n)}ve(e,n){this.ye(n,37),O.fromName(e).path.forEach(i=>{this.ye(n,60),this.be(i,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}nl.Ve=new nl;class Ibe{constructor(){this.rn=new yM}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(ki.min())}updateCollectionGroup(e,n,i){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class yM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ct(De.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ct(De.comparator)).toArray()}}new Uint8Array(0);class zn{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(41943040,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class rl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new rl(0)}static Mn(){return new rl(-1)}}class Mbe{constructor(){this.changes=new Ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return void 0!==i?w.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nbe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $5{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(null!==i&&vf(i.mutation,r,_i.empty(),bt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ce()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ce()){const r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=gf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ce()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=yi();const o=_f(),a=_f();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Vs)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),vf(u.mutation,c,u.mutation.getFieldMask(),bt.now())):o.set(c.key,_i.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Nbe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=_f();let r=new tt((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(null===c)return;let u=i.get(l)||_i.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||ce()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=O3();u.forEach(h=>{if(!s.has(h)){const f=z3(n.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return O.isDocumentKey((r=n).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function XA(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i);var r}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):w.resolve(Wr());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ce())).next(u=>({batchId:a,changes:N3(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(i=>{let r=gf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=gf();return this.indexManager.getCollectionParents(e,r).next(o=>w.forEach(o,a=>{const l=(c=n,u=a.child(r),new Fs(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r))).next(s=>{r.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,ut.newInvalidDocument(c)))});let o=gf();return s.forEach((a,l)=>{const c=r.get(a);void 0!==c&&vf(c.mutation,l,_i.empty(),bt.now()),mf(n,l)&&(o=o.insert(a,l))}),o})}}class Obe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:Ft(i.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(i=n).name,query:hM(i.bundledQuery),readTime:Ft(i.readTime)}),w.resolve();var i}}class Pbe{constructor(){this.overlays=new tt(O.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Wr();return w.forEach(n,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),w.resolve()}getOverlaysForCollection(e,n,i){const r=Wr(),s=n.length+1,o=new O(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return w.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new tt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=Wr(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Wr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return w.resolve(a)}we(e,n,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new rM(n,i));let s=this.ls.get(n);void 0===s&&(s=ce(),this.ls.set(n,s)),this.ls.set(n,s.add(i.key))}}class vM{constructor(){this.fs=new ct(hn.ds),this.ws=new ct(hn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new hn(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new hn(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new O(new De([])),i=new hn(n,e),r=new hn(n,e+1),s=[];return this.ws.forEachInRange([i,r],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new O(new De([])),i=new hn(n,e),r=new hn(n,e+1);let s=ce();return this.ws.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new hn(e,0),i=this.fs.firstAfterOrEqual(n);return null!==i&&e.isEqual(i.key)}}class hn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return O.comparator(e.key,n.key)||ee(e.As,n.As)}static _s(e,n){return ee(e.As,n.As)||O.comparator(e.key,n.key)}}class Fbe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ct(hn.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,i,r){const s=this.vs;this.vs++;const o=new nM(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Rs=this.Rs.add(new hn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=this.bs(n+1),s=r<0?0:r;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new hn(n,0),r=new hn(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ct(ee);return n.forEach(r=>{const s=new hn(r,0),o=new hn(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{i=i.add(a.As)})}),w.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;O.isDocumentKey(s)||(s=s.child(""));const o=new hn(new O(s),0);let a=new ct(ee);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&n.push(r)}),n}removeMutationBatch(e,n){H(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return w.forEach(n.mutations,r=>{const s=new hn(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new hn(n,0),r=this.Rs.firstAfterOrEqual(i);return w.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Lbe{constructor(e){this.Ds=e,this.docs=new tt(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return w.resolve(i?i.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let i=yi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ut.newInvalidDocument(r))}),w.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=yi();const o=n.path,a=new O(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||UA(K4(u),i)<=0||(r.has(u.key)||mf(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,i,r){$()}Cs(e,n){return w.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Vbe(this)}getSize(e){return w.resolve(this.size)}}class Vbe extends Mbe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Bbe{constructor(e){this.persistence=e,this.xs=new Ls(n=>Ya(n),ff),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vM,this.targetCount=0,this.Ms=rl.kn()}forEachTarget(e,n){return this.xs.forEach((i,r)=>n(r)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===i.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),w.waitFor(s).next(()=>r)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return w.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),w.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return w.resolve(i)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class bM{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ni(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Bbe(this),this.indexManager=new Ibe,this.remoteDocumentCache=new Lbe(i=>this.referenceDelegate.Ls(i)),this.serializer=new g5(n),this.qs=new Obe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pbe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new Fbe(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){M("MemoryPersistence","Starting transaction:",e);const r=new Ube(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class Ube extends ave{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Qs=new vM,this.js=null}static zs(e){return new Ky(e)}get Ws(){if(this.js)return this.js;throw $()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),w.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,i=>{const r=O.fromPath(i);return this.Hs(e,r).next(s=>{s||n.removeEntry(r,G.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class IM{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=r}static Li(e,n){let i=ce(),r=ce();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new IM(e,n.fromCache,i,r)}}class H5{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.Ki(e,n).next(s=>s||this.Gi(e,n,r,i)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(S3(n))return w.resolve(null);let i=ii(n);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==n.limit&&1===r&&(n=Oy(n,null,"F"),i=ii(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ce(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Oy(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,i,r){return S3(n)||r.isEqual(G.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(s=>{const o=this.ji(n,s);return this.zi(n,o,i,r)?this.Qi(e,n):(LA()<=xe.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),JA(n)),this.Wi(e,o,n,function q4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=G.fromTimestamp(1e9===i?new bt(n+1,0):new bt(n,i));return new ki(r,O.empty(),e)}(r,-1)))})}ji(e,n){let i=new ct(R3(e));return n.forEach((r,s)=>{mf(e,s)&&(i=i.add(s))}),i}zi(e,n,i,r){if(null===e.limit)return!1;if(i.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,n){return LA()<=xe.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",JA(n)),this.Ui.getDocumentsMatchingQuery(e,n,ki.min())}Wi(e,n,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class $be{constructor(e,n,i,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new tt(ee),this.Yi=new Ls(s=>Ya(s),ff),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $5(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function W5(t,e){return xM.apply(this,arguments)}function xM(){return xM=_(function*(t,e){const n=F(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ce();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),xM.apply(this,arguments)}function q5(t){const e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Gbe(t,e){const n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fu(t,e,n){return DM.apply(this,arguments)}function DM(){return DM=_(function*(t,e,n){const i=F(t),r=i.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Io(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),DM.apply(this,arguments)}function Xy(t,e,n){const i=F(t);let r=G.min(),s=ce();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=F(a),d=u.Yi.get(c);return void 0!==d?w.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(i,o,ii(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,e,n?r:G.min(),n?s:ce())).next(a=>(function X5(t,e,n){let i=t.Xi.get(e)||G.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Xi.set(e,i)}(i,function M3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class RM{constructor(){this.activeTargetIds=function eM(){return Wve}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eG{constructor(){this.Hr=new RM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new RM,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kbe{Yr(e){}shutdown(){}}class tG{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ev=null;function NM(){return null===ev?ev=268435456+Math.round(2147483648*Math.random()):ev++,"0x"+ev.toString(16)}const Ybe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qbe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Hn="WebChannelConnection";class Xbe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,r,s){const o=NM(),a=this.To(e,n);M("RestConnection",`Sending RPC '${e}' ${o}:`,a,i);const l={};return this.Eo(l,r,s),this.Ao(e,a,l,i).then(c=>(M("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw hr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,n,i,r,s,o){return this.Io(e,n,i,r,s)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,n){return`${this.mo}/v1/${n}:${Ybe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,r){const s=NM();return new Promise((o,a)=>{const l=new Yye;l.setWithCredentials(!0),l.listenOnce(Wye.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case FA.NO_ERROR:const u=l.getResponseJson();M(Hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case FA.TIMEOUT:M(Hn,`RPC '${e}' ${s} timed out`),a(new T(E.DEADLINE_EXCEEDED,"Request time out"));break;case FA.HTTP_ERROR:const d=l.getStatus();if(M(Hn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(g)>=0?g:E.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(E.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new T(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{M(Hn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);M(Hn,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Ro(e,n,i){const r=NM(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hye(),a=Gye(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Kye({})),this.Eo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=s.join("");M(Hn,`Creating RPC '${e}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new Qbe({ro:g=>{f?M(Hn,`Not sending because RPC '${e}' stream ${r} is closed:`,g):(h||(M(Hn,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),M(Hn,`RPC '${e}' stream ${r} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,v,y)=>{g.listen(v,x=>{try{y(x)}catch(R){setTimeout(()=>{throw R},0)}})};return m(d,by.EventType.OPEN,()=>{f||M(Hn,`RPC '${e}' stream ${r} transport opened.`)}),m(d,by.EventType.CLOSE,()=>{f||(f=!0,M(Hn,`RPC '${e}' stream ${r} transport closed`),p.wo())}),m(d,by.EventType.ERROR,g=>{f||(f=!0,hr(Hn,`RPC '${e}' stream ${r} transport errored:`,g),p.wo(new T(E.UNAVAILABLE,"The operation could not be completed")))}),m(d,by.EventType.MESSAGE,g=>{var v;if(!f){const y=g.data[0];H(!!y);const R=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(R){M(Hn,`RPC '${e}' stream ${r} received error:`,R);const j=R.status;let K=function(en){const qn=$t[en];if(void 0!==qn)return Y3(qn)}(j),ye=R.message;void 0===K&&(K=E.INTERNAL,ye="Unknown error status: "+j+" with message "+R.message),f=!0,p.wo(new T(K,ye)),d.close()}else M(Hn,`RPC '${e}' stream ${r} received:`,y),p._o(y)}}),m(a,qye.STAT_EVENT,g=>{g.stat===j4.PROXY?M(Hn,`RPC '${e}' stream ${r} detected buffering proxy`):g.stat===j4.NOPROXY&&M(Hn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function tv(){return typeof document<"u"?document:null}function Of(t){return new obe(t,!0)}class OM{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-i);r>0&&M("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class iG{constructor(e,n,i,r,s,o,a,l){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new OM(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var i=this;return _(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(Ot(n.toString()),Ot("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):n&&n.code===E.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===n&&this.Zo(i,r)},i=>{e(()=>{const r=new T(E.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zbe extends iG{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function cbe(t,e){let n;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$(),r=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(H(void 0===c||"string"==typeof c),Jt.fromBase64String(c||"")):(H(void 0===c||c instanceof Uint8Array),Jt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?E.UNKNOWN:Y3(l.code);return new T(c,l.message||"")}(o);n=new e5(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=qr(t,i.document.name),s=Ft(i.document.updateTime),o=i.document.createTime?Ft(i.document.createTime):G.min(),a=new Sn({mapValue:{fields:i.document.fields}}),l=ut.newFoundDocument(r,s,o,a);n=new By(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=qr(t,i.document),s=i.readTime?Ft(i.readTime):G.min(),o=ut.newNoDocument(r,s);n=new By([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=qr(t,i.document);n=new By([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return $();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new ebe(r,s);n=new J3(i.targetId,o)}}var l;return n}(this.serializer,e),i=function(r){if(!("targetChange"in r))return G.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?Ft(s.readTime):G.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=If(this.serializer),n.addTarget=function(r,s){let o;const a=s.target;if(o=Ry(a)?{documents:d5(r,a)}:{query:dM(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=s5(r,s.resumeToken);const l=aM(r,s.expectedCount);null!==l&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(G.min())>0){o.readTime=lu(r,s.snapshotVersion.toTimestamp());const l=aM(r,s.expectedCount);null!==l&&(o.expectedCount=l)}return o}(this.serializer,e);const i=function dbe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=If(this.serializer),n.removeTarget=e,this.Wo(n)}}class Jbe extends iG{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(H(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function ube(t,e){return t&&t.length>0?(H(void 0!==e),t.map(n=>function(i,r){let s=Ft(i.updateTime?i.updateTime:r);return s.isEqual(G.min())&&(s=Ft(r)),new Qve(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),i=Ft(e.commitTime);return this.listener.cu(i,n)}return H(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=If(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>function xf(t,e){let n;if(e instanceof ou)n={update:c5(t,e.key,e.value)};else if(e instanceof au)n={delete:Cf(t,e.key)};else if(e instanceof Vs)n={update:c5(t,e.key,e.data),updateMask:mbe(e.fieldMask)};else{if(!(e instanceof tM))return $();n={verify:Cf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Xa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Za)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof su)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw $()}(0,i))),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:abe(t,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:$()),n;var r}(this.serializer,i))};this.Wo(n)}}class ewe extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,n,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new T(E.UNKNOWN,r.toString())})}vo(e,n,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(E.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class nwe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ot(n),this.mu=!1):M("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class iwe{constructor(e,n,i,r,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{i.enqueueAndForget(_(function*(){var l;Po(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(c){const u=F(c);u.vu.add(4),yield pu(u),u.bu.set("Unknown"),u.vu.delete(4),yield Pf(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.bu=new nwe(i,r)}}function Pf(t){return FM.apply(this,arguments)}function FM(){return FM=_(function*(t){if(Po(t))for(const e of t.Ru)yield e(!0)}),FM.apply(this,arguments)}function pu(t){return LM.apply(this,arguments)}function LM(){return LM=_(function*(t){for(const e of t.Ru)yield e(!1)}),LM.apply(this,arguments)}function nv(t,e){const n=F(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),UM(n)?BM(n):gu(n).Ko()&&VM(n,e))}function Ff(t,e){const n=F(t),i=gu(n);n.Au.delete(e),i.Ko()&&rG(n,e),0===n.Au.size&&(i.Ko()?i.jo():Po(n)&&n.bu.set("Unknown"))}function VM(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gu(t).su(e)}function rG(t,e){t.Vu.qt(e),gu(t).iu(e)}function BM(t){t.Vu=new nbe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),gu(t).start(),t.bu.gu()}function UM(t){return Po(t)&&!gu(t).Uo()&&t.Au.size>0}function Po(t){return 0===F(t).vu.size}function sG(t){t.Vu=void 0}function rwe(t){return jM.apply(this,arguments)}function jM(){return jM=_(function*(t){t.Au.forEach((e,n)=>{VM(t,e)})}),jM.apply(this,arguments)}function swe(t,e){return $M.apply(this,arguments)}function $M(){return $M=_(function*(t,e){sG(t),UM(t)?(t.bu.Iu(e),BM(t)):t.bu.set("Unknown")}),$M.apply(this,arguments)}function owe(t,e,n){return zM.apply(this,arguments)}function zM(){return zM=_(function*(t,e,n){if(t.bu.set("Online"),e instanceof e5&&2===e.state&&e.cause)try{yield(i=_(function*(r,s){const o=s.cause;for(const a of s.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,s){return i.apply(this,arguments)})(t,e)}catch(i){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield iv(t,i)}else if(e instanceof By?t.Vu.Ht(e):e instanceof J3?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(G.min()))try{const i=yield q5(t.localStore);n.compareTo(i)>=0&&(yield function(r,s){const o=r.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(Jt.EMPTY_BYTE_STRING,c.snapshotVersion)),rG(r,a);const u=new Bs(c.target,a,l,c.sequenceNumber);VM(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(i){M("RemoteStore","Failed to raise snapshot:",i),yield iv(t,i)}var i}),zM.apply(this,arguments)}function iv(t,e,n){return HM.apply(this,arguments)}function HM(){return HM=_(function*(t,e,n){if(!Io(e))throw e;t.vu.add(1),yield pu(t),t.bu.set("Offline"),n||(n=()=>q5(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){M("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Pf(t)}))}),HM.apply(this,arguments)}function oG(t,e){return e().catch(n=>iv(t,n,e))}function mu(t){return GM.apply(this,arguments)}function GM(){return GM=_(function*(t){const e=F(t),n=Fo(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;awe(e);)try{const r=yield Gbe(e.localStore,i);if(null===r){0===e.Eu.length&&n.jo();break}i=r.batchId,lwe(e,r)}catch(r){yield iv(e,r)}aG(e)&&lG(e)}),GM.apply(this,arguments)}function awe(t){return Po(t)&&t.Eu.length<10}function lwe(t,e){t.Eu.push(e);const n=Fo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function aG(t){return Po(t)&&!Fo(t).Uo()&&t.Eu.length>0}function lG(t){Fo(t).start()}function cwe(t){return WM.apply(this,arguments)}function WM(){return WM=_(function*(t){Fo(t).hu()}),WM.apply(this,arguments)}function uwe(t){return qM.apply(this,arguments)}function qM(){return qM=_(function*(t){const e=Fo(t);for(const n of t.Eu)e.uu(n.mutations)}),qM.apply(this,arguments)}function dwe(t,e,n){return KM.apply(this,arguments)}function KM(){return KM=_(function*(t,e,n){const i=t.Eu.shift(),r=iM.from(i,e,n);yield oG(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield mu(t)}),KM.apply(this,arguments)}function hwe(t,e){return YM.apply(this,arguments)}function YM(){return YM=_(function*(t,e){var n;e&&Fo(t).ou&&(yield(n=_(function*(i,r){if(function K3(t){switch(t){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(s=r.code)&&s!==E.ABORTED){const o=i.Eu.shift();Fo(i).Qo(),yield oG(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield mu(i)}var s}),function(i,r){return n.apply(this,arguments)})(t,e)),aG(t)&&lG(t)}),YM.apply(this,arguments)}function cG(t,e){return QM.apply(this,arguments)}function QM(){return QM=_(function*(t,e){const n=F(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const i=Po(n);n.vu.add(3),yield pu(n),i&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Pf(n)}),QM.apply(this,arguments)}function ZM(){return ZM=_(function*(t,e){const n=F(t);e?(n.vu.delete(2),yield Pf(n)):e||(n.vu.add(2),yield pu(n),n.bu.set("Unknown"))}),ZM.apply(this,arguments)}function gu(t){return t.Su||(t.Su=function(e,n,i){const r=F(e);return r.fu(),new Zbe(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:rwe.bind(null,t),ao:swe.bind(null,t),nu:owe.bind(null,t)}),t.Ru.push(function(){var e=_(function*(n){n?(t.Su.Qo(),UM(t)?BM(t):t.bu.set("Unknown")):(yield t.Su.stop(),sG(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Fo(t){return t.Du||(t.Du=function(e,n,i){const r=F(e);return r.fu(),new Jbe(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:cwe.bind(null,t),ao:hwe.bind(null,t),au:uwe.bind(null,t),cu:dwe.bind(null,t)}),t.Ru.push(function(){var e=_(function*(n){n?(t.Du.Qo(),yield mu(t)):(yield t.Du.stop(),t.Eu.length>0&&(M("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class JM{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new JM(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(t,e){if(Ot("AsyncQueue",`${e}: ${t}`),Io(t))return new T(E.UNAVAILABLE,`${e}: ${t}`);throw t}class yu{constructor(e){this.comparator=e?(n,i)=>e(n,i)||O.comparator(n.key,i.key):(n,i)=>O.comparator(n.key,i.key),this.keyedMap=gf(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new yu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class uG{constructor(){this.Cu=new tt(O.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(n):1===e.type&&2===i.type?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):$():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class vu{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vu(e,n,yu.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class fwe{constructor(){this.Nu=void 0,this.listeners=[]}}class pwe{constructor(){this.queries=new Ls(e=>A3(e),pf),this.onlineState="Unknown",this.ku=new Set}}function e1(t,e){return t1.apply(this,arguments)}function t1(){return t1=_(function*(t,e){const n=F(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new fwe),r)try{s.Nu=yield n.onListen(i)}catch(o){const a=_u(o,`Initialization of query '${JA(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&s1(n)}),t1.apply(this,arguments)}function n1(t,e){return r1.apply(this,arguments)}function r1(){return r1=_(function*(t,e){const n=F(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}),r1.apply(this,arguments)}function mwe(t,e){const n=F(t);let i=!1;for(const r of e){const o=n.queries.get(r.query);if(o){for(const a of o.listeners)a.$u(r)&&(i=!0);o.Nu=r}}i&&s1(n)}function gwe(t,e,n){const i=F(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function s1(t){t.ku.forEach(e=>{e.next()})}class o1{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new vu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fG{constructor(e){this.key=e}}class pG{constructor(e){this.key=e}}class mG{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ce(),this.mutatedKeys=ce(),this.tc=R3(e),this.ec=new yu(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new uG,r=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=mf(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.rc(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{ec:o,ic:i,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(i);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==s.length||l?{snapshot:new vu(this.query,e.ec,r,s,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new uG,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ce(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new pG(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new fG(i))}),n}hc(e){this.Yu=e.ir,this.Zu=ce();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return vu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class vwe{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class bwe{constructor(e){this.key=e,this.fc=!1}}class wwe{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ls(a=>A3(a),pf),this._c=new Map,this.mc=new Set,this.gc=new tt(O.comparator),this.yc=new Map,this.Ic=new vM,this.Tc={},this.Ec=new Map,this.Ac=rl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ewe(t,e){return a1.apply(this,arguments)}function a1(){return a1=_(function*(t,e){const n=function M1(t){const e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rwe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xwe.bind(null,e),e.dc.nu=mwe.bind(null,e.eventManager),e.dc.Pc=gwe.bind(null,e.eventManager),e}(t);let i,r;const s=n.wc.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const o=yield function hu(t,e){const n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Bs.getTargetData(i,e).next(s=>s?(r=s,w.resolve(r)):n.Bs.allocateTargetId(i).next(o=>(r=new Bs(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}(n.localStore,ii(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function l1(t,e,n,i,r){return c1.apply(this,arguments)}(n,e,i,"current"===a,o.resumeToken),n.isPrimaryClient&&nv(n.remoteStore,o)}return r}),a1.apply(this,arguments)}function c1(){return c1=_(function*(t,e,n,i,r){t.Rc=(d,h,f)=>{return(p=_(function*(m,g,v,y){let x=g.view.sc(v);x.zi&&(x=yield Xy(m.localStore,g.query,!1).then(({documents:K})=>g.view.sc(K,x)));const R=y&&y.targetChanges.get(g.targetId),j=g.view.applyChanges(x,m.isPrimaryClient,R);return v1(m,g.targetId,j.cc),j.snapshot}),function(m,g,v,y){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Xy(t.localStore,e,!0),o=new mG(e,s.ir),a=o.sc(s.documents),l=Ef.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=o.applyChanges(a,t.isPrimaryClient,l);v1(t,n,c.cc);const u=new vwe(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),c1.apply(this,arguments)}function Cwe(t,e){return u1.apply(this,arguments)}function u1(){return u1=_(function*(t,e){const n=F(t),i=n.wc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter(s=>!pf(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fu(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Ff(n.remoteStore,i.targetId),bu(n,i.targetId)}).catch(Co))):(bu(n,i.targetId),yield fu(n.localStore,i.targetId,!0))}),u1.apply(this,arguments)}function d1(){return d1=_(function*(t,e,n){const i=function R1(t){const e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Twe.bind(null,e),e}(t);try{const r=yield function(s,o){const a=F(s),l=bt.now(),c=o.reduce((h,f)=>h.add(f.key),ce());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=yi(),p=ce();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((g,v)=>{v.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const g=[];for(const v of o){const y=Zve(v,u.get(v.key).overlayedDocument);null!=y&&g.push(new Vs(v.key,y,m3(y.value.mapValue),ft.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,g,o)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:N3(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new tt(ee)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(i,r.batchId,n),yield Us(i,r.changes),yield mu(i.remoteStore)}catch(r){const s=_u(r,"Failed to persist write");n.reject(s)}}),d1.apply(this,arguments)}function gG(t,e){return h1.apply(this,arguments)}function h1(){return h1=_(function*(t,e){const n=F(t);try{const i=yield function Hbe(t,e){const n=F(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,g;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Jt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),m=f,g=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let l=yi(),c=ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function K5(t,e,n){let i=ce(),r=ce();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=yi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(G.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:r}})}(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!i.isEqual(G.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=r,s))}(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.yc.get(s);o&&(H(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?H(o.fc):r.removedDocuments.size>0&&(H(o.fc),o.fc=!1))}),yield Us(n,i,e)}catch(i){yield Co(i)}}),h1.apply(this,arguments)}function _G(t,e,n){const i=F(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const r=[];i.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&s1(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function xwe(t,e,n){return f1.apply(this,arguments)}function f1(){return f1=_(function*(t,e,n){const i=F(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.yc.get(e),s=r&&r.key;if(s){let o=new tt(O.comparator);o=o.insert(s,ut.newNoDocument(s,G.min()));const a=ce().add(s),l=new wf(G.min(),new Map,new tt(ee),o,a);yield gG(i,l),i.gc=i.gc.remove(s),i.yc.delete(e),b1(i)}else yield fu(i.localStore,e,!1).then(()=>bu(i,e,n)).catch(Co)}),f1.apply(this,arguments)}function Dwe(t,e){return p1.apply(this,arguments)}function p1(){return p1=_(function*(t,e){const n=F(t),i=e.batch.batchId;try{const r=yield function zbe(t,e){const n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);H(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}(n.localStore,e);y1(n,i,null),_1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Us(n,r)}catch(r){yield Co(r)}}),p1.apply(this,arguments)}function Twe(t,e,n){return m1.apply(this,arguments)}function m1(){return m1=_(function*(t,e,n){const i=F(t);try{const r=yield function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(H(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);y1(i,e,n),_1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Us(i,r)}catch(r){yield Co(r)}}),m1.apply(this,arguments)}function _1(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function y1(t,e,n){const i=F(t);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function bu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||yG(t,i)})}function yG(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Ff(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),b1(t))}function v1(t,e,n){for(const i of n)i instanceof fG?(t.Ic.addReference(i.key,e),Awe(t,i)):i instanceof pG?(M("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||yG(t,i.key)):$()}function Awe(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(M("SyncEngine","New document in limbo: "+n),t.mc.add(i),b1(t))}function b1(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new O(De.fromString(e)),i=t.Ac.next();t.yc.set(i,new bwe(n)),t.gc=t.gc.insert(n,i),nv(t.remoteStore,new Bs(ii(iu(n.path)),i,"TargetPurposeLimboResolution",Ni.ct))}}function Us(t,e,n){return w1.apply(this,arguments)}function w1(){return w1=_(function*(t,e,n){const i=F(t),r=[],s=[],o=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,l)=>{o.push(i.Rc(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=IM.Li(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.dc.nu(r),yield(a=_(function*(l,c){const u=F(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Io(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,s))}),w1.apply(this,arguments)}function Mwe(t,e){return E1.apply(this,arguments)}function E1(){return E1=_(function*(t,e){const n=F(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const i=yield W5(n.localStore,e);n.currentUser=e,(r=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Us(n,i.er)}var r}),E1.apply(this,arguments)}function Rwe(t,e){const n=F(t),i=n.yc.get(e);if(i&&i.fc)return ce().add(i.key);{let r=ce();const s=n._c.get(e);if(!s)return r;for(const o of s){const a=n.wc.get(o);r=r.unionWith(a.view.nc)}return r}}class rv{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=Of(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function G5(t,e,n,i){return new $be(t,e,n,i)}(this.persistence,new H5,e.initialUser,this.serializer)}createPersistence(e){return new bM(Ky.zs,this.serializer)}createSharedClientState(e){return new eG}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wu{initialize(e,n){var i=this;return _(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(n),i.remoteStore=i.createRemoteStore(n),i.eventManager=i.createEventManager(n),i.syncEngine=i.createSyncEngine(n,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>_G(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Mwe.bind(null,i.syncEngine),yield function XM(t,e){return ZM.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pwe}createDatastore(e){const n=Of(e.databaseInfo.databaseId),i=new Xbe(e.databaseInfo);return new ewe(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,s=a=>_G(this.syncEngine,a,0),o=tG.D()?new tG:new Kbe,new iwe(n,i,r,s,o);var n,i,r,s,o}createSyncEngine(e,n){return function(i,r,s,o,a,l,c){const u=new wwe(i,r,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=_(function*(n){const i=F(n);M("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield pu(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ot("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Hwe{constructor(e,n,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=un.UNAUTHENTICATED,this.clientId=G4.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=_(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(i){const r=_u(i,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}function ov(t,e){return k1.apply(this,arguments)}function k1(){return k1=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var r=_(function*(s){i.isEqual(s)||(yield W5(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),k1.apply(this,arguments)}function N1(t,e){return O1.apply(this,arguments)}function O1(){return O1=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function P1(t){return F1.apply(this,arguments)}(t);M("FirestoreClient","Initializing OnlineComponentProvider");const i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(r=>cG(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>cG(e.remoteStore,s)),t._onlineComponents=e}),O1.apply(this,arguments)}function F1(){return F1=_(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ov(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function IG(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;hr("Error using user provided cache. Falling back to memory cache: "+n),yield ov(t,new rv)}}else M("FirestoreClient","Using default OfflineComponentProvider"),yield ov(t,new rv);return t._offlineComponents}),F1.apply(this,arguments)}function av(t){return L1.apply(this,arguments)}function L1(){return L1=_(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),yield N1(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),yield N1(t,new wu))),t._onlineComponents}),L1.apply(this,arguments)}function Eu(t){return B1.apply(this,arguments)}function B1(){return B1=_(function*(t){const e=yield av(t),n=e.eventManager;return n.onListen=Ewe.bind(null,e.syncEngine),n.onUnlisten=Cwe.bind(null,e.syncEngine),n}),B1.apply(this,arguments)}function MG(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const RG=new Map;function U1(t,e,n){if(!n)throw new T(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kG(t){if(!O.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NG(t){if(O.isDocumentKey(t))throw new T(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":$()}function Ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cv(t);throw new T(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class PG{constructor(e){var n,i;if(void 0===e.host){if(void 0!==e.ssl)throw new T(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Jwe(t,e,n,i){if(!0===e&&!0===i)throw new T(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=MG(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new T(E.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new T(E.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new T(E.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PG(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Xye;switch(n.type){case"firstParty":return new tve(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=RG.get(e);n&&(M("ComponentProvider","Removing Datastore"),RG.delete(e),n.terminate())}(this),Promise.resolve()}}class Lt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}}class An{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new An(this.firestore,e,this._query)}}class Kr extends An{constructor(e,n,i){super(e,n,iu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new O(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function t0e(t,e,...n){if(t=Xt(t),U1("collection","path",e),t instanceof Lf){const i=De.fromString(e,...n);return NG(i),new Kr(t,null,i)}{if(!(t instanceof Lt||t instanceof Kr))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return NG(i),new Kr(t.firestore,null,i)}}function uv(t,e,...n){if(t=Xt(t),1===arguments.length&&(e=G4.A()),U1("doc","path",e),t instanceof Lf){const i=De.fromString(e,...n);return kG(i),new Lt(t,null,new O(i))}{if(!(t instanceof Lt||t instanceof Kr))throw new T(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return kG(i),new Lt(t.firestore,t instanceof Kr?t.converter:null,new O(i))}}class n0e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new OM(this,"async_queue_retry"),this.Xc=()=>{const n=tv();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=tv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=tv();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Zt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Io(n))throw n;M("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Ot("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=JM.createAndSchedule(this,e,n,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&$()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function j1(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(t)}class dt extends Lf{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new n0e,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VG(this),this._firestoreClient.terminate()}}function LG(t,e){const i="string"==typeof t?t:e||"(default)",r=Aa("object"==typeof t?t:l_(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Aj("firestore");s&&function e0e(t,e,n,i={}){var r;const s=(t=Ce(t,Lf))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=un.MOCK_USER;else{a=kj(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new T(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new un(c)}t._authCredentials=new Zye(new z4(a,l))}}(r,...s)}return r}function zt(t){return t._firestoreClient||VG(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VG(t){var e,n,i;const r=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Rve(t._databaseId,a,t._persistenceKey,(c=r).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,MG(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Hwe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=r.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(Jt.fromBase64String(e))}catch(n){throw new T(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ol(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $1{constructor(e){this._methodName=e}}class z1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}const s0e=/^__.*__$/;class o0e{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return null!==this.fieldMask?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class jG{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $G(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class dv{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return fv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($G(this.ca)&&s0e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class a0e{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Of(e)}ya(e,n,i,r=!1){return new dv({ca:e,methodName:n,ga:i,path:Pt.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(t){const e=t._freezeSettings(),n=Of(t._databaseId);return new a0e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H1(t,e,n,i,r,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,r);W1("Data must be an object, but it was:",o,i);const a=qG(i,o);let l,c;if(s.merge)l=new _i(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Uf(e,d,n);if(!o.contains(h))throw new T(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);YG(u,h)||u.push(h)}l=new _i(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new o0e(new Sn(a),l,c)}class Bf extends $1{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}function al(t,e){if(KG(t=Xt(t)))return W1("Unsupported field value:",e,t),qG(t,e);if(t instanceof $1)return function(n,i){if(!$G(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const o of n){let a=al(o,i.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if(null===(n=Xt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return L3(i.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const r=bt.fromDate(n);return{timestampValue:lu(i.serializer,r)}}if(n instanceof bt){const r=new bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lu(i.serializer,r)}}if(n instanceof z1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ol)return{bytesValue:s5(i.serializer,n._byteString)};if(n instanceof Lt){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:lM(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${cv(n)}`)}(t,e)}function qG(t,e){const n={};return o3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,(i,r)=>{const s=al(r,e.ha(i));null!=s&&(n[i]=s)}),{mapValue:{fields:n}}}function KG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof z1||t instanceof ol||t instanceof Lt||t instanceof $1)}function W1(t,e,n){if(!KG(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cv(n);throw e._a("an object"===i?t+" a custom object":t+" "+i)}var i}function Uf(t,e,n){if((e=Xt(e))instanceof Cu)return e._internalPath;if("string"==typeof e)return hv(t,e);throw fv("Field path arguments must be of type string or ",t,!1,void 0,n)}const d0e=new RegExp("[~\\*/\\[\\]]");function hv(t,e,n){if(e.search(d0e)>=0)throw fv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cu(...e.split("."))._internalPath}catch{throw fv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fv(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new T(E.INVALID_ARGUMENT,a+t+l)}function YG(t,e){return t.some(n=>n.isEqual(e))}class q1{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new h0e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class h0e extends q1{data(){return super.data()}}function pv(t,e){return"string"==typeof e?hv(t,e):e instanceof Cu?e._internalPath:e._delegate._internalPath}class p0e{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return xo(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new z1(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Ty(e);return null==i?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(cf(e));default:return null}}convertTimestamp(e){const n=Do(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=De.fromString(e);H(m5(i));const r=new qa(i.get(1),i.get(3)),s=new O(i.popFirst(5));return r.isEqual(n)||Ot(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Du extends q1{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(pv("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class yv extends Du{data(e={}){return super.data(e)}}class Tu{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ll(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new yv(this._firestore,this._userDataWriter,i.key,i,new ll(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new yv(i._firestore,i._userDataWriter,o.doc.key,o.doc,new ll(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||3!==o.type).map(o=>{const a=new yv(i._firestore,i._userDataWriter,o.doc.key,o.doc,new ll(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:g0e(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function g0e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Lo extends p0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function v0e(t,e){const n=Ce(t.firestore,dt),i=uv(t),r=function Y1(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}(t.converter,e);return $f(n,[H1(Iu(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,ft.exists(!1))]).then(()=>i)}function iW(t,...e){var n,i,r;t=Xt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||j1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(j1(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[o+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(t instanceof Lt)c=Ce(t.firestore,dt),u=iu(t._key.path),l={next:d=>{e[o]&&e[o](Q1(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ce(t,An);c=Ce(d.firestore,dt),u=d._query;const h=new Lo(c);l={next:f=>{e[o]&&e[o](new Tu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function QG(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const m=new sv(p),g=new o1(h,m,f);return d.asyncQueue.enqueueAndForget(_(function*(){return e1(yield Eu(d),g)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(_(function*(){return n1(yield Eu(d),g)}))}}(zt(c),u,a,l)}function $f(t,e){return function(n,i){const r=new Zt;return n.asyncQueue.enqueueAndForget(_(function*(){return function Iwe(t,e,n){return d1.apply(this,arguments)}(yield function V1(t){return av(t).then(e=>e.syncEngine)}(n),i,r)})),r.promise}(zt(t),e)}function Q1(t,e,n){const i=n.docs.get(e._key),r=new Lo(t);return new Du(t,r,e._key,i,new ll(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){Xc=po,Bn(new En("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),o=new dt(new Jye(n.getProvider("auth-internal")),new nve(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),at($4,"3.12.2",t),at($4,"3.12.2","esm2017")}();var R0e={includeMetadataChanges:!1};function V0e(t,e){return void 0===e&&(e={}),function L0e(t){return function X1(t,e){return void 0===e&&(e=R0e),new We(function(n){return{unsubscribe:iW(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}(t,{includeMetadataChanges:!0}).pipe(ue(function(e){return e.docs}))}(t).pipe(ue(function(n){return n.map(function(i){return function sW(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(i,e)})}))}class zf{constructor(e){return e}}const cW="firestore",eR=new S("angularfire2.firestore-instances");function j0e(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new zf(i)}}const $0e={provide:class B0e{constructor(){return b_(cW)}},deps:[[new It,eR]]},z0e={provide:zf,useFactory:function U0e(t,e){const n=v_(cW,t,e);return n&&new zf(n)},deps:[[new It,eR],La]};let H0e=(()=>{class t{constructor(){at("angularfire",bh.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[z0e,$0e]}),t})();function G0e(t,...e){return{ngModule:H0e,providers:[{provide:eR,useFactory:j0e(t),multi:!0,deps:[q,Rt,w_,E_,[new It,qS],[new It,M_],...e]}]}}const W0e=Fa(V0e,!0),q0e=Fa(v0e,!0),tR=Fa(t0e,!0),K0e=Fa(LG,!0);class uW{constructor(){this.players=[],this.stack=[],this.playedCards=[],this.currentPlayer=0,this.pickCardAnimation=!1,this.currentCard="";for(let e=1;e<13;e++)this.stack.push("ace_"+e),this.stack.push("hearts_"+e),this.stack.push("diamonds_"+e),this.stack.push("clubs_"+e);!function Y0e(t){let n,e=t.length;for(;0!=e;)n=Math.floor(Math.random()*e),e--,[t[e],t[n]]=[t[n],t[e]]}(this.stack)}toJson(){return{players:this.players,stack:this.stack,playedCards:this.playedCards,currentPlayer:this.currentPlayer,pickCardAnimation:this.pickCardAnimation,currentCard:this.currentCard}}}let Q0e=(()=>{var t;class e{constructor(i,r){this.firestore=i,this.router=r}ngOnInit(){}newGame(){let r=new uW;this.aCollection=tR(this.firestore,"games"),q0e(this.aCollection,r.toJson()).then(o=>{this.router.navigateByUrl("/game/"+o.id)})}}return(t=e).\u0275fac=function(i){return new(i||t)(b(zf),b(Mi))},t.\u0275cmp=Vt({type:t,selectors:[["app-start-screen"]],decls:5,vars:0,consts:[[1,"start-screen"],["src","assets/start-screen.jpg"],[1,"start-labelbox"],["src","assets/label.jpg",3,"click"]],template:function(i,r){1&i&&(oe(0,"div",0),yt(1,"img",1),oe(2,"div",2),yt(3,"div",2),oe(4,"img",3),xt("click",function(){return r.newGame()}),ge()()())},styles:[".start-screen[_ngcontent-%COMP%]{background-color:#404040;width:100vw;height:100vh;max-width:100%;display:flex;justify-content:center;overflow:hidden}.start-screen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100vh;width:100%;object-fit:cover}.start-labelbox[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;left:10vw;bottom:150px}.start-labelbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30vw;height:60px;border-radius:8px}@media (width < 720px){.start-labelbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:57px;width:280px}}@media (width < 720px){.start-labelbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:37px;width:200px}}.start-labelbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(1.2)}"]}),e})();function js(t){return null!=t&&"false"!=`${t}`}function nR(t,e=0){return function X0e(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function bv(t){return Array.isArray(t)?t:[t]}function Ht(t){return null==t?"":"string"==typeof t?t:`${t}px`}function $s(t){return t instanceof Ne?t.nativeElement:t}const Z0e=["addListener","removeListener"],J0e=["addEventListener","removeEventListener"],eEe=["on","off"];function iR(t,e,n,i){if(we(n)&&(i=n,n=void 0),i)return iR(t,e,n).pipe(kC(i));const[r,s]=function iEe(t){return we(t.addEventListener)&&we(t.removeEventListener)}(t)?J0e.map(o=>a=>t[o](e,a,n)):function tEe(t){return we(t.addListener)&&we(t.removeListener)}(t)?Z0e.map(dW(t,e)):function nEe(t){return we(t.on)&&we(t.off)}(t)?eEe.map(dW(t,e)):[];if(!r&&ow(t))return tn(o=>iR(o,e,n))(Yn(t));if(!r)throw new TypeError("Invalid event target");return new We(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function dW(t,e){return n=>i=>t[n](e,i)}const Hf={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:i}=Hf;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);const r=e(s=>{n=void 0,t(s)});return new gn(()=>n?.(r))},requestAnimationFrame(...t){const{delegate:e}=Hf;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=Hf;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class sEe extends __{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}}(class rEe extends g_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=Hf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:s}=e;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(Hf.cancelAnimationFrame(n),e._scheduled=void 0)}});let rR,aEe=1;const wv={};function hW(t){return t in wv&&(delete wv[t],!0)}const lEe={setImmediate(t){const e=aEe++;return wv[e]=!0,rR||(rR=Promise.resolve()),rR.then(()=>hW(e)&&t()),e},clearImmediate(t){hW(t)}},{setImmediate:cEe,clearImmediate:uEe}=lEe,Ev={setImmediate(...t){const{delegate:e}=Ev;return(e?.setImmediate||cEe)(...t)},clearImmediate(t){const{delegate:e}=Ev;return(e?.clearImmediate||uEe)(t)},delegate:void 0};new class hEe extends __{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}}(class dEe extends g_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=Ev.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:s}=e;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(Ev.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}});function fW(t,e=y_){return function pEe(t){return Mt((e,n)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,n.next(c)}o&&n.complete()},l=()=>{s=null,o&&n.complete()};e.subscribe(mt(n,c=>{i=!0,r=c,s||Yn(t(c)).subscribe(s=mt(n,a,l))},()=>{o=!0,(!i||!s||s.closed)&&n.complete()}))})}(()=>function gEe(t=0,e,n=Qfe){let i=-1;return null!=e&&(YN(e)?n=e:i=e),new We(r=>{let s=function mEe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(t,e))}let sR;try{sR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sR=!1}let Su,Mn=(()=>{var t;class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?function Vse(t){return t===qB}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(t=e).\u0275fac=function(i){return new(i||t)(C(hs))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const pW=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function mW(){if(Su)return Su;if("object"!=typeof document||!document)return Su=new Set(pW),Su;let t=document.createElement("input");return Su=new Set(pW.filter(e=>(t.setAttribute("type",e),t.type===e))),Su}let Gf,cl,oR;function Wf(t){return function _Ee(){if(null==Gf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gf=!0}))}finally{Gf=Gf||!1}return Gf}()?t:!!t.capture}function yEe(){if(null==cl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return cl=!1,cl;if("scrollBehavior"in document.documentElement.style)cl=!0;else{const t=Element.prototype.scrollTo;cl=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return cl}function aR(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Vo(t){return t.composedPath?t.composedPath()[0]:t.target}function lR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const wEe=new S("cdk-dir-doc",{providedIn:"root",factory:function EEe(){return V(de)}}),CEe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Iv=(()=>{var t;class e{constructor(i){this.value="ltr",this.change=new Je,i&&(this.value=function IEe(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?CEe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(t=e).\u0275fac=function(i){return new(i||t)(C(wEe,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),qf=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({}),e})(),DEe=(()=>{var t;class e{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new Me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new We(r=>{this._globalSubscription||this._addGlobalListener();const s=i>0?this._scrolled.pipe(fW(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){const s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(Vn(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(i){const r=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,i)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=$s(r),o=i.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>iR(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(q),C(Mn),C(de,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),gW=(()=>{var t;class e{constructor(i,r,s){this._platform=i,this._change=new Me,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,r=this._getWindow(),s=i.documentElement,o=s.getBoundingClientRect();return{top:-o.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,left:-o.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(fW(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mn),C(q),C(de,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),_W=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({}),e})(),yW=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[qf,_W,qf,_W]}),e})();function Au(t){return Mt((e,n)=>{Yn(t).subscribe(mt(n,()=>n.complete(),Yb)),!n.closed&&e.subscribe(n)})}class cR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class uR extends cR{constructor(e,n,i,r,s){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class vW extends cR{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class SEe extends cR{constructor(e){super(),this.element=e instanceof Ne?e.nativeElement:e}}class dR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof uR?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof vW?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof SEe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class AEe extends dR{constructor(e,n,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Rt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);-1!==r&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let hR=(()=>{var t;class e extends dR{constructor(i,r,s){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Je,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);const r=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(o,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}}return(t=e).\u0275fac=function(i){return new(i||t)(b(ic),b(Hi),b(de))},t.\u0275dir=B({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[me]}),e})(),xv=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({}),e})();const bW=yEe();class MEe{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ht(-this._previousScrollPosition.left),e.style.top=Ht(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),bW&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bW&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}}class REe{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Vn(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class wW{enable(){}disable(){}attach(){}}function fR(t,e){return e.some(n=>t.bottom<n.top||t.top>n.bottom||t.right<n.left||t.left>n.right)}function EW(t,e){return e.some(n=>t.top<n.top||t.bottom>n.bottom||t.left<n.left||t.right>n.right)}class kEe{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();fR(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let NEe=(()=>{var t;class e{constructor(i,r,s,o){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new wW,this.close=a=>new REe(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new MEe(this._viewportRuler,this._document),this.reposition=a=>new kEe(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return(t=e).\u0275fac=function(i){return new(i||t)(C(DEe),C(gW),C(q),C(de))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class CW{constructor(e){if(this.scrollStrategy=new wW,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const n=Object.keys(e);for(const i of n)void 0!==e[i]&&(this[i]=e[i])}}}class OEe{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}}let IW=(()=>{var t;class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),PEe=(()=>{var t;class e extends IW{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=s=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const l=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(s)):l.next(s);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de),C(q,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),FEe=(()=>{var t;class e extends IW{constructor(i,r,s){super(i),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Vo(o)},this._clickListener=o=>{const a=Vo(o),l="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let u=c.length-1;u>-1;u--){const d=c[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(l))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(i){if(super.add(i),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de),C(Mn),C(q,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Dv=(()=>{var t;class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||lR()){const s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}const r=this._document.createElement("div");r.classList.add(i),lR()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de),C(Mn))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Kf{constructor(e,n,i,r,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Me,this._attachments=new Me,this._detachments=new Me,this._locationChanges=gn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Me,this._outsidePointerEvents=new Me,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ai(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ht(this._config.width),e.height=Ht(this._config.height),e.minWidth=Ht(this._config.minWidth),e.minHeight=Ht(this._config.minHeight),e.maxWidth=Ht(this._config.maxWidth),e.maxHeight=Ht(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){const r=bv(n||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Au($p(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const xW="cdk-overlay-connected-position-bounding-box",LEe=/([A-Za-z%]+)$/;class VEe{get positions(){return this._preferredPositions}constructor(e,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Me,this._resizeSubscription=gn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(xW),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,n,a),u=this._getOverlayFit(c,n,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:n})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ul(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xW),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?o:a}return n.left<0&&(r-=n.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(e,n,i){let r,s;return r="center"==i.overlayX?-n.width/2:"start"===i.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,s="center"==i.overlayY?-n.height/2:"top"==i.overlayY?0:-n.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,n,i,r){const s=TW(n);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),m=this._subtractOverflows(s.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){const r=i.bottom-n.y,s=i.right-n.x,o=DW(this._overlayRef.getConfig().minHeight),a=DW(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=TW(n),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new OEe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===n.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===n.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===n.overlayX&&!r||"start"===n.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===n.overlayX&&!r||"end"===n.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,n){const i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Ht(i.height),r.top=Ht(i.top),r.bottom=Ht(i.bottom),r.width=Ht(i.width),r.left=Ht(i.left),r.right=Ht(i.right),r.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",r.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Ht(s)),o&&(r.maxWidth=Ht(o))}this._lastBoundingBoxSize=i,ul(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ul(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ul(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();ul(i,this._getExactOverlayY(n,e,u)),ul(i,this._getExactOverlayX(n,e,u))}else i.position="static";let a="",l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Ht(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Ht(o.maxWidth):s&&(i.maxWidth="")),ul(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Ht(s.y),r}_getExactOverlayX(e,n,i){let o,r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ht(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EW(e,i),isOriginOutsideView:fR(e,i),isOverlayClipped:EW(n,i),isOverlayOutsideView:fR(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return"x"===n?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&bv(e).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ne)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}}function ul(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function DW(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(LEe);return n&&"px"!==n?null:parseFloat(e)}return t||null}function TW(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const SW="cdk-global-overlay-wrapper";class BEe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(SW),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,n.justifyContent=m,n.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(SW),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let UEe=(()=>{var t;class e{constructor(i,r,s,o){this._viewportRuler=i,this._document=r,this._platform=s,this._overlayContainer=o}global(){return new BEe}flexibleConnectedTo(i){return new VEe(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(gW),C(de),C(Mn),C(Dv))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),jEe=0,Mu=(()=>{var t;class e{constructor(i,r,s,o,a,l,c,u,d,h,f,p){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=u,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(i){const r=this._createHostElement(),s=this._createPaneElement(r),o=this._createPortalOutlet(s),a=new CW(i);return a.direction=a.direction||this._directionality.value,new Kf(o,r,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(i){const r=this._document.createElement("div");return r.id="cdk-overlay-"+jEe++,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(ao)),new AEe(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(NEe),C(Dv),C(ic),C(UEe),C(PEe),C(Rt),C(q),C(de),C(Iv),C(Kd),C(FEe),C(Dr,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const HEe={provide:new S("cdk-connected-overlay-scroll-strategy"),deps:[Mu],useFactory:function zEe(t){return()=>t.scrollStrategies.reposition()}};let AW=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[Mu,HEe],imports:[qf,xv,yW,yW]}),e})();function RW(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function kW(t){return Vn((e,n)=>t<=n)}function NW(t,e=y_){return Mt((n,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+t,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}n.subscribe(mt(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}let OW=(()=>{var t;class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),QEe=(()=>{var t;class e{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,r)=>this._cleanupObserver(r))}observe(i){const r=$s(i);return new We(s=>{const a=this._observeElement(r).subscribe(s);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const r=new Me,s=this._mutationObserverFactory.create(o=>r.next(o));s&&s.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:s,stream:r,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:r,stream:s}=this._observedElements.get(i);r&&r.disconnect(),s.complete(),this._observedElements.delete(i)}}}return(t=e).\u0275fac=function(i){return new(i||t)(C(OW))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),XEe=(()=>{var t;class e{get disabled(){return this._disabled}set disabled(i){this._disabled=js(i),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=nR(i),this._subscribe()}constructor(i,r,s){this._contentObserver=i,this._elementRef=r,this._ngZone=s,this.event=new Je,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(NW(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){return new(i||t)(b(QEe),b(Ne),b(q))},t.\u0275dir=B({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),PW=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[OW]}),e})();const FW=new Set;let dl,ZEe=(()=>{var t;class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eCe}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function JEe(t,e){if(!FW.has(t))try{dl||(dl=document.createElement("style"),e&&(dl.nonce=e),dl.setAttribute("type","text/css"),document.head.appendChild(dl)),dl.sheet&&(dl.sheet.insertRule(`@media ${t} {body{ }}`,0),FW.add(t))}catch(n){console.error(n)}}(i,this._nonce),this._matchMedia(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mn),C(T0,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function eCe(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let tCe=(()=>{var t;class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new Me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return LW(bv(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let o=Ag(LW(bv(i)).map(a=>this._registerQuery(a).observable));return o=Rg(o.pipe(Ai(1)),o.pipe(kW(1),NW(0))),o.pipe(ue(a=>{const l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:u})=>{l.matches=l.matches||c,l.breakpoints[u]=c}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const r=this._mediaMatcher.matchMedia(i),o={observable:new We(a=>{const l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Ng(r),ue(({matches:a})=>({query:i,matches:a})),Au(this._destroySubject)),mql:r};return this._queries.set(i,o),o}}return(t=e).\u0275fac=function(i){return new(i||t)(C(ZEe),C(q))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function LW(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}let Tv=(()=>{var t;class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function sCe(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const r=function rCe(t){try{return t.frameElement}catch{return null}}(function fCe(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(i));if(r&&(-1===jW(r)||!this.isVisible(r)))return!1;let s=i.nodeName.toLowerCase(),o=jW(i);return i.hasAttribute("contenteditable")?-1!==o:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function dCe(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(i))&&("audio"===s?!!i.hasAttribute("controls")&&-1!==o:"video"===s?-1!==o&&(null!==o||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,r){return function hCe(t){return!function aCe(t){return function cCe(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function oCe(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function lCe(t){return function uCe(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||UW(t))}(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mn))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function UW(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function jW(t){if(!UW(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class pCe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,s=!1){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){const i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){const n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const n=e.children;for(let i=0;i<n.length;i++){const r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const n=e.children;for(let i=n.length-1;i>=0;i--){const r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ai(1)).subscribe(e)}}let pR=(()=>{var t;class e{constructor(i,r,s){this._checker=i,this._ngZone=r,this._document=s}create(i,r=!1){return new pCe(i,this._checker,this._ngZone,this._document,r)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Tv),C(q),C(de))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $W(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function zW(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const mCe=new S("cdk-input-modality-detector-options"),gCe={ignoreKeys:[18,17,224,91,16]},Ru=Wf({passive:!0,capture:!0});let _Ce=(()=>{var t;class e{get mostRecentModality(){return this._modality.value}constructor(i,r,s,o){this._platform=i,this._mostRecentTarget=null,this._modality=new wi(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vo(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next($W(a)?"keyboard":"mouse"),this._mostRecentTarget=Vo(a))},this._onTouchstart=a=>{zW(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vo(a))},this._options={...gCe,...o},this.modalityDetected=this._modality.pipe(kW(1)),this.modalityChanged=this.modalityDetected.pipe(ZN()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Ru),s.addEventListener("mousedown",this._onMousedown,Ru),s.addEventListener("touchstart",this._onTouchstart,Ru)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ru),document.removeEventListener("mousedown",this._onMousedown,Ru),document.removeEventListener("touchstart",this._onTouchstart,Ru))}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mn),C(q),C(de),C(mCe,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const vCe=new S("cdk-focus-monitor-default-options"),Sv=Wf({passive:!0,capture:!0});let Av=(()=>{var t;class e{constructor(i,r,s,o,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Me,this._rootNodeFocusAndBlurListener=l=>{for(let u=Vo(l);u;u=u.parentElement)"focus"===l.type?this._onFocus(l,u):this._onBlur(l,u)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(i,r=!1){const s=$s(i);if(!this._platform.isBrowser||1!==s.nodeType)return W(null);const o=function bEe(t){if(function vEe(){if(null==oR){const t=typeof document<"u"?document.head:null;oR=!(!t||!t.createShadowRoot&&!t.attachShadow)}return oR}()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return r&&(a.checkChildren=!0),a.subject;const l={checkChildren:r,subject:new Me,rootNode:o};return this._elementInfo.set(s,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){const r=$s(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){const o=$s(i);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused","touch"===r),i.classList.toggle("cdk-keyboard-focused","keyboard"===r),i.classList.toggle("cdk-mouse-focused","mouse"===r),i.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,r){const s=this._elementInfo.get(r),o=Vo(i);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(i,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sv)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Au(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(i){const r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){const r=[];return this._elementInfo.forEach((s,o)=>{(o===i||s.checkChildren&&o.contains(i))&&r.push([o,s])}),r}_isLastInteractionFromInputLabel(i){const{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!r||r===i||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName||i.disabled)return!1;const o=i.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0;return!1}}return(t=e).\u0275fac=function(i){return new(i||t)(C(q),C(Mn),C(_Ce),C(de,8),C(vCe,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const GW="cdk-high-contrast-black-on-white",WW="cdk-high-contrast-white-on-black",mR="cdk-high-contrast-active";let qW=(()=>{var t;class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=V(tCe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(mR,GW,WW),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?i.add(mR,GW):2===r&&i.add(mR,WW)}}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mn),C(de))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bCe=(()=>{var t;class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}}return(t=e).\u0275fac=function(i){return new(i||t)(C(qW))},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[PW]}),e})();function wCe(t,e){}class Mv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let KW=(()=>{var t;class e extends dR{constructor(i,r,s,o,a,l,c,u){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=c,this._focusMonitor=u,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=s}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{i.removeEventListener("blur",s),i.removeEventListener("mousedown",s),i.removeAttribute("tabindex")};i.addEventListener("blur",s),i.addEventListener("mousedown",s)})),i.focus(r)}_focusByCssSelector(i,r){let s=this._elementRef.nativeElement.querySelector(i);s&&this._forceFocus(s,r)}_trapFocus(){const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const i=this._config.restoreFocus;let r=null;if("string"==typeof i?r=this._document.querySelector(i):"boolean"==typeof i?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&"function"==typeof r.focus){const s=aR(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const i=this._elementRef.nativeElement,r=aR();return i===r||i.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=aR())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(pR),b(de,8),b(Mv),b(Tv),b(q),b(Kf),b(Av))},t.\u0275cmp=Vt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&so(hR,7),2&i){let s;Fn(s=Ln())&&(r._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Kt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[me],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&st(0,wCe,0,0,"ng-template",0)},dependencies:[hR],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),e})();class gR{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new Me,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!RW(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==n.closeOnOverlayDetachments&&this.close()})}close(e,n){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const YW=new S("DialogScrollStrategy"),ECe=new S("DialogData"),CCe=new S("DefaultDialogConfig"),xCe={provide:YW,deps:[Mu],useFactory:function ICe(t){return()=>t.scrollStrategies.block()}};let DCe=0,QW=(()=>{var t;class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,s,o,a,l){this._overlay=i,this._injector=r,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Me,this._afterOpenedAtThisLevel=new Me,this._ariaHiddenElements=new Map,this.afterAllClosed=kg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ng(void 0))),this._scrollStrategy=l}open(i,r){(r={...this._defaultOptions||new Mv,...r}).id=r.id||"cdk-dialog-"+DCe++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),a=this._overlay.create(o),l=new gR(a,r),c=this._attachContainer(a,l,r);return l.containerInstance=c,this._attachDialogContent(i,l,c,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){_R(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){_R(this._openDialogsAtThisLevel,i=>{!1===i.config.closeOnDestroy&&this._removeOpenDialog(i,!1)}),_R(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){const r=new CW({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,s){const o=s.injector||s.viewContainerRef?.injector,a=[{provide:Mv,useValue:s},{provide:gR,useValue:r},{provide:Kf,useValue:i}];let l;s.container?"function"==typeof s.container?l=s.container:(l=s.container.type,a.push(...s.container.providers(s))):l=KW;const c=new uR(l,s.viewContainerRef,Rt.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return i.attach(c).instance}_attachDialogContent(i,r,s,o){if(i instanceof kr){const a=this._createInjector(o,r,s,void 0);let l={$implicit:o.data,dialogRef:r};o.templateContext&&(l={...l,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),s.attachTemplatePortal(new vW(i,null,l,a))}else{const a=this._createInjector(o,r,s,this._injector),l=s.attachComponentPortal(new uR(i,o.viewContainerRef,a,o.componentFactoryResolver));r.componentInstance=l.instance}}_createInjector(i,r,s,o){const a=i.injector||i.viewContainerRef?.injector,l=[{provide:ECe,useValue:i.data},{provide:gR,useValue:r}];return i.providers&&("function"==typeof i.providers?l.push(...i.providers(r,i,s)):l.push(...i.providers)),i.direction&&(!a||!a.get(Iv,null,{optional:!0}))&&l.push({provide:Iv,useValue:{value:i.direction,change:W()}}),Rt.create({parent:a||o,providers:l})}_removeOpenDialog(i,r){const s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const i=this._overlayContainer.getContainerElement();if(i.parentElement){const r=i.parentElement.children;for(let s=r.length-1;s>-1;s--){const o=r[s];o!==i&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mu),C(Rt),C(CCe,8),C(t,12),C(Dv),C(YW))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();function _R(t,e){let n=t.length;for(;n--;)e(t[n])}let TCe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[QW,xCe],imports:[AW,xv,bCe,xv]}),e})();const ACe=new S("mat-sanity-checks",{providedIn:"root",factory:function SCe(){return!0}});let vi=(()=>{var t;class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!lR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return(t=e).\u0275fac=function(i){return new(i||t)(C(qW),C(ACe,8),C(de))},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[qf,qf]}),e})();function MCe(t){return class extends t{get disabled(){return this._disabled}set disabled(e){this._disabled=js(e)}constructor(...e){super(...e),this._disabled=!1}}}function eq(t,e){return class extends t{get color(){return this._color}set color(n){const i=n||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}function RCe(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=js(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function kCe(t){return class extends t{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let OCe=(()=>{var t;class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class PCe{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tq=Wf({passive:!0,capture:!0});class FCe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=Vo(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){const s=this._events.get(n);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,tq)})}removeHandler(e,n,i){const r=this._events.get(e);if(!r)return;const s=r.get(n);s&&(s.delete(i),0===s.size&&r.delete(n),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,tq)))}}const nq={enterDuration:225,exitDuration:150},iq=Wf({passive:!0,capture:!0}),rq=["mousedown","touchstart"],sq=["mouseup","mouseleave","touchend","touchcancel"];class ku{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=$s(i))}fadeInRipple(e,n,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...nq,...i.animation};i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);const o=i.radius||function VCe(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(e,n,r),a=e-r.left,l=n-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,m=new PCe(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(m),y=()=>this._destroyRipple(m);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",y),g={onTransitionEnd:v,onTransitionCancel:y}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const n=e.element,i={...nq,...e.config.animation};n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=$s(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,rq.forEach(i=>{ku._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{sq.forEach(n=>{this._triggerElement.addEventListener(n,this,iq)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=$W(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!zW(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(rq.forEach(n=>ku._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&sq.forEach(n=>e.removeEventListener(n,this,iq)))}}ku._eventManager=new FCe;const oq=new S("mat-ripple-global-options");let BCe=(()=>{var t;class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,o,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new ku(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,r,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(q),b(Mn),b(oq,8),b(Dr,8))},t.\u0275dir=B({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&ht("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),UCe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[vi,vi]}),e})();class aq{}class jCe{}const zs="*";function lq(t,e){return{type:7,name:t,definitions:e,options:{}}}function yR(t,e=null){return{type:4,styles:e,timings:t}}function uq(t,e=null){return{type:2,steps:t,options:e}}function Bo(t){return{type:6,styles:t,offset:null}}function vR(t,e,n){return{type:0,name:t,styles:e,options:n}}function bR(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function fq(t){Promise.resolve().then(t)}class Qf{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fq(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class pq{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0;const s=this.players.length;0==s?fq(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}function $Ce(t,e){}class Rv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ER="mdc-dialog--open",mq="mdc-dialog--opening",gq="mdc-dialog--closing";let GCe=(()=>{var t;class e extends KW{constructor(i,r,s,o,a,l,c,u){super(i,r,s,o,a,l,c,u),this._animationStateChanged=new Je}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(pR),b(de,8),b(Rv),b(Tv),b(q),b(Kf),b(Av))},t.\u0275cmp=Vt({type:t,selectors:[["ng-component"]],features:[me],decls:0,vars:0,template:function(i,r){},encapsulation:2}),e})();const _q="--mat-dialog-transition-duration";function yq(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?nR(t.substring(0,t.length-2)):t.endsWith("s")?1e3*nR(t.substring(0,t.length-1)):"0"===t?0:null}let WCe=(()=>{var t;class e extends GCe{constructor(i,r,s,o,a,l,c,u,d){super(i,r,s,o,a,l,c,d),this._animationMode=u,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?yq(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?yq(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(_q,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(mq,ER)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ER),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(ER),this._animationsEnabled?(this._hostElement.style.setProperty(_q,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(gq)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(mq,gq)}_waitForAnimationToComplete(i,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(i):i()})}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(pR),b(de,8),b(Rv),b(Tv),b(q),b(Kf),b(Dr,8),b(Av))},t.\u0275cmp=Vt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(_c("id",r._config.id),Kt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ht("_mat-animation-noopable",!r._animationsEnabled))},features:[me],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(oe(0,"div",0)(1,"div",1),st(2,$Ce,0,0,"ng-template",2),ge()())},dependencies:[hR],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),e})();class kv{constructor(e,n,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Me,this._beforeClosed=new Me,this._state=0,this.disableClose=n.disableClose,this.id=e.id,i._animationStateChanged.pipe(Vn(r=>"opened"===r.state),Ai(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Vn(r=>"closed"===r.state),Ai(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),$p(this.backdropClick(),this.keydownEvents().pipe(Vn(r=>27===r.keyCode&&!this.disableClose&&!RW(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),vq(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Vn(n=>"closing"===n.state),Ai(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function vq(t,e,n){return t._closeInteractionType=e,t.close(n)}const qCe=new S("MatMdcDialogData"),KCe=new S("mat-mdc-dialog-default-options"),bq=new S("mat-mdc-dialog-scroll-strategy"),QCe={provide:bq,deps:[Mu],useFactory:function YCe(t){return()=>t.scrollStrategies.block()}};let XCe=0,ZCe=(()=>{var t;class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,s,o,a,l,c,u,d,h){this._overlay=i,this._defaultOptions=s,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=u,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Me,this._afterOpenedAtThisLevel=new Me,this._idPrefix="mat-dialog-",this.dialogConfigClass=Rv,this.afterAllClosed=kg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ng(void 0))),this._scrollStrategy=l,this._dialog=r.get(QW)}open(i,r){let s;(r={...this._defaultOptions||new Rv,...r}).id=r.id||`${this._idPrefix}${XCe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(i,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Mv,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(a,l,c)=>(s=new this._dialogRefConstructor(a,r,c),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:s}])});return s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}}return(t=e).\u0275fac=function(i){$m()},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})(),Nv=(()=>{var t;class e extends ZCe{constructor(i,r,s,o,a,l,c,u){super(i,r,o,l,c,a,kv,WCe,qCe,u),this._idPrefix="mat-mdc-dialog-"}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mu),C(Rt),C(Kd,8),C(KCe,8),C(bq),C(t,12),C(Dv),C(Dr,8))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})(),JCe=0,eIe=(()=>{var t;class e{constructor(i,r,s){this.dialogRef=i,this._elementRef=r,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=wq(this._elementRef,this._dialog.openDialogs))}ngOnChanges(i){const r=i._matDialogClose||i._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(i){vq(this.dialogRef,0===i.screenX&&0===i.screenY?"keyboard":"mouse",this.dialogResult)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(kv,8),b(Ne),b(Nv))},t.\u0275dir=B({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&xt("click",function(o){return r._onButtonClick(o)}),2&i&&Kt("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Nn]}),e})(),tIe=(()=>{var t;class e{constructor(i,r,s){this._dialogRef=i,this._elementRef=r,this._dialog=s,this.id="mat-mdc-dialog-title-"+JCe++}ngOnInit(){this._dialogRef||(this._dialogRef=wq(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const i=this._dialogRef._containerInstance;i&&!i._ariaLabelledBy&&(i._ariaLabelledBy=this.id)})}}return(t=e).\u0275fac=function(i){return new(i||t)(b(kv,8),b(Ne),b(Nv))},t.\u0275dir=B({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&_c("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),e})(),nIe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),e})(),iIe=(()=>{var t;class e{constructor(){this.align="start"}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,r){2&i&&ht("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}}),e})();function wq(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?e.find(i=>i.id===n.id):null}let rIe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[Nv,QCe],imports:[TCe,AW,xv,vi,vi]}),e})();const sIe=["mat-button",""],Cq=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Iq=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],oIe=["mat-fab",""],xq={capture:!0},Dq=["focus","click","mouseenter","touchstart"],Xf="mat-button-ripple-uninitialized";let aIe=(()=>{var t;class e{constructor(){this._document=V(de,{optional:!0}),this._animationMode=V(Dr,{optional:!0}),this._globalRippleOptions=V(oq,{optional:!0}),this._platform=V(Mn),this._ngZone=V(q),this._onInteraction=i=>{if(i.target===this._document)return;const s=i.target.closest(`[${Xf}]`);s&&(s.removeAttribute(Xf),this._appendRipple(s))},this._ngZone.runOutsideAngular(()=>{for(const i of Dq)this._document?.addEventListener(i,this._onInteraction,xq)})}ngOnDestroy(){for(const i of Dq)this._document?.removeEventListener(i,this._onInteraction,xq)}_appendRipple(i){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const s=new lIe(i,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);s.rippleConfig.centered=i.hasAttribute("mat-icon-button"),new ku(s,this._ngZone,r,this._platform).setupTriggerEvents(i),i.append(r)}_createMatRipple(i){if(!this._document)return;i.querySelector(".mat-mdc-button-ripple")?.remove(),i.removeAttribute(Xf);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const s=new BCe(new Ne(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,i.append(r),s}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class lIe{constructor(e,n,i){this._button=e,this._globalRippleOptions=n,this._setRippleConfig(n,i)}_setRippleConfig(e,n){this.rippleConfig=e||{},"NoopAnimations"===n&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const cIe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],uIe=eq(MCe(RCe(class{constructor(t){this._elementRef=t}})));let Tq=(()=>{var t;class e extends uIe{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(i){this._ripple=i}constructor(i,r,s,o){super(i),this._platform=r,this._ngZone=s,this._animationMode=o,this._focusMonitor=V(Av),this._rippleLoader=V(aIe),this._isFab=!1;const a=i.nativeElement.classList;for(const l of cIe)this._hasHostAttributes(l.selector)&&l.mdcClasses.forEach(c=>{a.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...i){return i.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return(t=e).\u0275fac=function(i){$m()},t.\u0275dir=B({type:t,features:[me,Nn]}),e})(),hIe=(()=>{var t;class e extends Tq{constructor(i,r,s,o){super(i,r,s,o)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(Mn),b(q),b(Dr,8))},t.\u0275cmp=Vt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(i,r){2&i&&(Kt("disabled",r.disabled||null),ht("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[me],attrs:sIe,ngContentSelectors:Iq,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(gs(Cq),yt(0,"span",0),ot(1),oe(2,"span",1),ot(3,1),ge(),ot(4,2),yt(5,"span",2)(6,"span",3)),2&i&&ht("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})();const fIe=new S("mat-mdc-fab-default-options",{providedIn:"root",factory:Sq});function Sq(){return{color:"accent"}}const Aq=Sq();let pIe=(()=>{var t;class e extends Tq{get extended(){return this._extended}set extended(i){this._extended=js(i)}constructor(i,r,s,o,a){super(i,r,s,o),this._options=a,this._isFab=!0,this._options=this._options||Aq,this.color=this.defaultColor=this._options.color||Aq.color}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(Mn),b(q),b(Dr,8),b(fIe,8))},t.\u0275cmp=Vt({type:t,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(i,r){2&i&&(Kt("disabled",r.disabled||null),ht("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[me],attrs:oIe,ngContentSelectors:Iq,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(gs(Cq),yt(0,"span",0),ot(1),oe(2,"span",1),ot(3,1),ge(),ot(4,2),yt(5,"span",2)(6,"span",3)),2&i&&ht("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),e})(),mIe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[vi,UCe,vi]}),e})();const gIe=["matFormFieldNotchedOutline",""],_Ie=["*"],yIe=["textField"],vIe=["iconPrefixContainer"],bIe=["textPrefixContainer"];function wIe(t,e){1&t&&yt(0,"span",19)}function EIe(t,e){if(1&t){const n=cE();oe(0,"label",17),xt("cdkObserveContent",function(){return Aw(n),Mw(fi(2)._refreshOutlineNotchWidth())}),ot(1,1),st(2,wIe,1,0,"span",18),ge()}if(2&t){const n=fi(2);Ee("floating",n._shouldLabelFloat())("cdkObserveContentDisabled",!n._hasOutline())("id",n._labelId),Kt("for",n._control.id)("aria-owns",n._control.id),Fe(2),Ee("ngIf",!n.hideRequiredMarker&&n._control.required)}}function CIe(t,e){1&t&&st(0,EIe,3,6,"label",16),2&t&&Ee("ngIf",fi()._hasFloatingLabel())}function IIe(t,e){1&t&&yt(0,"div",20)}function xIe(t,e){}function DIe(t,e){1&t&&st(0,xIe,0,0,"ng-template",22),2&t&&(fi(2),Ee("ngTemplateOutlet",sE(1)))}function TIe(t,e){if(1&t&&(oe(0,"div",21),st(1,DIe,1,1,"ng-template",9),ge()),2&t){const n=fi();Ee("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",n._labelWidth),Fe(1),Ee("ngIf",!n._forceDisplayInfixLabel())}}function SIe(t,e){1&t&&(oe(0,"div",23,24),ot(2,2),ge())}function AIe(t,e){1&t&&(oe(0,"div",25,26),ot(2,3),ge())}function MIe(t,e){}function RIe(t,e){1&t&&st(0,MIe,0,0,"ng-template",22),2&t&&(fi(),Ee("ngTemplateOutlet",sE(1)))}function kIe(t,e){1&t&&(oe(0,"div",27),ot(1,4),ge())}function NIe(t,e){1&t&&(oe(0,"div",28),ot(1,5),ge())}function OIe(t,e){1&t&&yt(0,"div",29)}function PIe(t,e){1&t&&(oe(0,"div",30),ot(1,6),ge()),2&t&&Ee("@transitionMessages",fi()._subscriptAnimationState)}function FIe(t,e){if(1&t&&(oe(0,"mat-hint",34),zi(1),ge()),2&t){const n=fi(2);Ee("id",n._hintLabelId),Fe(1),pE(n.hintLabel)}}function LIe(t,e){if(1&t&&(oe(0,"div",31),st(1,FIe,2,2,"mat-hint",32),ot(2,7),yt(3,"div",33),ot(4,8),ge()),2&t){const n=fi();Ee("@transitionMessages",n._subscriptAnimationState),Fe(1),Ee("ngIf",n.hintLabel)}}const VIe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BIe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let CR=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["mat-label"]]}),e})();const UIe=new S("MatError");let jIe=0,Mq=(()=>{var t;class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+jIe++}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(_c("id",r.id),Kt("align",null),ht("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),e})();const $Ie=new S("MatPrefix"),zIe=new S("MatSuffix");let Rq=(()=>{var t;class e{constructor(i){this._elementRef=i,this.floating=!1}getWidth(){return function HIe(t){if(null!==t.offsetParent)return t.scrollWidth;const n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);const i=n.scrollWidth;return n.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne))},t.\u0275dir=B({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&ht("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),e})();const kq="mdc-line-ripple--active",Ov="mdc-line-ripple--deactivating";let Nq=(()=>{var t;class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=s=>{const o=this._elementRef.nativeElement.classList,a=o.contains(Ov);"opacity"===s.propertyName&&a&&o.remove(kq,Ov)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const i=this._elementRef.nativeElement.classList;i.remove(Ov),i.add(kq)}deactivate(){this._elementRef.nativeElement.classList.add(Ov)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(q))},t.\u0275dir=B({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),Oq=(()=>{var t;class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(q))},t.\u0275cmp=Vt({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&ht("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:gIe,ngContentSelectors:_Ie,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(gs(),yt(0,"div",0),oe(1,"div",1),ot(2),ge(),yt(3,"div",2)),2&i&&(Fe(1),eg("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),e})();const GIe={transitionMessages:lq("transitionMessages",[vR("enter",Bo({opacity:1,transform:"translateY(0%)"})),bR("void => enter",[Bo({opacity:0,transform:"translateY(-5px)"}),yR("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Pq=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t}),e})();const Fq=new S("MatFormField"),WIe=new S("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Lq=0,YIe=(()=>{var t;class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=js(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){const r=this._appearance;this._appearance=i||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,s,o,a,l,c,u){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=s,this._dir=o,this._platform=a,this._defaults=l,this._animationMode=c,this._document=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Lq++,this._hintLabelId="mat-mdc-hint-"+Lq++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Me,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(Au(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),$p(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Au(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Au(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){const r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,s=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),s&&i.push(s.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const i=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(i.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,o=r?.getBoundingClientRect().width??0,a=s?.getBoundingClientRect().width??0;i.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const i=this._elementRef.nativeElement;if(i.getRootNode){const r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(Wd),b(q),b(Iv),b(Mn),b(WIe,8),b(Dr,8),b(de))},t.\u0275cmp=Vt({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(_s(s,CR,5),_s(s,CR,7),_s(s,Pq,5),_s(s,$Ie,5),_s(s,zIe,5),_s(s,UIe,5),_s(s,Mq,5)),2&i){let o;Fn(o=Ln())&&(r._labelChildNonStatic=o.first),Fn(o=Ln())&&(r._labelChildStatic=o.first),Fn(o=Ln())&&(r._formFieldControl=o.first),Fn(o=Ln())&&(r._prefixChildren=o),Fn(o=Ln())&&(r._suffixChildren=o),Fn(o=Ln())&&(r._errorChildren=o),Fn(o=Ln())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(so(yIe,5),so(vIe,5),so(bIe,5),so(Rq,5),so(Oq,5),so(Nq,5)),2&i){let s;Fn(s=Ln())&&(r._textField=s.first),Fn(s=Ln())&&(r._iconPrefixContainer=s.first),Fn(s=Ln())&&(r._textPrefixContainer=s.first),Fn(s=Ln())&&(r._floatingLabel=s.first),Fn(s=Ln())&&(r._notchedOutline=s.first),Fn(s=Ln())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&ht("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ze([{provide:Fq,useExisting:t}])],ngContentSelectors:BIe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(gs(VIe),st(0,CIe,1,1,"ng-template",null,0,CV),oe(2,"div",1,2),xt("click",function(o){return r._control.onContainerClick(o)}),st(4,IIe,1,0,"div",3),oe(5,"div",4),st(6,TIe,2,3,"div",5),st(7,SIe,3,0,"div",6),st(8,AIe,3,0,"div",7),oe(9,"div",8),st(10,RIe,1,1,"ng-template",9),ot(11),ge(),st(12,kIe,2,0,"div",10),st(13,NIe,2,0,"div",11),ge(),st(14,OIe,1,0,"div",12),ge(),oe(15,"div",13),st(16,PIe,2,1,"div",14),st(17,LIe,5,2,"div",15),ge()),2&i&&(Fe(2),ht("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Fe(2),Ee("ngIf",!r._hasOutline()&&!r._control.disabled),Fe(2),Ee("ngIf",r._hasOutline()),Fe(1),Ee("ngIf",r._hasIconPrefix),Fe(1),Ee("ngIf",r._hasTextPrefix),Fe(2),Ee("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),Fe(2),Ee("ngIf",r._hasTextSuffix),Fe(1),Ee("ngIf",r._hasIconSuffix),Fe(1),Ee("ngIf",!r._hasOutline()),Fe(1),ht("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Ee("ngSwitch",r._getDisplayedMessages()),Fe(1),Ee("ngSwitchCase","error"),Fe(1),Ee("ngSwitchCase","hint"))},dependencies:[mC,GB,xg,$B,XEe,Mq,Rq,Oq,Nq],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[GIe.transitionMessages]},changeDetection:0}),e})(),IR=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[vi,vC,PW,vi]}),e})();function Uq(...t){const e=QN(t),{args:n,keys:i}=yU(t),r=new We(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Yn(n[u]).subscribe(mt(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?vU(i,a):a),s.complete())}))}});return e?r.pipe(kC(e)):r}let jq=(()=>{var t;class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(fs),b(Ne))},t.\u0275dir=B({type:t}),e})(),hl=(()=>{var t;class e extends jq{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=vn(t)))(r||t)}}(),t.\u0275dir=B({type:t,features:[me]}),e})();const Yr=new S("NgValueAccessor"),XIe={provide:Yr,useExisting:Ye(()=>Pv),multi:!0},JIe=new S("CompositionEventMode");let Pv=(()=>{var t;class e extends jq{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZIe(){const t=lo()?lo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(fs),b(Ne),b(JIe,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&xt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ze([XIe]),me]}),e})();function Uo(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function zq(t){return null!=t&&"number"==typeof t.length}const Gn=new S("NgValidators"),jo=new S("NgAsyncValidators"),exe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class txe{static min(e){return function Hq(t){return e=>{if(Uo(e.value)||Uo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function Gq(t){return e=>{if(Uo(e.value)||Uo(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function Wq(t){return Uo(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function qq(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function Kq(t){return Uo(t.value)||exe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function Yq(t){return e=>Uo(e.value)||!zq(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Qq(t){return e=>zq(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Xq(t){if(!t)return Fv;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Uo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return i6(e)}static composeAsync(e){return r6(e)}}function Fv(t){return null}function Zq(t){return null!=t}function Jq(t){return Pd(t)?nn(t):t}function e6(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function t6(t,e){return e.map(n=>n(t))}function n6(t){return t.map(e=>function nxe(t){return!t.validate}(e)?e:n=>e.validate(n))}function i6(t){if(!t)return null;const e=t.filter(Zq);return 0==e.length?null:function(n){return e6(t6(n,e))}}function xR(t){return null!=t?i6(n6(t)):null}function r6(t){if(!t)return null;const e=t.filter(Zq);return 0==e.length?null:function(n){return Uq(t6(n,e).map(Jq)).pipe(ue(e6))}}function DR(t){return null!=t?r6(n6(t)):null}function s6(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function o6(t){return t._rawValidators}function a6(t){return t._rawAsyncValidators}function TR(t){return t?Array.isArray(t)?t:[t]:[]}function Lv(t,e){return Array.isArray(t)?t.includes(e):t===e}function l6(t,e){const n=TR(e);return TR(t).forEach(r=>{Lv(n,r)||n.push(r)}),n}function c6(t,e){return TR(e).filter(n=>!Lv(t,n))}class u6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ri extends u6{get formDirective(){return null}get path(){return null}}class Hs extends u6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class d6{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let h6=(()=>{var t;class e extends d6{constructor(i){super(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Hs,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ht("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[me]}),e})();const Zf="VALID",Bv="INVALID",Nu="PENDING",Jf="DISABLED";function MR(t){return(Uv(t)?t.validators:t)||null}function RR(t,e){return(Uv(e)?e.asyncValidators:t)||null}function Uv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class g6{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zf}get invalid(){return this.status===Bv}get pending(){return this.status==Nu}get disabled(){return this.status===Jf}get enabled(){return this.status!==Jf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(l6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(l6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(c6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(c6(e,this._rawAsyncValidators))}hasValidator(e){return Lv(this._rawValidators,e)}hasAsyncValidator(e){return Lv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jf,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zf,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zf||this.status===Nu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jf:Zf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nu,this._hasOwnPendingAsyncValidator=!0;const n=Jq(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Jf:this.errors?Bv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nu)?Nu:this._anyControlsHaveStatus(Bv)?Bv:Zf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Uv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function axe(t){return Array.isArray(t)?xR(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lxe(t){return Array.isArray(t)?DR(t):t||null}(this._rawAsyncValidators)}}class kR extends g6{constructor(e,n,i){super(MR(n),RR(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function m6(t,e,n){t._forEachChild((i,r)=>{if(void 0===n[r])throw new I(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function p6(t,e,n){const i=t.controls;if(!(e?Object.keys(i):i).length)throw new I(1e3,"");if(!i[n])throw new I(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Ou=new S("CallSetDisabledState",{providedIn:"root",factory:()=>jv}),jv="always";function ep(t,e,n=jv){NR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function dxe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_6(t,e)})}(t,e),function fxe(t,e){const n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function hxe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_6(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function uxe(t,e){if(e.valueAccessor.setDisabledState){const n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function zv(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Gv(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Hv(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function NR(t,e){const n=o6(t);null!==e.validator?t.setValidators(s6(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=a6(t);null!==e.asyncValidator?t.setAsyncValidators(s6(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();Hv(e._rawValidators,r),Hv(e._rawAsyncValidators,r)}function Gv(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=o6(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const r=a6(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}const i=()=>{};return Hv(e._rawValidators,i),Hv(e._rawAsyncValidators,i),n}function _6(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y6(t,e){NR(t,e)}function v6(t,e){t._syncPendingControls(),e.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const yxe={provide:ri,useExisting:Ye(()=>Wv)},tp=(()=>Promise.resolve())();let Wv=(()=>{var t;class e extends ri{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Je,this.form=new kR({},xR(i),DR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){tp.then(()=>{const r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),ep(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){tp.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){tp.then(()=>{const r=this._findContainer(i.path),s=new kR({});y6(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){tp.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){tp.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,v6(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Gn,10),b(jo,10),b(Ou,8))},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&xt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([yxe]),me]}),e})();function b6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function w6(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const E6=class extends g6{constructor(e=null,n,i){super(MR(n),RR(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=w6(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){b6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){b6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){w6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},wxe={provide:Hs,useExisting:Ye(()=>LR)},x6=(()=>Promise.resolve())();let LR=(()=>{var t;class e extends Hs{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new E6,this._registered=!1,this.name="",this.update=new Je,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function FR(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Pv?n=s:function gxe(t){return Object.getPrototypeOf(t.constructor)===hl}(s)?i=s:r=s}),r||i||n||null}(0,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function PR(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ep(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){x6.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const r=i.isDisabled.currentValue,s=0!==r&&function Cc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);x6.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function $v(t,e){return[...e.path,t]}(i,this._parent):[i]}}return(t=e).\u0275fac=function(i){return new(i||t)(b(ri,9),b(Gn,10),b(jo,10),b(Yr,10),b(Wd,8),b(Ou,8))},t.\u0275dir=B({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ze([wxe]),me,Nn]}),e})(),T6=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({}),e})();const Sxe={provide:ri,useExisting:Ye(()=>qv)};let qv=(()=>{var t;class e extends ri{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const r=this.form.get(i.path);return ep(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){zv(i.control||null,i,!1),function _xe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,v6(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const r=i.control,s=this.form.get(i.path);r!==s&&(zv(r||null,i),(t=>t instanceof E6)(s)&&(ep(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const r=this.form.get(i.path);y6(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const r=this.form.get(i.path);r&&function pxe(t,e){return Gv(t,e)}(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NR(this.form,this),this._oldForm&&Gv(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Gn,10),b(jo,10),b(Ou,8))},t.\u0275dir=B({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&xt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ze([Sxe]),me,Nn]}),e})(),Wxe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[T6]}),e})(),Kxe=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ou,useValue:i.callSetDisabledState??jv}]}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[Wxe]}),e})();const G6=Wf({passive:!0});let Yxe=(()=>{var t;class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return er;const r=$s(i),s=this._monitoredElements.get(r);if(s)return s.subject;const o=new Me,a="cdk-text-field-autofilled",l=c=>{"cdk-text-field-autofill-start"!==c.animationName||r.classList.contains(a)?"cdk-text-field-autofill-end"===c.animationName&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(r.classList.add(a),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,G6),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",l,G6)}}),o}stopMonitoring(i){const r=$s(i),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}}return(t=e).\u0275fac=function(i){return new(i||t)(C(Mn),C(q))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Qxe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({}),e})();const Xxe=new S("MAT_INPUT_VALUE_ACCESSOR"),Zxe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Jxe=0;const eDe=kCe(class{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i,this.stateChanges=new Me}});let tDe=(()=>{var t;class e extends eDe{get disabled(){return this._disabled}set disabled(i){this._disabled=js(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(txe.required)??!1}set required(i){this._required=js(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&mW().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=js(i)}constructor(i,r,s,o,a,l,c,u,d,h){super(l,o,a,s),this._elementRef=i,this._platform=r,this._autofillMonitor=u,this._formField=h,this._uid="mat-input-"+Jxe++,this.focused=!1,this.stateChanges=new Me,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>mW().has(m)),this._iOSKeyupListener=m=>{const g=m.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))};const f=this._elementRef.nativeElement,p=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&d.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){const i=this._getPlaceholder();if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Zxe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(Mn),b(Hs,10),b(Wv,8),b(qv,8),b(OCe),b(Xxe,10),b(Yxe),b(q),b(Fq,8))},t.\u0275dir=B({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&xt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(_c("id",r.id)("disabled",r.disabled)("required",r.required),Kt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),ht("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ze([{provide:Pq,useExisting:t}]),me,Nn]}),e})(),nDe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[vi,IR,IR,Qxe,vi]}),e})(),iDe=(()=>{var t;class e{constructor(i){this.dialogRef=i,this.name=""}ngOnInit(){}onNoClick(){this.dialogRef.close()}}return(t=e).\u0275fac=function(i){return new(i||t)(b(kv))},t.\u0275cmp=Vt({type:t,selectors:[["app-dialog-add-player"]],decls:14,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"disabled","mat-dialog-close"]],template:function(i,r){1&i&&(oe(0,"h1",0),zi(1,"Add new player"),ge(),oe(2,"div",1)(3,"p"),zi(4,"Please enter the name of the player"),ge(),oe(5,"mat-form-field")(6,"mat-label"),zi(7,"Name"),ge(),oe(8,"input",2),xt("ngModelChange",function(o){return r.name=o}),ge()()(),oe(9,"div",3)(10,"button",4),xt("click",function(){return r.onNoClick()}),zi(11,"No Thanks"),ge(),oe(12,"button",5),zi(13," Ok "),ge()()),2&i&&(Fe(8),Ee("ngModel",r.name),Fe(4),Ee("disabled",0==r.name.length)("mat-dialog-close",r.name))},dependencies:[hIe,eIe,tIe,nIe,iIe,YIe,CR,Pv,h6,LR,tDe]}),e})();const W6_firebase={apiKey:"AIzaSyA3B4cDOaFaw53wji-lY4tMtrmG0IoFufs",authDomain:"ringof-4e427.firebaseapp.com",databaseURL:"https://ringof-4e427-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ringof-4e427",storageBucket:"ringof-4e427.appspot.com",messagingSenderId:"384138021403",appId:"1:384138021403:web:1cfe4fb4c8117ea30306be"};class zR{}class Gs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=n.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(n,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Gs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Gs;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Gs?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);const r=("a"===e.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class rDe{encodeKey(e){return K6(e)}encodeValue(e){return K6(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const oDe=/%(\d[a-f0-9])/gi,aDe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function K6(t){return encodeURIComponent(t).replace(oDe,(e,n)=>aDe[n]??e)}function Kv(t){return`${t}`}class $o{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rDe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sDe(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const i=e.fromObject[n],r=Array.isArray(i)?i.map(Kv):[Kv(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new $o({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Kv(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Kv(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lDe{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Y6(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Q6(t){return typeof Blob<"u"&&t instanceof Blob}function X6(t){return typeof FormData<"u"&&t instanceof FormData}class np{constructor(e,n,i,r){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cDe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Gs),this.context||(this.context=new lDe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new $o,this.urlWithParams=n}serializeBody(){return null===this.body?null:Y6(this.body)||Q6(this.body)||X6(this.body)||function uDe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $o?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X6(this.body)?null:Q6(this.body)?this.body.type||null:Y6(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $o?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new np(n,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var HR=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(HR||{});class dDe{constructor(e,n=200,i="OK"){this.headers=e.headers||new Gs,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ip extends dDe{constructor(e={}){super(e),this.type=HR.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ip({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function GR(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let WR=(()=>{var t;class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof np)o=i;else{let c,u;c=s.headers instanceof Gs?s.headers:new Gs(s.headers),s.params&&(u=s.params instanceof $o?s.params:new $o({fromObject:s.params})),o=new np(i,r,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=W(o).pipe(Dc(c=>this.handler.handle(c)));if(i instanceof np||"events"===s.observe)return a;const l=a.pipe(Vn(c=>c instanceof ip));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ue(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ue(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ue(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(ue(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:(new $o).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,GR(s,r))}post(i,r,s={}){return this.request("POST",i,GR(s,r))}put(i,r,s={}){return this.request("PUT",i,GR(s,r))}}return(t=e).\u0275fac=function(i){return new(i||t)(C(zR))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();const MDe=["*"];let Xv;function rp(t){return function RDe(){if(void 0===Xv&&(Xv=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Xv=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Xv}()?.createHTML(t)||t}function s8(t){return Error(`Unable to find icon with the name "${t}"`)}function o8(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function a8(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class ml{constructor(e,n,i){this.url=e,this.svgText=n,this.options=i}}let Zv=(()=>{var t;class e{constructor(i,r,s,o){this._httpClient=i,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(i,r,s){return this.addSvgIconInNamespace("",i,r,s)}addSvgIconLiteral(i,r,s){return this.addSvgIconLiteralInNamespace("",i,r,s)}addSvgIconInNamespace(i,r,s,o){return this._addSvgIconConfig(i,r,new ml(s,null,o))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,s,o){const a=this._sanitizer.sanitize(bn.HTML,s);if(!a)throw a8(s);const l=rp(a);return this._addSvgIconConfig(i,r,new ml("",l,o))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,s){return this._addSvgIconSetConfig(i,new ml(r,null,s))}addSvgIconSetLiteralInNamespace(i,r,s){const o=this._sanitizer.sanitize(bn.HTML,r);if(!o)throw a8(r);const a=rp(o);return this._addSvgIconSetConfig(i,new ml("",a,s))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const r=this._sanitizer.sanitize(bn.RESOURCE_URL,i);if(!r)throw o8(i);const s=this._cachedIconsByUrl.get(r);return s?W(Jv(s)):this._loadSvgIconFromConfig(new ml(i,null)).pipe(Qt(o=>this._cachedIconsByUrl.set(r,o)),ue(o=>Jv(o)))}getNamedSvgIcon(i,r=""){const s=l8(r,i);let o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,i),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(i,a):xc(s8(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?W(Jv(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(ue(r=>Jv(r)))}_getSvgFromIconSetConfigs(i,r){const s=this._extractIconWithNameFromAnySet(i,r);return s?W(s):Uq(r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(uo(l=>{const u=`Loading icon set URL: ${this._sanitizer.sanitize(bn.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(u)),W(null)})))).pipe(ue(()=>{const a=this._extractIconWithNameFromAnySet(i,r);if(!a)throw s8(i);return a}))}_extractIconWithNameFromAnySet(i,r){for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.svgText&&o.svgText.toString().indexOf(i)>-1){const a=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(a,i,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Qt(r=>i.svgText=r),ue(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?W(null):this._fetchIcon(i).pipe(Qt(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,s){const o=i.querySelector(`[id="${r}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,s);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),s);const l=this._svgElementFromString(rp("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,s)}_svgElementFromString(i){const r=this._document.createElement("DIV");r.innerHTML=i;const s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){const r=this._svgElementFromString(rp("<svg></svg>")),s=i.attributes;for(let o=0;o<s.length;o++){const{name:a,value:l}=s[o];"id"!==a&&r.setAttribute(a,l)}for(let o=0;o<i.childNodes.length;o++)i.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){const{url:r,options:s}=i,o=s?.withCredentials??!1;if(!this._httpClient)throw function kDe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(bn.RESOURCE_URL,r);if(!a)throw o8(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ue(u=>rp(u)),Pg(()=>this._inProgressUrlFetches.delete(a)),lw());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(i,r,s){return this._svgIconConfigs.set(l8(i,r),s),this}_addSvgIconSetConfig(i,r){const s=this._iconSetConfigs.get(i);return s?s.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){const r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let s=0;s<this._resolvers.length;s++){const o=this._resolvers[s](r,i);if(o)return ODe(o)?new ml(o.url,null,o.options):new ml(o,null)}}}return(t=e).\u0275fac=function(i){return new(i||t)(C(WR,8),C(RC),C(de,8),C(Tr))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Jv(t){return t.cloneNode(!0)}function l8(t,e){return t+":"+e}function ODe(t){return!(!t.url||!t.options)}const PDe=eq(class{constructor(t){this._elementRef=t}}),FDe=new S("MAT_ICON_DEFAULT_OPTIONS"),LDe=new S("mat-icon-location",{providedIn:"root",factory:function VDe(){const t=V(de),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),c8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BDe=c8.map(t=>`[${t}]`).join(", "),UDe=/^url\(['"]?#(.*?)['"]?\)$/;let jDe=(()=>{var t;class e extends PDe{get inline(){return this._inline}set inline(i){this._inline=js(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,s,o,a,l){super(i),this._iconRegistry=r,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=gn.EMPTY,l&&(l.color&&(this.color=this.defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),s||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];const r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const s=i.childNodes[r];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const r=this._elementsWithExternalReferences;r&&r.forEach((s,o)=>{s.forEach(a=>{o.setAttribute(a.name,`url('${i}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(i){const r=i.querySelectorAll(BDe),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)c8.forEach(a=>{const l=r[o],c=l.getAttribute(a),u=c?c.match(UDe):null;if(u){let d=s.get(l);d||(d=[],s.set(l,d)),d.push({name:a,value:u[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[r,s]=this._splitIconName(i);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(Ai(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${s}! ${o.message}`))})}}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ne),b(Zv),function cd(t){return function vQ(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const s=n[r];if(uO(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(s===e)return n[r+1];r+=2}}}return null}(yn(),t)}("aria-hidden"),b(LDe),b(Tr),b(FDe,8))},t.\u0275cmp=Vt({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Kt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),ht("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[me],ngContentSelectors:MDe,decls:1,vars:0,template:function(i,r){1&i&&(gs(),ot(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),$De=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[vi,vi]}),e})(),zDe=(()=>{var t;class e{constructor(){this.playerActive=!1}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Vt({type:t,selectors:[["app-player"]],inputs:{name:"name",playerActive:"playerActive"},decls:4,vars:3,consts:[[1,"playerbox"],["src","./assets/user.png"]],template:function(i,r){1&i&&(oe(0,"div",0),yt(1,"img",1),oe(2,"span"),zi(3),ge()()),2&i&&(ht("player-active",r.playerActive),Fe(3),ma(" ",r.name,""))},styles:[".playerbox[_ngcontent-%COMP%]{width:300px;height:70px;display:flex;align-items:center;background-color:#463f3fb3;border-top-left-radius:50px;border-bottom-left-radius:50px}.playerbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;margin-left:16px}.playerbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-left:8px;width:60px;height:60px;object-fit:cover;border-radius:100%}.player-active[_ngcontent-%COMP%]{position:relative;background-color:orange;z-index:5}"]}),e})();const HDe=["*"],YDe=new S("MAT_CARD_CONFIG");let u8=(()=>{var t;class e{constructor(i){this.appearance=i?.appearance||"raised"}}return(t=e).\u0275fac=function(i){return new(i||t)(b(YDe,8))},t.\u0275cmp=Vt({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&ht("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:HDe,decls:1,vars:0,template:function(i,r){1&i&&(gs(),ot(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),e})(),d8=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),e})(),h8=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=B({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),e})(),XDe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[vi,vC,vi]}),e})(),ZDe=(()=>{var t;class e{constructor(){this.cardAction=[{title:"Waterfall",description:"Everyone has to start drinking at the same time. As soon as player 1 stops drinking, player 2 may stop drinking. Player 3 may stop as soon as player 2 stops drinking, and so on."},{title:"You",description:"You decide who drinks"},{title:"Me",description:"Congrats! Drink a shot!"},{title:"Category",description:"Come up with a category (e.g. Colors). Each player must enumerate one item from the category."},{title:"Bust a jive",description:"Player 1 makes a dance move. Player 2 repeats the dance move and adds a second one. "},{title:"Chicks",description:"All girls drink."},{title:"Heaven",description:"Put your hands up! The last player drinks!"},{title:"Mate",description:"Pick a mate. Your mate must always drink when you drink and the other way around."},{title:"Thumbmaster",description:"5 min on one feet"},{title:"Men",description:"All men drink."},{title:"Quizmaster",description:"Ask a brutal question"},{title:"Never have i ever...",description:"Say something you nnever did. Everyone who did it has to drink."},{title:"Rule",description:"Make a rule. Everyone needs to drink when he breaks the rule."}],this.title="",this.description=""}ngOnInit(){}ngOnChanges(){if(this.card){console.log("Current card is:",this.card);let i=+this.card.split("_")[1];this.title=this.cardAction[i-1].title,this.description=this.cardAction[i-1].description}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Vt({type:t,selectors:[["app-game-info"]],inputs:{card:"card"},features:[Nn],decls:5,vars:6,consts:[[1,"mat"]],template:function(i,r){1&i&&(oe(0,"mat-card",0)(1,"mat-card-title"),zi(2),ge(),oe(3,"mat-card-content"),zi(4),ge()()),2&i&&(Fe(1),eg("padding","0 16px")("padding-top","8px"),Fe(1),ma(" ",r.card?r.title:"Please pick a card"," "),Fe(2),ma(" ",r.card?r.description:"Please click on the card stack to select the next card."," "))},dependencies:[u8,h8,d8],styles:["@media (width <= 960px){mat-card[_ngcontent-%COMP%]{min-height:115px}}"]}),e})(),JDe=(()=>{var t;class e{constructor(){this.playerActive=!1}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Vt({type:t,selectors:[["app-player-mobile"]],inputs:{name:"name",playerActive:"playerActive"},decls:4,vars:3,consts:[[1,"playerbox"],["src","./assets/user.png"]],template:function(i,r){1&i&&(oe(0,"div",0),yt(1,"img",1),oe(2,"span"),zi(3),ge()()),2&i&&(ht("player-active",r.playerActive),Fe(3),ma(" ",r.name,""))},styles:[".playerbox[_ngcontent-%COMP%]{width:300px;height:70px;align-items:center;background-color:#463f3fb3;border-top-left-radius:50px;border-bottom-left-radius:50px}.playerbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;width:100%;text-align:center}.playerbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-left:8px;width:50px;height:50px;object-fit:cover;border-radius:100%}.player-active[_ngcontent-%COMP%]{position:relative;background-color:orange;z-index:5}@media (width <= 720px){.playerbox[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-right-radius:100px;border-bottom-left-radius:100px;display:flex;flex-direction:column-reverse;width:100px;height:100px;justify-content:space-evenly}}"]}),e})();const eTe=function(t){return{"top.vh":t}};function tTe(t,e){if(1&t&&yt(0,"app-player",11),2&t){const n=e.$implicit,i=e.index,r=fi();Ee("ngStyle",og(3,eTe,8*(1+i)))("name",n)("playerActive",i==r.game.currentPlayer)}}const nTe=function(t){return{"left.vh":t,"padding-right.vw":2}};function iTe(t,e){if(1&t&&yt(0,"app-player-mobile",12),2&t){const n=e.$implicit,i=e.index,r=fi();Ee("ngStyle",og(3,nTe,2*(1+i)))("name",n)("playerActive",i==r.game.currentPlayer)}}const rTe=function(t){return{"right.px":t}};function sTe(t,e){1&t&&yt(0,"img",13),2&t&&Ee("ngStyle",og(1,rTe,4*e.index))}function oTe(t,e){1&t&&yt(0,"img",14),2&t&&Fd("src","assets/cards/",e.$implicit,".png",km)}function aTe(t,e){if(1&t){const n=cE();oe(0,"img",15),xt("click",function(){return Aw(n),Mw(fi().takeCard())}),ge()}2&t&&Fd("src","assets/cards/",fi().game.currentCard,".png",km)}const lTe=function(){return[0,1,2,3]},cTe=[{path:"",component:Q0e},{path:"game/:id",component:(()=>{var t;class e{constructor(i,r,s){this.route=i,this.dialog=r,this.firestore=s,this.app=yI(W6_firebase),this.db=LG(this.app),this.aCollection=tR(this.firestore,"games"),this.items$=W0e(this.aCollection),this.games=this.items$}ngOnInit(){var i=this;return _(function*(){i.newGame(),i.route.params.subscribe(function(){var r=_(function*(s){i.gameId=s.id;const o=uv(i.db,"games",i.gameId);iW(uv(i.db,"games",i.gameId),{includeMetadataChanges:!0},function(){var l=_(function*(c){const d=yield function _0e(t){t=Ce(t,Lt);const e=Ce(t.firestore,dt);return function SG(t,e,n={}){const i=new Zt;return t.asyncQueue.enqueueAndForget(_(function*(){return function(r,s,o,a,l){const c=new sv({next:d=>{s.enqueueAndForget(()=>n1(r,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new T(E.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new T(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new o1(iu(o.path),c,{includeMetadataChanges:!0,Ku:!0});return e1(r,u)}(yield Eu(t),t.asyncQueue,e,n,i)})),i.promise}(zt(e),t._key).then(n=>Q1(e,t,n))}(o);d.exists()&&(i.game.currentPlayer=d.data().currentPlayer,i.game.playedCards=d.data().playedCards,i.game.players=d.data().players,i.game.stack=d.data().stack,i.game.pickCardAnimation=d.data().pickCardAnimation,i.game.currentCard=d.data().currentCard)});return function(c){return l.apply(this,arguments)}}())});return function(s){return r.apply(this,arguments)}}())})()}newGame(){this.game=new uW}takeCard(){this.game.pickCardAnimation||(this.game.currentCard=this.game.stack.pop(),this.game.pickCardAnimation=!0,this.game.currentPlayer++,this.game.currentPlayer=this.game.currentPlayer%this.game.players.length,this.saveGame(),setTimeout(()=>{this.game.playedCards.push(this.game.currentCard),this.game.pickCardAnimation=!1,this.saveGame()},1e3))}openDialog(){this.dialog.open(iDe).afterClosed().subscribe(r=>{r&&r.length>0&&(this.game.players.push(r),this.saveGame())})}saveGame(){var i=this;return _(function*(){i.aCollection=tR(i.firestore,"games");const r=uv(i.db,"games",i.gameId);yield function y0e(t,e,n,...i){t=Ce(t,Lt);const r=Ce(t.firestore,dt),s=Iu(r);let o;return o="string"==typeof(e=Xt(e))||e instanceof Cu?function GG(t,e,n,i,r,s){const o=t.ya(1,e,n),a=[Uf(e,i,n)],l=[r];if(s.length%2!=0)throw new T(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Uf(e,s[h])),l.push(s[h+1]);const c=[],u=Sn.empty();for(let h=a.length-1;h>=0;--h)if(!YG(c,a[h])){const f=a[h];let p=l[h];p=Xt(p);const m=o.da(f);if(p instanceof Bf)c.push(f);else{const g=al(p,m);null!=g&&(c.push(f),u.set(f,g))}}const d=new _i(c);return new jG(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,i):function HG(t,e,n,i){const r=t.ya(1,e,n);W1("Data must be an object, but it was:",r,i);const s=[],o=Sn.empty();xo(i,(l,c)=>{const u=hv(e,l,n);c=Xt(c);const d=r.da(u);if(c instanceof Bf)s.push(u);else{const h=al(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new _i(s);return new jG(o,a,r.fieldTransforms)}(s,"updateDoc",t._key,e),$f(r,[o.toMutation(t._key,ft.exists(!0))])}(r,i.game.toJson())})()}}return(t=e).\u0275fac=function(i){return new(i||t)(b(Ca),b(Nv),b(zf))},t.\u0275cmp=Vt({type:t,selectors:[["app-game"]],decls:13,vars:9,consts:[["class","player-position hide-mobile",3,"ngStyle","name","playerActive",4,"ngFor","ngForOf"],[1,"player-mobile-view","hide-desktop"],[3,"ngStyle","name","playerActive",4,"ngFor","ngForOf"],[1,"field"],[1,"card-stack"],["src","./assets/cards/card_cover.png",3,"ngStyle",4,"ngFor","ngForOf"],["src","./assets/cards/card_cover.png",2,"right","20px",3,"click"],["class","played-card",3,"src",4,"ngFor","ngForOf"],["class","pick-card","style","right: 20px",3,"src","click",4,"ngIf"],[1,"pin-bottom",3,"card"],["mat-fab","","color","primary",1,"btn-add",3,"click"],[1,"player-position","hide-mobile",3,"ngStyle","name","playerActive"],[3,"ngStyle","name","playerActive"],["src","./assets/cards/card_cover.png",3,"ngStyle"],[1,"played-card",3,"src"],[1,"pick-card",2,"right","20px",3,"src","click"]],template:function(i,r){1&i&&(st(0,tTe,1,5,"app-player",0),oe(1,"div",1),st(2,iTe,1,5,"app-player-mobile",2),ge(),oe(3,"div",3)(4,"div",4),st(5,sTe,1,3,"img",5),oe(6,"img",6),xt("click",function(){return r.takeCard()}),ge(),st(7,oTe,1,1,"img",7),st(8,aTe,1,1,"img",8),ge()(),yt(9,"app-game-info",9),oe(10,"button",10),xt("click",function(){return r.openDialog()}),oe(11,"mat-icon"),zi(12,"add"),ge()()),2&i&&(Ee("ngForOf",r.game.players),Fe(2),Ee("ngForOf",r.game.players),Fe(3),Ee("ngForOf",function rV(t,e,n){const i=Qn()+t,r=D();return r[i]===re?Ar(r,i,n?e.call(n):e()):function Rd(t,e){return t[e]}(r,i)}(8,lTe)),Fe(1),ht("top-card",!r.game.pickCardAnimation),Fe(1),Ee("ngForOf",r.game.playedCards),Fe(1),Ee("ngIf",r.game.pickCardAnimation),Fe(1),Ee("card",r.game.currentCard))},dependencies:[BB,mC,HB,pIe,jDe,zDe,ZDe,JDe],styles:[".field[_ngcontent-%COMP%]{width:100vw;height:100vh;max-width:100%;background-image:url(poker-table.750deb73adeb5471.jpg);display:flex;justify-content:center;align-items:center}.card-stack[_ngcontent-%COMP%]{position:relative}.card-stack[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:120px}@media (width < 720px){.card-stack[_ngcontent-%COMP%]{scale:.7}}.top-card[_ngcontent-%COMP%]{cursor:pointer;transition:all 125ms ease-in-out}.top-card[_ngcontent-%COMP%]:hover{transform:scale(1.1) translate(-10px)}.played-card[_ngcontent-%COMP%]{right:20px;transform:scale(1.3) translate(140px) translateY(-180px) rotate(12deg)}.pick-card[_ngcontent-%COMP%]{position:relative;z-index:10;cursor:pointer;animation:_ngcontent-%COMP%_pick-card-animation .83s ease-in-out!important;transform:scale(1.3) translate(140px) translateY(-180px) rotate(12deg)}@keyframes _ngcontent-%COMP%_pick-card-animation{0%{transform:scale(1)}30%{transform:scale(1.7)}60%{transform:scale(1.7)}to{transform:scale(1.3) translate(140px) translateY(-180px) rotate(12deg)}}.player-position[_ngcontent-%COMP%]{position:absolute;right:0}.btn-add[_ngcontent-%COMP%]{position:absolute;right:32px;bottom:32px}.pin-bottom[_ngcontent-%COMP%]{position:absolute;bottom:32px;left:140px;right:140px;border-radius:8px;background-color:#fff}@media (width <= 960px){.pin-bottom[_ngcontent-%COMP%]{right:0;left:0;bottom:0}}.mat-mdc-card-subtitle[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important}.mat[_ngcontent-%COMP%]{height:115px}mat-card[_ngcontent-%COMP%]{height:200px}@media (width <= 720px){.player-mobile-view[_ngcontent-%COMP%]{position:absolute;overflow-y:hidden;overflow-x:auto;top:0;left:0;right:0;height:12vh}}@media (width <= 960px){.btn-add[_ngcontent-%COMP%]{bottom:144px}}"]}),e})()}];let uTe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({imports:[Ej.forRoot(cTe),Ej]}),e})(),dTe=(()=>{var t;class e{constructor(){this.title="ringoffire"}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Vt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&yt(0,"router-outlet")},dependencies:[qC]}),e})();function f8(t){return new I(3e3,!1)}function zo(t){switch(t.length){case 0:return new Qf;case 1:return t[0];default:return new pq(t)}}function p8(t,e,n=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,r),m){case"!":m=n.get(f);break;case zs:m=i.get(f);break;default:m=t.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function OTe(t){return new I(3502,!1)}();return s}function KR(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&YR(n,"start",t)));break;case"done":t.onDone(()=>i(n&&YR(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&YR(n,"destroy",t)))}}function YR(t,e,n){const s=QR(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function QR(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Oi(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function m8(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const WTe=(()=>typeof document>"u"?null:document.documentElement)();function XR(t){const e=t.parentNode||t.host||null;return e===WTe?null:e}let gl=null,g8=!1;function _8(t,e){for(;e;){if(e===t)return!0;e=XR(e)}return!1}function y8(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const i=t.querySelector(e);return i?[i]:[]}let v8=(()=>{var t;class e{validateStyleProperty(i){return function KTe(t){gl||(gl=function YTe(){return typeof document<"u"?document.body:null}()||{},g8=!!gl.style&&"WebkitAppearance"in gl.style);let e=!0;return gl.style&&!function qTe(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in gl.style,!e&&g8&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in gl.style)),e}(i)}matchesElement(i,r){return!1}containsElement(i,r){return _8(i,r)}getParentElement(i){return XR(i)}query(i,r,s){return y8(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],c){return new Qf(s,o)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})(),ZR=(()=>{class e{}return e.NOOP=new v8,e})();const QTe=1e3,JR="ng-enter",eb="ng-leave",tb="ng-trigger",nb=".ng-trigger",w8="ng-animating",ek=".ng-animating";function Ws(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tk(parseFloat(e[1]),e[2])}function tk(t,e){return"s"===e?t*QTe:t}function ib(t,e,n){return t.hasOwnProperty("duration")?t:function ZTe(t,e,n){let r,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(f8()),{duration:0,delay:0,easing:""};r=tk(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=tk(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=t;if(!n){let a=!1,l=e.length;r<0&&(e.push(function hTe(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function fTe(){return new I(3101,!1)}()),a=!0),a&&e.splice(l,0,f8())}return{duration:r,delay:s,easing:o}}(t,e,n)}function sp(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function E8(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Ho(t,e=new Map,n){if(n)for(let[i,r]of n)e.set(i,r);for(let[i,r]of t)e.set(i,r);return e}function Qr(t,e,n){e.forEach((i,r)=>{const s=ik(r);n&&!n.has(r)&&n.set(r,t.style[s]),t.style[s]=i})}function _l(t,e){e.forEach((n,i)=>{const r=ik(i);t.style[r]=""})}function op(t){return Array.isArray(t)?1==t.length?t[0]:uq(t):t}const nk=new RegExp("{{\\s*(.+?)\\s*}}","g");function I8(t){let e=[];if("string"==typeof t){let n;for(;n=nk.exec(t);)e.push(n[1]);nk.lastIndex=0}return e}function ap(t,e,n){const i=t.toString(),r=i.replace(nk,(s,o)=>{let a=e[o];return null==a&&(n.push(function mTe(t){return new I(3003,!1)}()),a=""),a.toString()});return r==i?t:r}function rb(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const tSe=/-+([a-z0-9])/g;function ik(t){return t.replace(tSe,(...e)=>e[1].toUpperCase())}function Pi(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function gTe(t){return new I(3004,!1)}()}}function x8(t,e){return window.getComputedStyle(t)[e]}const sb="*";function rSe(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function sSe(t,e,n){if(":"==t[0]){const l=function oSe(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(function MTe(t){return new I(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof l)return void e.push(l);t=l}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function ATe(t){return new I(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(D8(r,o));"<"==s[0]&&!(r==sb&&o==sb)&&e.push(D8(o,r))}(i,n,e)):n.push(t),n}const ob=new Set(["true","1"]),ab=new Set(["false","0"]);function D8(t,e){const n=ob.has(t)||ab.has(t),i=ob.has(e)||ab.has(e);return(r,s)=>{let o=t==sb||t==r,a=e==sb||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?ob.has(t):ab.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?ob.has(e):ab.has(e)),o&&a}}const aSe=new RegExp("s*:selfs*,?","g");function rk(t,e,n,i){return new lSe(t).build(e,n,i)}class lSe{constructor(e){this._driver=e}build(e,n,i){const r=new dSe(n);return this._resetContextStyleTimingState(r),Pi(this,op(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function yTe(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,n);i+=l.queryCount,r+=l.depCount,o.push(l)}else n.errors.push(function vTe(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,n){const i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{I8(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(rb(s.values()),n.errors.push(function bTe(t,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const i=Pi(this,op(e.animation),n);return{type:1,matchers:rSe(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:yl(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(i=>Pi(this,i,n)),options:yl(e.options)}}visitGroup(e,n){const i=n.currentTime;let r=0;const s=e.steps.map(o=>{n.currentTime=i;const a=Pi(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:s,options:yl(e.options)}}visitAnimate(e,n){const i=function fSe(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return sk(ib(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=sk(0,0,"");return s.dynamic=!0,s.strValue=n,s}const r=ib(n,e);return sk(r.duration,r.delay,r.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;let r,s=e.styles?e.styles:Bo({});if(5==s.type)r=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Bo(c)}n.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,n);l.isEmptyStep=a,r=l}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,n){const i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===zs?i.push(a):n.errors.push(new I(3002,!1)):i.push(E8(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const i=n.currentAnimateTimings;let r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(n.errors.push(function ETe(t,e,n,i,r){return new I(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),n.options&&function eSe(t,e,n){const i=e.params||{},r=I8(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(function pTe(t){return new I(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function CTe(){return new I(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const y=this._makeStyleAst(v,n);let x=null!=y.offset?y.offset:function hSe(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(y.styles),R=0;return null!=x&&(s++,R=y.offset=x),l=l||R<0||R>1,a=a||R<c,c=R,o.push(R),y});l&&n.errors.push(function ITe(){return new I(3012,!1)}()),a&&n.errors.push(function xTe(){return new I(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function DTe(){return new I(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,m=n.currentAnimateTimings,g=m.duration;return u.forEach((v,y)=>{const x=h>0?y==f?1:h*y:o[y],R=x*g;n.currentTime=p+m.delay+R,m.duration=R,this._validateStyleAst(v,n),v.offset=x,i.styles.push(v)}),i}visitReference(e,n){return{type:8,animation:Pi(this,op(e.animation),n),options:yl(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:yl(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:yl(e.options)}}visitQuery(e,n){const i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function cSe(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(aSe,"")),t=t.replace(/@\*/g,nb).replace(/@\w+/g,n=>nb+"-"+n.slice(1)).replace(/:animating/g,ek),[t,e]}(e.selector);n.currentQuerySelector=i.length?i+" "+s:s,Oi(n.collectedStyles,n.currentQuerySelector,new Map);const a=Pi(this,op(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:yl(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function TTe(){return new I(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ib(e.timings,n.errors,!0);return{type:12,animation:Pi(this,op(e.animation),n),timings:i,options:null}}}class dSe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yl(t){return t?(t=sp(t)).params&&(t.params=function uSe(t){return t?sp(t):null}(t.params)):t={},t}function sk(t,e,n){return{duration:t,delay:e,easing:n}}function ok(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class lb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const gSe=new RegExp(":enter","g"),ySe=new RegExp(":leave","g");function ak(t,e,n,i,r,s=new Map,o=new Map,a,l,c=[]){return(new vSe).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class vSe{buildKeyframes(e,n,i,r,s,o,a,l,c,u=[]){c=c||new lb;const d=new lk(e,n,c,r,s,u,[]);d.options=l;const h=l.delay?Ws(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Pi(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===n){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[ok(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:Ws(ap(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,n,i){let s=n.currentTimeline.currentTime;const o=null!=i.duration?Ws(i.duration):null,a=null!=i.delay?Ws(i.delay):null;return 0!==o&&e.forEach(l=>{const c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Pi(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const i=n.subContextCount;let r=n;const s=e.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cb);const o=Ws(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Pi(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const i=[];let r=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ws(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),Pi(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const i=e.strValue;return ib(n.params?ap(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=e}visitQuery(e,n){const i=n.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ws(r.delay):0;s&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=cb);let o=i;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),Pi(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const i=n.parentContext,r=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=n.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Pi(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const cb={};class lk{constructor(e,n,i,r,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new ub(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ws(i.duration)),null!=i.delay&&(r.delay=Ws(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=ap(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){const r=n||this.element,s=new lk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=cb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){const r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new bSe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(gSe,"."+this._enterClassName)).replace(ySe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function STe(t){return new I(3014,!1)}()),a}}class ub{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new ub(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||zs),this._currentKeyframe.set(n,zs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);const s=r&&r.params||{},o=function wSe(t,e){const n=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)n.set(s,zs)}else Ho(r,n)}),n}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=ap(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??zs),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ho(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===zs&&n.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=e.size?rb(e.values()):[],o=n.size?rb(n.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return ok(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class bSe extends ub{constructor(e,n,i,r,s,o,a=!1){super(e,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=i+n,a=n/o,l=Ho(e[0]);l.set("offset",0),s.push(l);const c=Ho(e[0]);c.set("offset",A8(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ho(e[d]);const f=h.get("offset");h.set("offset",A8((n+f*i)/o)),s.push(h)}i=o,n=0,r="",e=s}return ok(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function A8(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ck{}const ESe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class CSe extends ck{normalizePropertyName(e,n){return ik(e)}normalizeStyleValue(e,n,i,r){let s="";const o=i.toString().trim();if(ESe.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function _Te(t,e){return new I(3005,!1)}())}return o+s}}function M8(t,e,n,i,r,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const uk={};class R8{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return function ISe(t,e,n,i,r){return t.some(s=>s(e,n,i,r))}(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||uk,p=this.buildStyles(i,a&&a.params||uk,d),m=l&&l.params||uk,g=this.buildStyles(r,m,d),v=new Set,y=new Map,x=new Map,R="void"===r,j={params:xSe(m,h),delay:this.ast.options?.delay},K=u?[]:ak(e,n,this.ast.animation,s,o,p,g,j,c,d);let ye=0;if(K.forEach(qn=>{ye=Math.max(qn.duration+qn.delay,ye)}),d.length)return M8(n,this._triggerName,i,r,R,p,g,[],[],y,x,ye,d);K.forEach(qn=>{const _r=qn.element,H7=Oi(y,_r,new Set);qn.preStyleProps.forEach(Al=>H7.add(Al));const Pp=Oi(x,_r,new Set);qn.postStyleProps.forEach(Al=>Pp.add(Al)),_r!==n&&v.add(_r)});const en=rb(v.values());return M8(n,this._triggerName,i,r,R,p,g,K,en,y,x,ye)}}function xSe(t,e){const n=sp(e);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(n[i]=t[i]);return n}class DSe{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){const i=new Map,r=sp(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=ap(o,r,n));const l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),i.set(a,o)})}),i}}class SSe{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new DSe(r.style,r.options&&r.options.params||{},i))}),k8(this.states,"true","1"),k8(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new R8(e,r,this.states))}),this.fallbackTransition=function ASe(t,e,n){return new R8(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(o=>o.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}function k8(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const MSe=new lb;class RSe{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const i=[],s=rk(this._driver,n,i,[]);if(i.length)throw function PTe(t){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,i){const r=e.element,s=p8(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){const r=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=ak(this._driver,n,s,JR,eb,new Map,new Map,i,MSe,r),o.forEach(u=>{const d=Oi(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function FTe(){return new I(3300,!1)}()),o=[]),r.length)throw function LTe(t){return new I(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,zs))})});const c=zo(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function VTe(t){return new I(3301,!1)}();return n}listen(e,n,i,r){const s=QR(n,"","","");return KR(this._getPlayer(e),i,s,r),()=>{}}command(e,n,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,n,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const N8="ng-animate-queued",dk="ng-animate-disabled",FSe=[],O8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},LSe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qi="__ng_removed";class hk{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const i=e&&e.hasOwnProperty("value");if(this.value=function jSe(t){return t??null}(i?e.value:e),i){const s=sp(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const lp="void",fk=new hk(lp);class VSe{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xi(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw function BTe(t,e){return new I(3302,!1)}();if(null==i||0==i.length)throw function UTe(t){return new I(3303,!1)}();if(!function $Se(t){return"start"==t||"done"==t}(i))throw function jTe(t,e){return new I(3400,!1)}();const s=Oi(this._elementListeners,e,[]),o={name:n,phase:i,callback:r};s.push(o);const a=Oi(this._engine.statesByElement,e,new Map);return a.has(n)||(Xi(e,tb),Xi(e,tb+"-"+n),a.set(n,fk)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function $Te(t){return new I(3401,!1)}();return n}trigger(e,n,i,r=!0){const s=this._getTrigger(n),o=new pk(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Xi(e,tb),Xi(e,tb+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n);const c=new hk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=fk),c.value!==lp&&l.value===c.value){if(!function GSe(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{_l(e,g),Qr(e,v)})}return}const h=Oi(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Xi(e,N8),o.onStart(()=>{Fu(e,N8)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const i=this._engine.driver.query(e,nb,!0);i.forEach(r=>{if(r[Qi])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,lp,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),i&&zo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){const r=new Set;n.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||fk,u=new hk(lp),d=new pk(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{const s=e[Qi];(!s||s===O8)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Xi(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=QR(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,KR(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let n=!1;return this._elementListeners.has(e)&&(n=!0),n=!!this._queue.find(i=>i.element===e)||n,n}}class BSe{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){const i=new VSe(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(n))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}return n}trigger(e,n,i,r){if(db(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!db(n))return;const s=n[Qi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xi(e,dk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fu(e,dk))}removeNode(e,n,i){if(db(n)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,s){this.collectedLeaveElements.push(n),n[Qi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,i,r,s){return db(n)?this._fetchNamespace(e).listen(n,i,r,s):()=>{}}_buildInstruction(e,n,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,nb,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,ek,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Qi];if(n&&n.setForRemoval){if(e[Qi]=O8,n.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(dk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Xi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?zo(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function zTe(t){return new I(3402,!1)}()}_flushAnimations(e,n){const i=new lb,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(z=>{u.add(z);const Y=this.driver.query(z,".ng-animate-queued",!0);for(let Q=0;Q<Y.length;Q++)u.add(Y[Q])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=L8(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((z,Y)=>{const Q=JR+m++;p.set(Y,Q),z.forEach(Ae=>Xi(Ae,Q))});const g=[],v=new Set,y=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const Y=this.collectedLeaveElements[z],Q=Y[Qi];Q&&Q.setForRemoval&&(g.push(Y),v.add(Y),Q.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(Ae=>v.add(Ae)):y.add(Y))}const x=new Map,R=L8(h,Array.from(v));R.forEach((z,Y)=>{const Q=eb+m++;x.set(Y,Q),z.forEach(Ae=>Xi(Ae,Q))}),e.push(()=>{f.forEach((z,Y)=>{const Q=p.get(Y);z.forEach(Ae=>Fu(Ae,Q))}),R.forEach((z,Y)=>{const Q=x.get(Y);z.forEach(Ae=>Fu(Ae,Q))}),g.forEach(z=>{this.processLeaveNode(z)})});const j=[],K=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(n).forEach(Q=>{const Ae=Q.player,mn=Q.element;if(j.push(Ae),this.collectedEnterElements.length){const Kn=mn[Qi];if(Kn&&Kn.setForMove){if(Kn.previousTriggersValues&&Kn.previousTriggersValues.has(Q.triggerName)){const Ml=Kn.previousTriggersValues.get(Q.triggerName),Ji=this.statesByElement.get(Q.element);if(Ji&&Ji.has(Q.triggerName)){const Kb=Ji.get(Q.triggerName);Kb.value=Ml,Ji.set(Q.triggerName,Kb)}}return void Ae.destroy()}}const ns=!d||!this.driver.containsElement(d,mn),Vi=x.get(mn),ta=p.get(mn),Et=this._buildInstruction(Q,i,ta,Vi,ns);if(Et.errors&&Et.errors.length)return void K.push(Et);if(ns)return Ae.onStart(()=>_l(mn,Et.fromStyles)),Ae.onDestroy(()=>Qr(mn,Et.toStyles)),void r.push(Ae);if(Q.isFallbackTransition)return Ae.onStart(()=>_l(mn,Et.fromStyles)),Ae.onDestroy(()=>Qr(mn,Et.toStyles)),void r.push(Ae);const q7=[];Et.timelines.forEach(Kn=>{Kn.stretchStartingKeyframe=!0,this.disabledNodes.has(Kn.element)||q7.push(Kn)}),Et.timelines=q7,i.append(mn,Et.timelines),o.push({instruction:Et,player:Ae,element:mn}),Et.queriedElements.forEach(Kn=>Oi(a,Kn,[]).push(Ae)),Et.preStyleProps.forEach((Kn,Ml)=>{if(Kn.size){let Ji=l.get(Ml);Ji||l.set(Ml,Ji=new Set),Kn.forEach((Kb,TN)=>Ji.add(TN))}}),Et.postStyleProps.forEach((Kn,Ml)=>{let Ji=c.get(Ml);Ji||c.set(Ml,Ji=new Set),Kn.forEach((Kb,TN)=>Ji.add(TN))})});if(K.length){const z=[];K.forEach(Y=>{z.push(function HTe(t,e){return new I(3505,!1)}())}),j.forEach(Y=>Y.destroy()),this.reportError(z)}const ye=new Map,en=new Map;o.forEach(z=>{const Y=z.element;i.has(Y)&&(en.set(Y,Y),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,ye))}),r.forEach(z=>{const Y=z.element;this._getPreviousPlayers(Y,!1,z.namespaceId,z.triggerName,null).forEach(Ae=>{Oi(ye,Y,[]).push(Ae),Ae.destroy()})});const qn=g.filter(z=>B8(z,l,c)),_r=new Map;F8(_r,this.driver,y,c,zs).forEach(z=>{B8(z,l,c)&&qn.push(z)});const Pp=new Map;f.forEach((z,Y)=>{F8(Pp,this.driver,new Set(z),l,"!")}),qn.forEach(z=>{const Y=_r.get(z),Q=Pp.get(z);_r.set(z,new Map([...Y?.entries()??[],...Q?.entries()??[]]))});const Al=[],G7=[],W7={};o.forEach(z=>{const{element:Y,player:Q,instruction:Ae}=z;if(i.has(Y)){if(u.has(Y))return Q.onDestroy(()=>Qr(Y,Ae.toStyles)),Q.disabled=!0,Q.overrideTotalTime(Ae.totalTime),void r.push(Q);let mn=W7;if(en.size>1){let Vi=Y;const ta=[];for(;Vi=Vi.parentNode;){const Et=en.get(Vi);if(Et){mn=Et;break}ta.push(Vi)}ta.forEach(Et=>en.set(Et,mn))}const ns=this._buildAnimation(Q.namespaceId,Ae,ye,s,Pp,_r);if(Q.setRealPlayer(ns),mn===W7)Al.push(Q);else{const Vi=this.playersByElement.get(mn);Vi&&Vi.length&&(Q.parentPlayer=zo(Vi)),r.push(Q)}}else _l(Y,Ae.fromStyles),Q.onDestroy(()=>Qr(Y,Ae.toStyles)),G7.push(Q),u.has(Y)&&r.push(Q)}),G7.forEach(z=>{const Y=s.get(z.element);if(Y&&Y.length){const Q=zo(Y);z.setRealPlayer(Q)}}),r.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<g.length;z++){const Y=g[z],Q=Y[Qi];if(Fu(Y,eb),Q&&Q.hasAnimation)continue;let Ae=[];if(a.size){let ns=a.get(Y);ns&&ns.length&&Ae.push(...ns);let Vi=this.driver.query(Y,ek,!0);for(let ta=0;ta<Vi.length;ta++){let Et=a.get(Vi[ta]);Et&&Et.length&&Ae.push(...Et)}}const mn=Ae.filter(ns=>!ns.destroyed);mn.length?zSe(this,Y,mn):this.processLeaveNode(Y)}return g.length=0,Al.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const Y=this.players.indexOf(z);this.players.splice(Y,1)}),z.play()}),Al}elementContainsData(e,n){let i=!1;const r=n[Qi];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(e).elementContainsData(n)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==lp;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,n,i){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const l of n.timelines){const c=l.element,u=c!==s,d=Oi(i,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}_l(s,n.fromStyles)}_buildAnimation(e,n,i,r,s,o){const a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{const m=p.element;u.add(m);const g=m[Qi];if(g&&g.removedBeforeQueried)return new Qf(p.duration,p.delay);const v=m!==l,y=function HSe(t){const e=[];return V8(t,e),e}((i.get(m)||FSe).map(ye=>ye.getRealPlayer())).filter(ye=>!!ye.element&&ye.element===m),x=s.get(m),R=o.get(m),j=p8(this._normalizer,p.keyframes,x,R),K=this._buildPlayer(p,j,y);if(p.subTimeline&&r&&d.add(m),v){const ye=new pk(e,a,m);ye.setRealPlayer(K),c.push(ye)}return K});c.forEach(p=>{Oi(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function USe(t,e,n){let i=t.get(e);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Xi(p,w8));const f=zo(h);return f.onDestroy(()=>{u.forEach(p=>Fu(p,w8)),Qr(l,n.toStyles)}),d.forEach(p=>{Oi(r,p,[]).push(f)}),f}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Qf(e.duration,e.delay)}}class pk{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Qf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>KR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Oi(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function db(t){return t&&1===t.nodeType}function P8(t,e){const n=t.style.display;return t.style.display=e??"none",n}function F8(t,e,n,i,r){const s=[];n.forEach(l=>s.push(P8(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Qi]=LSe,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>P8(l,s[a++])),o}function L8(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=n.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&n.get(l).push(a)}),n}function Xi(t,e){t.classList?.add(e)}function Fu(t,e){t.classList?.remove(e)}function zSe(t,e,n){zo(n).onDone(()=>t.processLeaveNode(e))}function V8(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof pq?V8(i.players,e):e.push(i)}}function B8(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(s=>r.add(s)):e.set(t,i),n.delete(t),!0}class hb{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new BSe(e,n,i),this._timelineEngine=new RSe(e,n,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,n,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=rk(this._driver,s,l,[]);if(l.length)throw function NTe(t,e){return new I(3404,!1)}();a=function TSe(t,e,n){return new SSe(t,e,n)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if("@"==i.charAt(0)){const[s,o]=m8(i);this._timelineEngine.command(s,n,o,r)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,s){if("@"==i.charAt(0)){const[o,a]=m8(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let qSe=(()=>{class e{constructor(i,r,s){this._element=i,this._startStyles=r,this._endStyles=s,this._state=0;let o=e.initialStylesByElement.get(i);o||e.initialStylesByElement.set(i,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Qr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qr(this._element,this._initialStyles),this._endStyles&&(Qr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(_l(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_l(this._element,this._endStyles),this._endStyles=null),Qr(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function mk(t){let e=null;return t.forEach((n,i)=>{(function KSe(t){return"display"===t||"position"===t})(i)&&(e=e||new Map,e.set(i,n))}),e}class U8{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:x8(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class YSe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return _8(e,n)}getParentElement(e){return XR(e)}query(e,n,i){return y8(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}animate(e,n,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof U8);(function nSe(t,e){return 0===t||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function JTe(t){return t.length?t[0]instanceof Map?t:t.map(e=>E8(e)):[]}(n).map(f=>Ho(f));d=function iSe(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,x8(t,a)))}}return e}(e,d,c);const h=function WSe(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=mk(e[0]),e.length>1&&(i=mk(e[e.length-1]))):e instanceof Map&&(n=mk(e)),n||i?new qSe(t,n,i):null}(e,d);return new U8(e,d,l,h)}}let QSe=(()=>{var t;class e extends aq{constructor(i,r){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(r.body,{id:"0",encapsulation:Ui.None,styles:[],data:{animation:[]}})}build(i){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(i)?uq(i):i;return j8(this._renderer,null,r,"register",[s]),new XSe(r,this._renderer)}}return(t=e).\u0275fac=function(i){return new(i||t)(C(xd),C(de))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();class XSe extends jCe{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new ZSe(this._id,e,n||{},this._renderer)}}class ZSe{constructor(e,n,i,r){this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return j8(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function j8(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const $8="@.disabled";let JSe=(()=>{var t;class e{constructor(i,r,s){this.delegate=i,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,a)=>{const l=a?.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(i,r){const o=this.delegate.createRenderer(i,r);if(!(i&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(o);return d||(d=new z8("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const a=r.id,l=r.id+"-"+this._currentId;this._currentId++,this.engine.register(l,i);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(a,l,i,d.name,d)};return r.data.animation.forEach(c),new eAe(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,s){i>=0&&i<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(i){return new(i||t)(C(xd),C(hb),C(q))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();class z8{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>n.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){"@"==n.charAt(0)&&n==$8?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class eAe extends z8{constructor(e,n,i,r,s){super(n,i,r,s),this.factory=e,this.namespaceId=n}setProperty(e,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==$8?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if("@"==n.charAt(0)){const r=function tAe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function nAe(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,n,i)}}let iAe=(()=>{var t;class e extends hb{constructor(i,r,s,o){super(i.body,r,s)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(i){return new(i||t)(C(de),C(ZR),C(ck),C(ao))},t.\u0275prov=k({token:t,factory:t.\u0275fac}),e})();const H8=[{provide:aq,useClass:QSe},{provide:ck,useFactory:function rAe(){return new CSe}},{provide:hb,useClass:iAe},{provide:xd,useFactory:function sAe(t,e,n){return new JSe(t,e,n)},deps:[TC,hb,q]}],gk=[{provide:ZR,useFactory:()=>new YSe},{provide:Dr,useValue:"BrowserAnimations"},...H8],G8=[{provide:ZR,useClass:v8},{provide:Dr,useValue:"NoopAnimations"},...H8];let oAe=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?G8:gk}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:gk,imports:[hU]}),e})();const W8="@firebase/database";let _k="";class lAe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),wn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:mh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class cAe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Is(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const K8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lAe(e)}}catch{}return new cAe},vl=K8("localStorage"),yk=K8("sessionStorage"),Lu=new Da("@firebase/database"),Y8=function(){let t=1;return function(){return t++}}(),Q8=function(t){const e=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,P(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e}(t),n=new Ace;n.update(e);const i=n.digest();return Xg.encodeByteArray(i)},cp=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=cp.apply(null,i):e+="object"==typeof i?wn(i):i,e+=" "}return e};let bl=null,X8=!0;const fn=function(...t){if(!0===X8&&(X8=!1,null===bl&&!0===yk.get("logging_enabled")&&function(t,e){P(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Lu.logLevel=xe.VERBOSE,bl=Lu.log.bind(Lu),e&&yk.set("logging_enabled",!0)):"function"==typeof t?bl=t:(bl=null,yk.remove("logging_enabled"))}(!0)),bl){const e=cp.apply(null,t);bl(e)}},up=function(t){return function(...e){fn(t,...e)}},vk=function(...t){const e="FIREBASE INTERNAL ERROR: "+cp(...t);Lu.error(e)},Xr=function(...t){const e=`FIREBASE FATAL ERROR: ${cp(...t)}`;throw Lu.error(e),new Error(e)},Wn=function(...t){const e="FIREBASE WARNING: "+cp(...t);Lu.warn(e)},pb=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Go="[MIN_NAME]",qs="[MAX_NAME]",wl=function(t,e){if(t===e)return 0;if(t===Go||e===qs)return-1;if(e===Go||t===qs)return 1;{const n=t9(t),i=t9(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}},hAe=function(t,e){return t===e?0:t<e?-1:1},dp=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+wn(e))},bk=function(t){if("object"!=typeof t||null===t)return wn(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)0!==i&&(n+=","),n+=wn(e[i]),n+=":",n+=bk(t[e[i]]);return n+="}",n},J8=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function pn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const e9=function(t){P(!pb(t),"Invalid JSON number");const i=1023;let r,s,o,a,l;0===t?(s=0,o=0,r=1/t==-1/0?1:0):(r=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},gAe=new RegExp("^-?(0*)\\d{1,10}$"),t9=function(t){if(gAe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Vu=function(t){try{t()}catch(e){setTimeout(()=>{throw Wn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},hp=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class bAe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Wn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wAe{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wn(e)}}let fp=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const o9=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,c9="websocket",u9="long_polling";class Ek{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function d9(t,e,n){let i;if(P("string"==typeof e,"typeof type must == string"),P("object"==typeof n,"typeof params must == object"),e===c9)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==u9)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function EAe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const r=[];return pn(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class CAe{constructor(){this.counters_={}}incrementCounter(e,n=1){Is(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return gce(this.counters_)}}const Ck={},Ik={};function xk(t){const e=t.toString();return Ck[e]||(Ck[e]=new CAe),Ck[e]}class xAe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Vu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wo{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=up(e),this.stats_=xk(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),d9(n,u9,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xAe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dk((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&o9.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wo.forceAllow_=!0}static forceDisallow(){Wo.forceDisallow_=!0}static isAvailable(){return!(!Wo.forceAllow_&&(Wo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=wn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Dj(n),r=J8(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=wn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Dk{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Y8(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Dk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){fn("frame writing exception"),a.stack&&fn(a.stack),fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||fn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return n+=i,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let gb=null;typeof MozWebSocket<"u"?gb=MozWebSocket:typeof WebSocket<"u"&&(gb=WebSocket);let Bu=(()=>{class t{constructor(n,i,r,s,o,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=up(this.connId),this.stats_=xk(i),this.connURL=t.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&o9.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),s&&(a.ac=s),o&&(a.p=o),d9(n,c9,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vl.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new gb(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&null!==gb&&!t.forceDisallow_}static previouslyFailed(){return vl.isInMemoryStorage||!0===vl.get("previous_websocket_failure")}markConnectionHealthy(){vl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=mh(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(P(null===this.frames,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const i=wn(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=J8(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),y9=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Wo,Bu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const i=Bu&&Bu.isAvailable();let r=i&&!Bu.previouslyFailed();if(n.webSocketOnly&&(i||Wn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Bu];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class x9{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=up("c:"+this.id+":"),this.transportManager_=new y9(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=hp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=dp("t",e),i=dp("d",e);if("c"===n)this.onSecondaryControl_(i);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=dp("t",e),i=dp("d",e);"c"===n?this.onControl_(i):"d"===n&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=dp("t",e);if("d"in e){const i=e.d;if("h"===n){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(i):"r"===n?this.onReset_(i):"e"===n?vk("Server Error: "+i):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vk("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==i&&Wn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),hp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class D9{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}class T9{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class _b extends T9{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _b}getInitialEvent(e){return P("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class je{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Oe(){return new je("")}function fe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qo(t){return t.pieces_.length-t.pieceNum_}function Ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new je(t.pieces_,e)}function Sk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function M9(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new je(e,0)}function pt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof je)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new je(n,0)}function pe(t){return t.pieceNum_>=t.pieces_.length}function si(t,e){const n=fe(t),i=fe(e);if(null===n)return e;if(n===i)return si(Ke(t),Ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ak(t,e){if(qo(t)!==qo(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Zi(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(qo(t)>qo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class KAe{constructor(e,n){this.errorPrefix_=n,this.parts_=pp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=s_(this.parts_[i]);R9(this)}}function R9(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+El(t))}function El(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Mk extends T9{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Mk}getInitialEvent(e){return P("visible"===e,"Unknown event type: "+e),[this.visible_]}}const mp=1e3;let vb,Cl=(()=>{class t extends D9{constructor(n,i,r,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=up("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mk.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&_b.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){const s=++this.requestNumber_,o={r:s,a:n,b:i};this.log_(wn(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(n){this.initConnection_();const i=new Pc,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(n,i,r,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),P(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:i,query:n,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){const i=n.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};n.tag&&(o.q=i._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;t.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===n&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&"object"==typeof n&&Is(n,"w")){const r=Fc(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Wn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=t_(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=function(t){const n=t_(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",r={cred:n};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,r=n.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){const r=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),P(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,n._queryObject,i)}sendUnlisten_(n,i,r,s){this.log_("Unlisten on "+n+" for "+i);const o={p:n};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,i,r,s){this.putInternal("p",n,i,r,s)}merge(n,i,r,s){this.putInternal("m",n,i,r,s)}putInternal(n,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+wn(n));const i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),"d"===n?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===n?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===n?this.onListenRevoked_(i.p,i.q):"ac"===n?this.onAuthRevoked_(i.s,i.d):"apc"===n?this.onAppCheckRevoked_(i.s,i.d):"sd"===n?this.onSecurityDebugPacket_(i):vk("Unrecognized action received from server: "+wn(n)+"\nAre you using the latest client?")}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mp,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=mp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return _(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const i=n.onDataMessage_.bind(n),r=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};n.realtime_={close:u,sendRequest:function(f){P(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?fn("getToken() completed but was canceled"):(fn("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new x9(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,i,r,s,m=>{Wn(m+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&Wn(f),u())}}})()}interrupt(n){fn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){fn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],aI(this.interruptReasons_)&&(this.reconnectDelay_=mp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;r=i?i.map(o=>bk(o)).join("$"):"default";const s=this.removeListen_(n,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,i){const r=new je(n).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(n,i){fn("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){fn("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";n["sdk."+i+"."+_k.replace(/\./g,"-")]=1,rI()?n["framework.cordova"]=1:Nj()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=_b.getInstance().currentlyOnline();return aI(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}class yb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new _e(Go,e),r=new _e(Go,n);return 0!==this.compare(i,r)}minPost(){return _e.MIN}}class O9 extends yb{static get __EMPTY_NODE(){return vb}static set __EMPTY_NODE(e){vb=e}compare(e,n){return wl(e.name,n.name)}isDefinedOn(e){throw Oc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(qs,vb)}makePost(e,n){return P("string"==typeof e,"KeyIndex indexValue must always be a string."),new _e(e,vb)}toString(){return".key"}}const Zr=new O9;class bb{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let kk,pr=(()=>{class t{constructor(n,i,r,s,o){this.key=n,this.value=i,this.color=r??t.RED,this.left=s??bi.EMPTY_NODE,this.right=o??bi.EMPTY_NODE}copy(n,i,r,s,o){return new t(n??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let s=this;const o=r(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(n,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return bi.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,s;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(n,r.key)){if(r.right.isEmpty())return bi.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class bi{constructor(e,n=bi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new bi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pr.BLACK,null,null))}remove(e){return new bi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pr.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),0===n)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),0===n){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}n<0?i=i.left:n>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bb(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bb(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bb(this.root_,null,this.comparator_,!0,e)}}function nMe(t,e){return wl(t.name,e.name)}function Rk(t,e){return wl(t,e)}bi.EMPTY_NODE=new class tMe{copy(e,n,i,r,s){return this}insert(e,n,i){return new pr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const P9=function(t){return"number"==typeof t?"number:"+e9(t):"string:"+t},F9=function(t){if(t.isLeafNode()){const e=t.val();P("string"==typeof e||"number"==typeof e||"object"==typeof e&&Is(e,".sv"),"Priority must be a string or number.")}else P(t===kk||t.isEmpty(),"priority of unexpected type.");P(t===kk||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let L9,V9,B9,Uu=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,P(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),F9(this.priorityNode_)}static set __childrenNodeConstructor(n){L9=n}static get __childrenNodeConstructor(){return L9}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return pe(n)?this:".priority"===fe(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return".priority"===n?this.updatePriority(i):i.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const r=fe(n);return null===r?i:i.isEmpty()&&".priority"!==r?this:(P(".priority"!==r||1===qo(n),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+P9(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",n+="number"===i?e9(this.value_):this.value_,this.lazyHash_=Q8(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(P(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,r=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(i),o=t.VALUE_TYPE_ORDER.indexOf(r);return P(s>=0,"Unknown leaf type: "+i),P(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const nt=new class oMe extends yb{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return 0===s?wl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(qs,new Uu("[PRIORITY-POST]",B9))}makePost(e,n){const i=V9(e);return new _e(n,new Uu("[PRIORITY-POST]",i))}toString(){return".priority"}},aMe=Math.log(2);class lMe{constructor(e){this.count=parseInt(Math.log(e+1)/aMe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wb=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=t[l],h=n?n(d):d,new pr(h,d.node,pr.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=t[f],h=n?n(d):d,new pr(h,d.node,pr.BLACK,p,m)}},a=function(l){let c=null,u=null,d=t.length;const h=function(p,m){const g=d-p,v=d;d-=p;const y=r(g+1,v),x=t[g],R=n?n(x):x;f(new pr(R,x.node,m,null,y))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,pr.BLACK):(h(g,pr.BLACK),h(g,pr.RED))}return u}(new lMe(t.length));return new bi(i||e,a)};let Nk;const ju={};class Ks{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return P(ju&&nt,"ChildrenNode.ts has not been loaded"),Nk=Nk||new Ks({".priority":ju},{".priority":nt}),Nk}get(e){const n=Fc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof bi?n:null}hasIndex(e){return Is(this.indexSet_,e.toString())}addIndex(e,n){P(e!==Zr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(_e.Wrap);let a,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?wb(i,e.getCompare()):ju;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ks(u,c)}addToIndexes(e,n){const i=n_(this.indexes_,(r,s)=>{const o=Fc(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),r===ju){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(_e.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),wb(a,o.getCompare())}return ju}{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new _e(e.name,a))),l.insert(e,e.node)}});return new Ks(i,this.indexSet_)}removeFromIndexes(e,n){const i=n_(this.indexes_,r=>{if(r===ju)return r;{const s=n.get(e.name);return s?r.remove(new _e(e.name,s)):r}});return new Ks(i,this.indexSet_)}}let gp,ae=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&F9(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gp||(gp=new t(new bi(Rk),null,Ks.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gp}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const i=this.children_.get(n);return null===i?gp:i}}getChild(n){const i=fe(n);return null===i?this:this.getImmediateChild(i).getChild(Ke(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,i){if(P(i,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(i);{const r=new _e(n,i);let s,o;i.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(n,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?gp:this.priorityNode_;return new t(s,a,o)}}updateChild(n,i){const r=fe(n);if(null===r)return i;{P(".priority"!==fe(n)||1===qo(n),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ke(n),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(nt,(a,l)=>{i[a]=l.val(n),r++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+P9(this.getPriority().val())+":"),this.forEachChild(nt,(i,r)=>{const s=r.hash();""!==s&&(n+=":"+i+":"+s)}),this.lazyHash_=""===n?"":Q8(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new _e(n,i));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new _e(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new _e(i,this.children_.get(i)):null}forEachChild(n,i){const r=this.resolveIndex_(n);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,_e.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,_e.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===_p?-1:0}withIndex(n){if(n===Zr||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Zr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(nt),s=i.getIterator(nt);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Zr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const _p=new class cMe extends ae{constructor(){super(new bi(Rk),ae.EMPTY_NODE,Ks.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ae.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(_e,{MIN:{value:new _e(Go,ae.EMPTY_NODE)},MAX:{value:new _e(qs,_p)}}),O9.__EMPTY_NODE=ae.EMPTY_NODE,Uu.__childrenNodeConstructor=ae,function iMe(t){kk=t}(_p),function sMe(t){B9=t}(_p);const uMe=!0;function wt(t,e=null){if(null===t)return ae.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),P(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Uu(t,wt(e));if(t instanceof Array||!uMe){let n=ae.EMPTY_NODE;return pn(t,(i,r)=>{if(Is(t,i)&&"."!==i.substring(0,1)){const s=wt(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(wt(e))}{const n=[];let i=!1;if(pn(t,(o,a)=>{if("."!==o.substring(0,1)){const l=wt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new _e(o,l)))}}),0===n.length)return ae.EMPTY_NODE;const s=wb(n,nMe,o=>o.name,Rk);if(i){const o=wb(n,nt.getCompare());return new ae(s,wt(e),new Ks({".priority":o},{".priority":nt}))}return new ae(s,wt(e),Ks.Default)}}!function rMe(t){V9=t}(wt);class Ok extends yb{constructor(e){super(),this.indexPath_=e,P(!pe(e)&&".priority"!==fe(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return 0===s?wl(e.name,n.name):s}makePost(e,n){const i=wt(e),r=ae.EMPTY_NODE.updateChild(this.indexPath_,i);return new _e(n,r)}maxPost(){const e=ae.EMPTY_NODE.updateChild(this.indexPath_,_p);return new _e(qs,e)}toString(){return pp(this.indexPath_,0).join("/")}}const Pk=new class dMe extends yb{compare(e,n){const i=e.node.compareTo(n.node);return 0===i?wl(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const i=wt(e);return new _e(n,i)}toString(){return".value"}};function vp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class Lk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Go}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){const e=new Lk;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function j9(t){const e={};if(t.isDefault())return e;let n;if(t.index_===nt?n="$priority":t.index_===Pk?n="$value":t.index_===Zr?n="$key":(P(t.index_ instanceof Ok,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=wn(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=wn(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+wn(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=wn(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+wn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $9(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==nt&&(e.i=t.index_.toString()),e}class Cb extends D9{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=up("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Cb.getListenId_(e,i),a={};this.listens_[o]=a;const l=j9(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,i),Fc(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(h,null)}})}unlisten(e,n){const i=Cb.getListenId_(e,n);delete this.listens_[i]}get(e){const n=j9(e._queryParams),i=e._path.toString(),r=new Pc;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gh(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=mh(a.responseText)}catch{Wn("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&Wn("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class vMe{constructor(){this.rootNode_=ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Ib(){return{value:null,children:new Map}}function zu(t,e,n){if(pe(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const i=fe(e);t.children.has(i)||t.children.set(i,Ib()),zu(t.children.get(i),e=Ke(e),n)}}function jk(t,e,n){null!==t.value?n(e,t.value):function bMe(t,e){t.children.forEach((n,i)=>{e(i,n)})}(t,(i,r)=>{jk(r,new je(e.toString()+"/"+i),n)})}class wMe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&pn(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}class IMe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wMe(e);const i=1e4+2e4*Math.random();hp(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;pn(e,(r,s)=>{s>0&&Is(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),hp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Jr=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Jr||{});function Hk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class xb{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Jr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(pe(this.path)){if(null!=this.affectedTree.value)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new je(e));return new xb(Oe(),n,this.revert)}}return P(fe(this.path)===e,"operationForChild called for unrelated child."),new xb(Ke(this.path),this.affectedTree,this.revert)}}class Il{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Jr.OVERWRITE}operationForChild(e){return pe(this.path)?new Il(this.source,Oe(),this.snap.getImmediateChild(e)):new Il(this.source,Ke(this.path),this.snap)}}class Hu{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Jr.MERGE}operationForChild(e){if(pe(this.path)){const n=this.children.subtree(new je(e));return n.isEmpty()?null:n.value?new Il(this.source,Oe(),n.value):new Hu(this.source,Oe(),n)}return P(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hu(this.source,Ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ko{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=fe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Ep(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>function SMe(t,e,n){if(null==e.childName||null==n.childName)throw Oc("Should only compare child_ events.");const i=new _e(e.childName,e.snapshotNode),r=new _e(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,a,l)),o.forEach(a=>{const l=function TMe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Db(t,e){return{eventCache:t,serverCache:e}}function Cp(t,e,n,i){return Db(new Ko(e,n,i),t.serverCache)}function H9(t,e,n,i){return Db(t.eventCache,new Ko(e,n,i))}function Tb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Gk;class it{constructor(e,n=(()=>(Gk||(Gk=new bi(hAe)),Gk))()){this.value=e,this.children=n}static fromObject(e){let n=new it(null);return pn(e,(i,r)=>{n=n.set(new je(i),r)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Oe(),value:this.value};if(pe(e))return null;{const i=fe(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Ke(e),n);return null!=s?{path:pt(new je(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const n=fe(e),i=this.children.get(n);return null!==i?i.subtree(Ke(e)):new it(null)}}set(e,n){if(pe(e))return new it(n,this.children);{const i=fe(e),s=(this.children.get(i)||new it(null)).set(Ke(e),n),o=this.children.insert(i,s);return new it(this.value,o)}}remove(e){if(pe(e))return this.children.isEmpty()?new it(null):new it(null,this.children);{const n=fe(e),i=this.children.get(n);if(i){const r=i.remove(Ke(e));let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?new it(null):new it(this.value,s)}return this}}get(e){if(pe(e))return this.value;{const n=fe(e),i=this.children.get(n);return i?i.get(Ke(e)):null}}setTree(e,n){if(pe(e))return n;{const i=fe(e),s=(this.children.get(i)||new it(null)).setTree(Ke(e),n);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new it(this.value,o)}}fold(e){return this.fold_(Oe(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(pt(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Oe(),n)}findOnPath_(e,n,i){const r=!!this.value&&i(n,this.value);if(r)return r;if(pe(e))return null;{const s=fe(e),o=this.children.get(s);return o?o.findOnPath_(Ke(e),pt(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Oe(),n)}foreachOnPath_(e,n,i){if(pe(e))return this;{this.value&&i(n,this.value);const r=fe(e),s=this.children.get(r);return s?s.foreachOnPath_(Ke(e),pt(n,r),i):new it(null)}}foreach(e){this.foreach_(Oe(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(pt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}class mr{constructor(e){this.writeTree_=e}static empty(){return new mr(new it(null))}}function Ip(t,e,n){if(pe(e))return new mr(new it(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=si(r,e);return s=s.updateChild(o,n),new mr(t.writeTree_.set(r,s))}{const r=new it(n),s=t.writeTree_.setTree(e,r);return new mr(s)}}}function Wk(t,e,n){let i=t;return pn(n,(r,s)=>{i=Ip(i,pt(e,r),s)}),i}function G9(t,e){if(pe(e))return mr.empty();{const n=t.writeTree_.setTree(e,new it(null));return new mr(n)}}function qk(t,e){return null!=Dl(t,e)}function Dl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(si(n.path,e)):null}function W9(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(nt,(i,r)=>{e.push(new _e(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new _e(i,r.value))}),e}function Yo(t,e){if(pe(e))return t;{const n=Dl(t,e);return new mr(null!=n?new it(n):t.writeTree_.subtree(e))}}function Kk(t){return t.writeTree_.isEmpty()}function Gu(t,e){return q9(Oe(),t.writeTree_,e)}function q9(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?(P(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):n=q9(pt(t,r),s,n)}),!n.getChild(t).isEmpty()&&null!==i&&(n=n.updateChild(pt(t,".priority"),i)),n}}function Sb(t,e){return Z9(e,t)}function OMe(t,e){if(t.snap)return Zi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Zi(pt(t.path,n),e))return!0;return!1}function FMe(t){return t.visible}function K9(t,e,n){let i=mr.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)Zi(n,o)?(a=si(n,o),i=Ip(i,a,s.snap)):Zi(o,n)&&(a=si(o,n),i=Ip(i,Oe(),s.snap.getChild(a)));else{if(!s.children)throw Oc("WriteRecord should have .snap or .children");if(Zi(n,o))a=si(n,o),i=Wk(i,a,s.children);else if(Zi(o,n))if(a=si(o,n),pe(a))i=Wk(i,Oe(),s.children);else{const l=Fc(s.children,fe(a));if(l){const c=l.getChild(Ke(a));i=Ip(i,Oe(),c)}}}}}return i}function Y9(t,e,n,i,r){if(i||r){const s=Yo(t.visibleWrites,e);return!r&&Kk(s)?n:r||null!=n||qk(s,Oe())?Gu(K9(t.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Zi(c.path,e)||Zi(e,c.path))},e),n||ae.EMPTY_NODE):null}{const s=Dl(t.visibleWrites,e);if(null!=s)return s;{const o=Yo(t.visibleWrites,e);return Kk(o)?n:null!=n||qk(o,Oe())?Gu(o,n||ae.EMPTY_NODE):null}}}function Ab(t,e,n,i){return Y9(t.writeTree,t.treePath,e,n,i)}function Yk(t,e){return function LMe(t,e,n){let i=ae.EMPTY_NODE;const r=Dl(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(nt,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Yo(t.visibleWrites,e);return n.forEachChild(nt,(o,a)=>{const l=Gu(Yo(s,new je(o)),a);i=i.updateImmediateChild(o,l)}),W9(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return W9(Yo(t.visibleWrites,e)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(t.writeTree,t.treePath,e)}function Q9(t,e,n,i){return function VMe(t,e,n,i,r){P(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=pt(e,n);if(qk(t.visibleWrites,s))return null;{const o=Yo(t.visibleWrites,s);return Kk(o)?r.getChild(n):Gu(o,r.getChild(n))}}(t.writeTree,t.treePath,e,n,i)}function Mb(t,e){return function UMe(t,e){return Dl(t.visibleWrites,e)}(t.writeTree,pt(t.treePath,e))}function Qk(t,e,n){return function BMe(t,e,n,i){const r=pt(e,n),s=Dl(t.visibleWrites,r);return null!=s?s:i.isCompleteForChild(n)?Gu(Yo(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function X9(t,e){return Z9(pt(t.treePath,e),t.writeTree)}function Z9(t,e){return{treePath:t,writeTree:e}}class HMe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;P("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),P(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(i,vp(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(i,function yp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(i,r.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(i,function $u(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(i,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Oc("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,vp(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const J9=new class GMe{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}};class Xk{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Ko(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qk(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xl(this.viewCache_),s=function zMe(t,e,n,i,r,s){return function jMe(t,e,n,i,r,s,o){let a;const l=Yo(t.visibleWrites,e),c=Dl(l,Oe());if(null!=c)a=c;else{if(null==n)return[];a=Gu(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(t.writeTree,t.treePath,e,n,i,r,s)}(this.writes_,r,n,1,i,e);return 0===s.length?null:s[0]}}function e7(t,e,n,i,r,s){const o=e.eventCache;if(null!=Mb(i,n))return e;{let a,l;if(pe(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=xl(e),d=Yk(i,c instanceof ae?c:ae.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Ab(i,xl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=fe(n);if(".priority"===c){P(1===qo(n),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Q9(i,n,u,l);a=null!=d?t.filter.updatePriority(u,d):o.getNode()}else{const u=Ke(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Q9(i,n,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=Qk(i,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,u,r,s):o.getNode()}}return Cp(e,a,o.isFullyInitialized()||pe(n),t.filter.filtersNodes())}}function Rb(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(pe(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=fe(n);if(!l.isCompleteForPath(n)&&qo(n)>1)return e;const p=Ke(n),g=l.getNode().getImmediateChild(f).updateChild(p,i);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,J9,null)}const d=H9(e,c,l.isFullyInitialized()||pe(n),u.filtersNodes());return e7(t,d,n,r,new Xk(r,d,s),a)}function Zk(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new Xk(r,e,s);if(pe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Cp(e,c,!0,t.filter.filtersNodes());else{const d=fe(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Cp(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ke(n),f=a.getNode().getImmediateChild(d);let p;if(pe(h))p=i;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===Sk(h)&&m.getChild(M9(h)).isEmpty()?m:m.updateChild(h,i):ae.EMPTY_NODE}l=f.equals(p)?e:Cp(e,t.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function t7(t,e){return t.eventCache.isCompleteForChild(e)}function n7(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Jk(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=pe(n)?i:new it(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=n7(0,e.serverCache.getNode().getImmediateChild(d),h);l=Rb(t,l,new je(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const m=n7(0,e.serverCache.getNode().getImmediateChild(d),h);l=Rb(t,l,new je(d),m,r,s,o,a)}}),l}function i1e(t,e){const n=xl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pe(e)&&!n.getImmediateChild(fe(e)).isEmpty())?n.getChild(e):null}function s7(t,e,n,i){e.type===Jr.MERGE&&null!==e.source.queryId&&(P(xl(t.viewCache_),"We should always have a full cache before handling merges"),P(Tb(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=function KMe(t,e,n,i,r){const s=new HMe;let o,a;if(n.type===Jr.OVERWRITE){const c=n;c.source.fromUser?o=Zk(t,e,c.path,c.snap,i,r,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!pe(c.path),o=Rb(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===Jr.MERGE){const c=n;c.source.fromUser?o=function QMe(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=pt(n,l);t7(e,fe(u))&&(a=Zk(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=pt(n,l);t7(e,fe(u))||(a=Zk(t,a,u,c,r,s,o))}),a}(t,e,c.path,c.children,i,r,s):(P(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Jk(t,e,c.path,c.children,i,r,a,s))}else if(n.type===Jr.ACK_USER_WRITE){const c=n;o=c.revert?function JMe(t,e,n,i,r,s){let o;if(null!=Mb(i,n))return e;{const a=new Xk(i,e,r),l=e.eventCache.getNode();let c;if(pe(n)||".priority"===fe(n)){let u;if(e.serverCache.isFullyInitialized())u=Ab(i,xl(e));else{const d=e.serverCache.getNode();P(d instanceof ae,"serverChildren would be complete if leaf node"),u=Yk(i,d)}c=t.filter.updateFullNode(l,u,s)}else{const u=fe(n);let d=Qk(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?t.filter.updateChild(l,u,d,Ke(n),a,s):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(l,u,ae.EMPTY_NODE,Ke(n),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ab(i,xl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Mb(i,Oe()),Cp(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,i,r,s):function XMe(t,e,n,i,r,s,o){if(null!=Mb(r,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(pe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Rb(t,e,n,l.getNode().getChild(n),r,s,a,o);if(pe(n)){let c=new it(null);return l.getNode().forEachChild(Zr,(u,d)=>{c=c.set(new je(u),d)}),Jk(t,e,n,c,r,s,a,o)}return e}{let c=new it(null);return i.foreach((u,d)=>{const h=pt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Jk(t,e,n,c,r,s,a,o)}}(t,e,c.path,c.affectedTree,i,r,s)}else{if(n.type!==Jr.LISTEN_COMPLETE)throw Oc("Unknown operation type: "+n.type);o=function ZMe(t,e,n,i,r){const s=e.serverCache;return e7(t,H9(e,s.getNode(),s.isFullyInitialized()||pe(n),s.isFiltered()),n,i,J9,r)}(t,e,n.path,i,s)}const l=s.getChanges();return function YMe(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Tb(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(function U9(t){return{type:"value",snapshotNode:t}}(Tb(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,r,e,n,i);return function qMe(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function o7(t,e,n,i){return function DMe(t,e,n,i){const r=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function hMe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),Ep(t,r,"child_removed",e,i,n),Ep(t,r,"child_added",e,i,n),Ep(t,r,"child_moved",s,i,n),Ep(t,r,"child_changed",e,i,n),Ep(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let kb,Ob;function eN(t,e,n,i){const r=e.source.queryId;if(null!==r){const s=t.views.get(r);return P(null!=s,"SyncTree gave us an op for an invalid query."),s7(s,e,n,i)}{let s=[];for(const o of t.views.values())s=s.concat(s7(o,e,n,i));return s}}function Qo(t,e){let n=null;for(const i of t.views.values())n=n||i1e(i,e);return n}class h7{constructor(e){this.listenProvider_=e,this.syncPointTree_=new it(null),this.pendingWriteTree_=function $Me(){return{visibleWrites:mr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tN(t,e,n,i,r){return function MMe(t,e,n,i,r){P(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Ip(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?Wu(t,new Il({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Zo(t,e,n=!1){const i=function kMe(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function NMe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&OMe(a,i.path)?r=!1:Zi(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function PMe(t){t.visibleWrites=K9(t.allWrites,FMe,Oe()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=G9(t.visibleWrites,i.path):pn(i.children,l=>{t.visibleWrites=G9(t.visibleWrites,pt(i.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new it(null);return null!=i.snap?s=s.set(Oe(),!0):pn(i.children,o=>{s=s.set(new je(o),!0)}),Wu(t,new xb(i.path,s,n))}return[]}function xp(t,e,n){return Wu(t,new Il({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Fb(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=Qo(a,si(o,e));if(c)return c});return Y9(r,e,s,n,!0)}function Wu(t,e){return p7(e,t.syncPointTree_,null,Sb(t.pendingWriteTree_,Oe()))}function p7(t,e,n,i){if(pe(t.path))return m7(t,e,n,i);{const r=e.get(Oe());null==n&&null!=r&&(n=Qo(r,Oe()));let s=[];const o=fe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=X9(i,o);s=s.concat(p7(a,l,c,u))}return r&&(s=s.concat(eN(r,t,i,n))),s}}function m7(t,e,n,i){const r=e.get(Oe());null==n&&null!=r&&(n=Qo(r,Oe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=X9(i,o),u=t.operationForChild(o);u&&(s=s.concat(m7(u,a,l,c)))}),r&&(s=s.concat(eN(r,t,i,n))),s}function iN(t,e){return t.tagToQueryMap.get(e)}function rN(t){const e=t.indexOf("$");return P(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new je(t.substr(0,e))}}function sN(t,e,n){const i=t.syncPointTree_.get(e);return P(i,"Missing sync point for query tag that we're tracking"),eN(i,n,Sb(t.pendingWriteTree_,e),null)}class oN{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oN(n)}node(){return this.node_}}class aN{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pt(this.path_,e);return new aN(this.syncTree_,n)}node(){return Fb(this.syncTree_,this.path_)}}const I1e=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},_7=function(t,e,n){return t&&"object"==typeof t?(P(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?x1e(t[".sv"],e,n):"object"==typeof t[".sv"]?D1e(t[".sv"],e):void P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},x1e=function(t,e,n){if("timestamp"===t)return n.timestamp;P(!1,"Unexpected server value: "+t)},D1e=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&P(!1,"Unexpected increment value: "+i);const r=e.node();if(P(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},y7=function(t,e,n,i){return cN(e,new aN(n,t),i)},lN=function(t,e,n){return cN(t,new oN(e),n)};function cN(t,e,n){const i=t.getPriority().val(),r=_7(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=_7(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Uu(a,wt(r)):t}{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Uu(r))),o.forEachChild(nt,(a,l)=>{const c=cN(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class uN{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Vb(t,e){let n=e instanceof je?e:new je(e),i=t,r=fe(n);for(;null!==r;){const s=Fc(i.node.children,r)||{children:{},childCount:0};i=new uN(r,i,s),n=Ke(n),r=fe(n)}return i}function Tl(t){return t.node.value}function dN(t,e){t.node.value=e,hN(t)}function v7(t){return t.node.childCount>0}function Bb(t,e){pn(t.node.children,(n,i)=>{e(new uN(n,t,i))})}function b7(t,e,n,i){n&&!i&&e(t),Bb(t,r=>{b7(r,e,!0,i)}),n&&i&&e(t)}function Sp(t){return new je(null===t.parent?t.name:Sp(t.parent)+"/"+t.name)}function hN(t){null!==t.parent&&function A1e(t,e,n){const i=function T1e(t){return void 0===Tl(t)&&!v7(t)}(n),r=Is(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,hN(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,hN(t))}(t.parent,t.name,t)}const M1e=/[\[\].#$\/\u0000-\u001F\u007F]/,R1e=/[\[\].#$\u0000-\u001F\u007F]/,fN=10485760,Ub=function(t){return"string"==typeof t&&0!==t.length&&!M1e.test(t)},Mp=function(t,e,n){const i=n instanceof je?new KAe(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+El(i));if("function"==typeof e)throw new Error(t+"contains a function "+El(i)+" with contents = "+e.toString());if(pb(e))throw new Error(t+"contains "+e.toString()+" "+El(i));if("string"==typeof e&&e.length>fN/3&&s_(e)>fN)throw new Error(t+"contains a string greater than "+fN+" utf8 bytes "+El(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(pn(e,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Ub(o)))throw new Error(t+" contains an invalid key ("+o+") "+El(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function YAe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=s_(e),R9(t)})(i,o),Mp(t,a,i),function QAe(t){const e=t.parts_.pop();t.byteLength_-=s_(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),r&&s)throw new Error(t+' contains ".value" child '+El(i)+" in addition to actual children.")}},C7=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ub(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!R1e.test(t)}(t)}(n))throw new Error(function r_(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class P1e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fi(t,e,n){(function jb(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==n&&!Ak(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)})(t,n),function x7(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];r&&(e(r.path)?(F1e(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,i=>Zi(i,e)||Zi(e,i))}function F1e(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const i=n.getEventRunner();bl&&fn("event: "+n.toString()),Vu(i)}}}const L1e=25;class V1e{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new P1e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ib(),this.transactionQueueTree_=new uN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function T7(t){const n=t.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function kp(t){return I1e({timestamp:T7(t)})}function S7(t,e,n,i,r){t.dataUpdateCount++;const s=new je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=n_(n,c=>wt(c));o=function y1e(t,e,n,i){const r=iN(t,i);if(r){const s=rN(r),o=s.path,a=s.queryId,l=si(o,e),c=it.fromObject(n);return sN(t,o,new Hu(Hk(a),l,c))}return[]}(t.serverSyncTree_,s,l,r)}else{const l=wt(n);o=function f7(t,e,n,i){const r=iN(t,i);if(null!=r){const s=rN(r),o=s.path,a=s.queryId,l=si(o,e);return sN(t,o,new Il(Hk(a),l,n))}return[]}(t.serverSyncTree_,s,l,r)}else if(i){const l=n_(n,c=>wt(c));o=function m1e(t,e,n){const i=it.fromObject(n);return Wu(t,new Hu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,l)}else{const l=wt(n);o=xp(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ku(t,s)),Fi(t.eventQueue_,a,o)}function A7(t,e){gN(t,"connected",e),!1===e&&function z1e(t){qu(t,"onDisconnectEvents");const e=kp(t),n=Ib();jk(t.onDisconnect_,Oe(),(r,s)=>{const o=y7(r,s,t.serverSyncTree_,e);zu(n,r,o)});let i=[];jk(n,Oe(),(r,s)=>{i=i.concat(xp(t.serverSyncTree_,r,s));const o=function bN(t,e){const n=Sp(k7(t,e)),i=Vb(t.transactionQueueTree_,e);return function S1e(t,e,n){let i=n?t:t.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{wN(t,r)}),wN(t,i),b7(i,r=>{wN(t,r)}),n}(t,r);Ku(t,o)}),t.onDisconnect_=Ib(),Fi(t.eventQueue_,Oe(),i)}(t)}function gN(t,e,n){const i=new je("/.info/"+e),r=wt(n);t.infoData_.updateSnapshot(i,r);const s=xp(t.infoSyncTree_,i,r);Fi(t.eventQueue_,i,s)}function $b(t){return t.nextWriteId_++}function qu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),fn(n,...e)}function vN(t,e,n){return Fb(t.serverSyncTree_,e,n)||ae.EMPTY_NODE}function zb(t,e=t.transactionQueueTree_){if(e||Hb(t,e),Tl(e)){const n=N7(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(r=>0===r.status)&&function Q1e(t,e,n){const i=n.map(c=>c.currentWriteId),r=vN(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];P(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=si(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{qu(t,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Zo(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Hb(t,Vb(t.transactionQueueTree_,e)),zb(t,t.transactionQueueTree_),Fi(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Vu(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Wn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ku(t,e)}},o)}(t,Sp(e),n)}else v7(e)&&Bb(e,n=>{zb(t,n)})}function Ku(t,e){const n=k7(t,e),i=Sp(n);return function X1e(t,e,n){if(0===e.length)return;const i=[];let r=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=si(n,l.path);let d,u=!1;if(P(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,r=r.concat(Zo(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=L1e)u=!0,d="maxretry",r=r.concat(Zo(t.serverSyncTree_,l.currentWriteId,!0));else{const h=vN(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Mp("transaction failed: Data returned ",f,l.path);let p=wt(f);"object"==typeof f&&null!=f&&Is(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,v=kp(t),y=lN(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=$b(t),o.splice(o.indexOf(g),1),r=r.concat(tN(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),r=r.concat(Zo(t.serverSyncTree_,g,!0))}else u=!0,d="nodata",r=r.concat(Zo(t.serverSyncTree_,l.currentWriteId,!0))}Fi(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Hb(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)Vu(i[a]);zb(t,t.transactionQueueTree_)}(t,N7(t,n),i),i}function k7(t,e){let n,i=t.transactionQueueTree_;for(n=fe(e);null!==n&&void 0===Tl(i);)i=Vb(i,n),n=fe(e=Ke(e));return i}function N7(t,e){const n=[];return O7(t,e,n),n.sort((i,r)=>i.order-r.order),n}function O7(t,e,n){const i=Tl(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Bb(e,r=>{O7(t,r,n)})}function Hb(t,e){const n=Tl(e);if(n){let i=0;for(let r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,dN(e,n.length>0?n:void 0)}Bb(e,i=>{Hb(t,i)})}function wN(t,e){const n=Tl(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Zo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?dN(e,void 0):n.length=s+1,Fi(t.eventQueue_,Sp(e),r);for(let o=0;o<i.length;o++)Vu(i[o])}}const EN=function(t,e){const n=eRe(t),i=n.namespace;return"firebase.com"===n.domain&&Xr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==n.domain&&Xr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ek(n.host,n.secure,i,"ws"===n.scheme||"wss"===n.scheme,e,"",i!==n.subdomain),path:new je(n.pathString)}},eRe=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=function Z1e(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(t.substring(u,d)));const h=function J1e(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Wn(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class Li{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return pe(this._path)?null:Sk(this._path)}get ref(){return new gr(this._repo,this._path)}get _queryIdentifier(){const e=$9(this._queryParams),n=bk(e);return"{}"===n?"default":n}get _queryObject(){return $9(this._queryParams)}isEqual(e){if(!((e=Xt(e))instanceof Li))return!1;const n=this._repo===e._repo,i=Ak(this._path,e._path);return n&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function WAe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class gr extends Li{constructor(e,n){super(e,n,new Lk,!1)}get parent(){const e=M9(this._path);return null===e?null:new gr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function o1e(t){P(!kb,"__referenceConstructor has already been defined"),kb=t})(gr),function d1e(t){P(!Ob,"__referenceConstructor has already been defined"),Ob=t}(gr);const IN={};class bRe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function B1e(t,e,n){if(t.stats_=xk(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Cb(t.repoInfo_,(i,r,s,o)=>{S7(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>A7(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Cl(t.repoInfo_,e,(i,r,s,o)=>{S7(t,i,r,s,o)},i=>{A7(t,i)},i=>{!function U1e(t,e){pn(e,(n,i)=>{gN(t,n,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function IAe(t,e){const n=t.toString();return Ik[n]||(Ik[n]=e()),Ik[n]}(t.repoInfo_,()=>new IMe(t.stats_,t.server_)),t.infoData_=new vMe,t.infoSyncTree_=new h7({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=xp(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),gN(t,"connected",!1),t.serverSyncTree_=new h7({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);Fi(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gr(this._repo,Oe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _Re(t,e){const n=IN[e];(!n||n[t.key]!==t)&&Xr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function R7(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xr("Cannot call "+e+" on a deleted database.")}}function wRe(t=l_(),e){const n=Aa(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Aj("database");i&&function ERe(t,e,n,i={}){(t=Xt(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Xr("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new fp(fp.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:kj(i.mockUserToken,t.app.options.projectId);s=new fp(o)}!function mRe(t,e,n,i){t.repoInfo_=new Ek(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(r,e,n,s)}(n,...i)}return n}Cl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Cl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function CRe(t){(function aAe(t){_k=t})(po),Bn(new En("database",(e,{instanceIdentifier:n})=>function gRe(t,e,n,i,r){let s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||Xr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=EN(s,r),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=EN(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const u=r&&l?new fp(fp.OWNER):new wAe(t.name,t.options,e);C7("Invalid Firebase Database URL",o),pe(o.path)||Xr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function yRe(t,e,n,i){let r=IN[e.name];r||(r={},IN[e.name]=r);let s=r[t.toURLString()];return s&&Xr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new V1e(t,!1,n,i),r[t.toURLString()]=s,s}(a,t,u,new bAe(t.name,n));return new bRe(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),at(W8,"0.14.4",t),at(W8,"0.14.4","esm2017")}();class xN{constructor(e){return e}}const z7="database",DN=new S("angularfire2.database-instances");function SRe(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new xN(i)}}const ARe={provide:class DRe{constructor(){return b_(z7)}},deps:[[new It,DN]]},MRe={provide:xN,useFactory:function TRe(t,e){const n=v_(z7,t,e);return n&&new xN(n)},deps:[[new It,DN],La]};let RRe=(()=>{class t{constructor(){at("angularfire",bh.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ke({type:t}),t.\u0275inj=Se({providers:[MRe,ARe]}),t})();function kRe(t,...e){return{ngModule:RRe,providers:[{provide:DN,useFactory:SRe(t),multi:!0,deps:[q,Rt,w_,E_,[new It,qS],[new It,M_],...e]}]}}const NRe=Fa(wRe,!0);let ORe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=ke({type:t,bootstrap:[dTe]}),t.\u0275inj=Se({imports:[hU,uTe,mIe,$De,rIe,IR,Kxe,nDe,XDe,oAe,ape(()=>lpe(W6_firebase)),$_e(()=>z_e()),kRe(()=>NRe()),G0e(()=>K0e())]}),e})();Roe().bootstrapModule(ORe).catch(t=>console.error(t))}},we=>{we(we.s=592)}]);